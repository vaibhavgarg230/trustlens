/*! For license information please see main.ce8896fa.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,r)=>{var n=r(853),s=r(43),a=r(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case x:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case w:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return R(e(t))}catch(r){}}return null}var O=Array.isArray,M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},I=[],F=-1;function z(e){return{current:e}}function B(e){0>F||(e.current=I[F],I[F]=null,F--)}function V(e,t){F++,I[F]=e.current,e.current=t}var U=z(null),H=z(null),W=z(null),q=z(null);function $(e,t){switch(V(W,t),V(H,e),V(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?au(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=iu(t=au(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(U),V(U,e)}function Y(){B(U),B(H),B(W)}function K(e){null!==e.memoizedState&&V(q,e);var t=U.current,r=iu(t,e.type);t!==r&&(V(H,e),V(U,r))}function Q(e){H.current===e&&(B(U),B(H)),q.current===e&&(B(q),Qu._currentValue=D)}var J=Object.prototype.hasOwnProperty,X=n.unstable_scheduleCallback,G=n.unstable_cancelCallback,Z=n.unstable_shouldYield,ee=n.unstable_requestPaint,te=n.unstable_now,re=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,se=n.unstable_UserBlockingPriority,ae=n.unstable_NormalPriority,ie=n.unstable_LowPriority,oe=n.unstable_IdlePriority,le=n.log,ce=n.unstable_setDisableYieldValue,de=null,ue=null;function he(e){if("function"===typeof le&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/pe|0)|0},me=Math.log,pe=Math.LN2;var ge=256,xe=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~a)?s=ye(n):0!==(i&=o)?s=ye(i):r||0!==(r=o&~e)&&(s=ye(r)):0!==(o=n&~a)?s=ye(o):0!==i?s=ye(i):r||0!==(r=n&~e)&&(s=ye(r)),0===s?0:0!==t&&t!==s&&0===(t&a)&&((a=s&-s)>=(r=t&-t)||32===a&&0!==(4194048&r))?t:s}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function je(){var e=xe;return 0===(62914560&(xe<<=1))&&(xe=4194304),e}function Ne(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fe(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&r}function Ce(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fe(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Te=Math.random().toString(36).slice(2),Re="__reactFiber$"+Te,Oe="__reactProps$"+Te,Me="__reactContainer$"+Te,Le="__reactEvents$"+Te,De="__reactListeners$"+Te,Ie="__reactHandles$"+Te,Fe="__reactResources$"+Te,ze="__reactMarker$"+Te;function Be(e){delete e[Re],delete e[Oe],delete e[Le],delete e[De],delete e[Ie]}function Ve(e){var t=e[Re];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Me]||r[Re]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=vu(e);null!==e;){if(r=e[Re])return r;e=vu(e)}return t}r=(e=r).parentNode}return null}function Ue(e){if(e=e[Re]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function We(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[ze]=!0}var $e=new Set,Ye={};function Ke(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ye[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var Je,Xe,Ge=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(s=t,J.call(et,s)||!J.call(Ze,s)&&(Ge.test(s)?et[s]=!0:(Ze[s]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var s}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function nt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function st(e){if(void 0===Je)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Xe=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Xe}var at=!1;function it(e,t){if(!e||at)return"";at=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(s){var n=s}Reflect.construct(e,[],r)}else{try{r.call()}catch(a){n=a}e.call(r.prototype)}}else{try{throw Error()}catch(i){n=i}(r=e())&&"function"===typeof r.catch&&r.catch((function(){}))}}catch(Dc){if(Dc&&n&&"string"===typeof Dc.stack)return[Dc.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),i=a[0],o=a[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(s=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(n===l.length||s===c.length)for(n=l.length-1,s=c.length-1;1<=n&&0<=s&&l[n]!==c[s];)s--;for(;1<=n&&0<=s;n--,s--)if(l[n]!==c[s]){if(1!==n||1!==s)do{if(n--,0>--s||l[n]!==c[s]){var d="\n"+l[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=s);break}}}finally{at=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?st(r):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return st("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dt(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function pt(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,r,n,s,a,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?yt(e,i,ct(t)):null!=r?yt(e,i,ct(r)):null!=n&&e.removeAttribute("value"),null==s&&null!=a&&(e.defaultChecked=!!a),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function xt(e,t,r,n,s,a,i,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=r){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;r=null!=r?""+ct(r):"",t=null!=t?""+ct(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:s)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function yt(e,t,r){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bt(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ct(r),t=null,s=0;s<e.length;s++){if(e[s].value===r)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function vt(e,t,r){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ct(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(i(92));if(O(n)){if(1<n.length)throw Error(i(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=ct(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function kt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||jt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function St(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&r[s]!==n&&Nt(e,s,n)}else for(var a in t)t.hasOwnProperty(a)&&Nt(e,a,t[a])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Ot=null;function Mt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var r=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=n[Oe]||null;if(!s)throw Error(i(90));gt(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ht(n)}break e;case"textarea":vt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&bt(e,!!r.multiple,t,!1)}}}var Lt=!1;function Dt(e,t,r){if(Lt)return e(t,r);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Rt||null!==Ot)&&(Uc(),Rt&&(t=Rt,e=Ot,Ot=Rt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function It(e,t){var r=e.stateNode;if(null===r)return null;var n=r[Oe]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Mh){zt=!1}var Vt=null,Ut=null,Ht=null;function Wt(){if(Ht)return Ht;var e,t,r=Ut,n=r.length,s="value"in Vt?Vt.value:Vt.textContent,a=s.length;for(e=0;e<n&&r[e]===s[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===s[a-t];t++);return Ht=s.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Yt(){return!1}function Kt(e){function t(t,r,n,s,a){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?$t:Yt,this.isPropagationStopped=Yt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Qt,Jt,Xt,Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Gt),er=h({},Gt,{view:0,detail:0}),tr=Kt(er),rr=h({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Jt=e.screenY-Xt.screenY):Jt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),nr=Kt(rr),sr=Kt(h({},rr,{dataTransfer:0})),ar=Kt(h({},er,{relatedTarget:0})),ir=Kt(h({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0})),or=Kt(h({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),lr=Kt(h({},Gt,{data:0})),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ur[e])&&!!t[e]}function fr(){return hr}var mr=Kt(h({},er,{key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pr=Kt(h({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=Kt(h({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),xr=Kt(h({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yr=Kt(h({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),br=Kt(h({},Gt,{newState:0,oldState:0})),vr=[9,13,27,32],wr=Ft&&"CompositionEvent"in window,kr=null;Ft&&"documentMode"in document&&(kr=document.documentMode);var jr=Ft&&"TextEvent"in window&&!kr,Nr=Ft&&(!wr||kr&&8<kr&&11>=kr),Sr=String.fromCharCode(32),_r=!1;function Cr(e,t){switch(e){case"keyup":return-1!==vr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Er(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ar=!1;var Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pr[e.type]:"textarea"===t}function Rr(e,t,r,n){Rt?Ot?Ot.push(n):Ot=[n]:Rt=n,0<(t=qd(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Or=null,Mr=null;function Lr(e){Id(e,0)}function Dr(e){if(ht(He(e)))return e}function Ir(e,t){if("change"===e)return t}var Fr=!1;if(Ft){var zr;if(Ft){var Br="oninput"in document;if(!Br){var Vr=document.createElement("div");Vr.setAttribute("oninput","return;"),Br="function"===typeof Vr.oninput}zr=Br}else zr=!1;Fr=zr&&(!document.documentMode||9<document.documentMode)}function Ur(){Or&&(Or.detachEvent("onpropertychange",Hr),Mr=Or=null)}function Hr(e){if("value"===e.propertyName&&Dr(Mr)){var t=[];Rr(t,Mr,e,Tt(e)),Dt(Lr,t)}}function Wr(e,t,r){"focusin"===e?(Ur(),Mr=r,(Or=t).attachEvent("onpropertychange",Hr)):"focusout"===e&&Ur()}function qr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dr(Mr)}function $r(e,t){if("click"===e)return Dr(t)}function Yr(e,t){if("input"===e||"change"===e)return Dr(t)}var Kr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qr(e,t){if(Kr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!J.call(t,s)||!Kr(e[s],t[s]))return!1}return!0}function Jr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xr(e,t){var r,n=Jr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jr(n)}}function Gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ft((e=t.contentWindow).document)}return t}function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tn=Ft&&"documentMode"in document&&11>=document.documentMode,rn=null,nn=null,sn=null,an=!1;function on(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;an||null==rn||rn!==ft(n)||("selectionStart"in(n=rn)&&en(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},sn&&Qr(sn,n)||(sn=n,0<(n=qd(nn,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function ln(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cn={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},dn={},un={};function hn(e){if(dn[e])return dn[e];if(!cn[e])return e;var t,r=cn[e];for(t in r)if(r.hasOwnProperty(t)&&t in un)return dn[e]=r[t];return e}Ft&&(un=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var fn=hn("animationend"),mn=hn("animationiteration"),pn=hn("animationstart"),gn=hn("transitionrun"),xn=hn("transitionstart"),yn=hn("transitioncancel"),bn=hn("transitionend"),vn=new Map,wn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){vn.set(e,t),Ke(t,[e])}wn.push("scrollEnd");var jn=new WeakMap;function Nn(e,t){if("object"===typeof e&&null!==e){var r=jn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:lt(t)},jn.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sn=[],_n=0,Cn=0;function En(){for(var e=_n,t=Cn=_n=0;t<e;){var r=Sn[t];Sn[t++]=null;var n=Sn[t];Sn[t++]=null;var s=Sn[t];Sn[t++]=null;var a=Sn[t];if(Sn[t++]=null,null!==n&&null!==s){var i=n.pending;null===i?s.next=s:(s.next=i.next,i.next=s),n.pending=s}0!==a&&Rn(r,s,a)}}function An(e,t,r,n){Sn[_n++]=e,Sn[_n++]=t,Sn[_n++]=r,Sn[_n++]=n,Cn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Pn(e,t,r,n){return An(e,t,r,n),On(e)}function Tn(e,t){return An(e,null,null,t),On(e)}function Rn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var s=!1,a=e.return;null!==a;)a.childLanes|=r,null!==(n=a.alternate)&&(n.childLanes|=r),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(s=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,s&&null!==t&&(s=31-fe(r),null===(n=(e=a.hiddenUpdates)[s])?e[s]=[t]:n.push(t),t.lane=536870912|r),a):null}function On(e){if(50<Rc)throw Rc=0,Oc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mn={};function Ln(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,r,n){return new Ln(e,t,r,n)}function In(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fn(e,t){var r=e.alternate;return null===r?((r=Dn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function zn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bn(e,t,r,n,s,a){var o=0;if(n=e,"function"===typeof e)In(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Dn(31,r,t,s)).elementType=C,e.lanes=a,e;case g:return Vn(r.children,s,a,t);case x:o=8,s|=24;break;case y:return(e=Dn(12,r,t,2|s)).elementType=y,e.lanes=a,e;case j:return(e=Dn(13,r,t,s)).elementType=j,e.lanes=a,e;case N:return(e=Dn(19,r,t,s)).elementType=N,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case v:o=9;break e;case k:o=11;break e;case S:o=14;break e;case _:o=16,n=null;break e}o=29,r=Error(i(130,null===e?"null":typeof e,"")),n=null}return(t=Dn(o,r,t,s)).elementType=e,t.type=n,t.lanes=a,t}function Vn(e,t,r,n){return(e=Dn(7,e,n,t)).lanes=r,e}function Un(e,t,r){return(e=Dn(6,e,null,t)).lanes=r,e}function Hn(e,t,r){return(t=Dn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wn=[],qn=0,$n=null,Yn=0,Kn=[],Qn=0,Jn=null,Xn=1,Gn="";function Zn(e,t){Wn[qn++]=Yn,Wn[qn++]=$n,$n=e,Yn=t}function es(e,t,r){Kn[Qn++]=Xn,Kn[Qn++]=Gn,Kn[Qn++]=Jn,Jn=e;var n=Xn;e=Gn;var s=32-fe(n)-1;n&=~(1<<s),r+=1;var a=32-fe(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Xn=1<<32-fe(t)+s|r<<s|n,Gn=a+e}else Xn=1<<a|r<<s|n,Gn=e}function ts(e){null!==e.return&&(Zn(e,1),es(e,1,0))}function rs(e){for(;e===$n;)$n=Wn[--qn],Wn[qn]=null,Yn=Wn[--qn],Wn[qn]=null;for(;e===Jn;)Jn=Kn[--Qn],Kn[Qn]=null,Gn=Kn[--Qn],Kn[Qn]=null,Xn=Kn[--Qn],Kn[Qn]=null}var ns=null,ss=null,as=!1,is=null,os=!1,ls=Error(i(519));function cs(e){throw ps(Nn(Error(i(418,"")),e)),ls}function ds(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Re]=e,t[Oe]=n,r){case"dialog":Fd("cancel",t),Fd("close",t);break;case"iframe":case"object":case"embed":Fd("load",t);break;case"video":case"audio":for(r=0;r<Ld.length;r++)Fd(Ld[r],t);break;case"source":Fd("error",t);break;case"img":case"image":case"link":Fd("error",t),Fd("load",t);break;case"details":Fd("toggle",t);break;case"input":Fd("invalid",t),xt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),ut(t);break;case"select":Fd("invalid",t);break;case"textarea":Fd("invalid",t),wt(t,n.value,n.defaultValue,n.children),ut(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Xd(t.textContent,r)?(null!=n.popover&&(Fd("beforetoggle",t),Fd("toggle",t)),null!=n.onScroll&&Fd("scroll",t),null!=n.onScrollEnd&&Fd("scrollend",t),null!=n.onClick&&(t.onclick=Gd),t=!0):t=!1,t||cs(e)}function us(e){for(ns=e.return;ns;)switch(ns.tag){case 5:case 13:return void(os=!1);case 27:case 3:return void(os=!0);default:ns=ns.return}}function hs(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ou(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),us(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){ss=yu(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}ss=null}}else 27===r?(r=ss,mu(e.type)?(e=bu,bu=null,ss=e):ss=r):ss=ns?yu(e.stateNode.nextSibling):null;return!0}function fs(){ss=ns=null,as=!1}function ms(){var e=is;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),is=null),e}function ps(e){null===is?is=[e]:is.push(e)}var gs=z(null),xs=null,ys=null;function bs(e,t,r){V(gs,t._currentValue),t._currentValue=r}function vs(e){e._currentValue=gs.current,B(gs)}function ws(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ks(e,t,r,n){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var a=s.dependencies;if(null!==a){var o=s.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=r,null!==(l=a.alternate)&&(l.lanes|=r),ws(a.return,r,e),n||(o=null);break e}a=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=r,null!==(a=o.alternate)&&(a.lanes|=r),ws(o,r,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function js(e,t,r,n){e=null;for(var s=t,a=!1;null!==s;){if(!a)if(0!==(524288&s.flags))a=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=s.type;Kr(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===q.current){if(null===(o=s.alternate))throw Error(i(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Qu):e=[Qu])}s=s.return}null!==e&&ks(t,e,r,n),t.flags|=262144}function Ns(e){for(e=e.firstContext;null!==e;){if(!Kr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){xs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _s(e){return Es(xs,e)}function Cs(e,t){return null===xs&&Ss(e),Es(e,t)}function Es(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===ys){if(null===e)throw Error(i(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return r}var As="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ps=n.unstable_scheduleCallback,Ts=n.unstable_NormalPriority,Rs={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Os(){return{controller:new As,data:new Map,refCount:0}}function Ms(e){e.refCount--,0===e.refCount&&Ps(Ts,(function(){e.controller.abort()}))}var Ls=null,Ds=0,Is=0,Fs=null;function zs(){if(0===--Ds&&null!==Ls){null!==Fs&&(Fs.status="fulfilled");var e=Ls;Ls=null,Is=0,Fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bs=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ls){var r=Ls=[];Ds=0,Is=Pd(),Fs={status:"pending",value:void 0,then:function(e){r.push(e)}}}Ds++,t.then(zs,zs)}(0,t),null!==Bs&&Bs(e,t)};var Vs=z(null);function Us(){var e=Vs.current;return null!==e?e:nc.pooledCache}function Hs(e,t){V(Vs,null===t?Vs.current:t.pool)}function Ws(){var e=Us();return null===e?null:{parent:Rs._currentValue,pool:e}}var qs=Error(i(460)),$s=Error(i(474)),Ys=Error(i(542)),Ks={then:function(){}};function Qs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Js(){}function Xs(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Js,Js),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Js,Js);else{if(null!==(e=nc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}}),(function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Gs=t,qs}}var Gs=null;function Zs(){if(null===Gs)throw Error(i(459));var e=Gs;return Gs=null,e}function ea(e){if(e===qs||e===Ys)throw Error(i(483))}var ta=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&rc)){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=On(e),Rn(e,null,r),t}return An(e,n,t,r),On(e)}function ia(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ce(e,r)}}function oa(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var s=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===a?s=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?s=a=t:a=a.next=t}else s=a=t;return r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==Fs)throw Fs}}function da(e,t,r,n){la=!1;var s=e.updateQueue;ta=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=s.baseState;for(i=0,d=c=l=null,o=a;;){var f=-536870913&o.lane,m=f!==o.lane;if(m?(ac&f)===f:(n&f)===f){0!==f&&f===Is&&(la=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;f=t;var x=r;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){u=p.call(x,u,f);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(x,u,f):p)||void 0===f)break e;u=h({},u,f);break e;case 2:ta=!0}}null!==(f=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=s.callbacks)?s.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,i|=f;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(m=o).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null===a&&(s.shared.lanes=0),fc|=i,e.lanes=i,e.memoizedState=u}}function ua(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function ha(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)ua(r[e],t)}var fa=z(null),ma=z(0);function pa(e,t){V(ma,e=uc),V(fa,t),uc=e|t.baseLanes}function ga(){V(ma,uc),V(fa,fa.current)}function xa(){uc=ma.current,B(fa),B(ma)}var ya=0,ba=null,va=null,wa=null,ka=!1,ja=!1,Na=!1,Sa=0,_a=0,Ca=null,Ea=0;function Aa(){throw Error(i(321))}function Pa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kr(e[r],t[r]))return!1;return!0}function Ta(e,t,r,n,s,a){return ya=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?qi:$i,Na=!1,a=r(n,s),Na=!1,ja&&(a=Oa(t,r,n,s)),Ra(e),a}function Ra(e){M.H=Wi;var t=null!==va&&null!==va.next;if(ya=0,wa=va=ba=null,ka=!1,_a=0,Ca=null,t)throw Error(i(300));null===e||Co||null!==(e=e.dependencies)&&Ns(e)&&(Co=!0)}function Oa(e,t,r,n){ba=e;var s=0;do{if(ja&&(Ca=null),_a=0,ja=!1,25<=s)throw Error(i(301));if(s+=1,wa=va=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}M.H=Yi,a=t(r,n)}while(ja);return a}function Ma(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Ba(t):t,e=e.useState()[0],(null!==va?va.memoizedState:null)!==e&&(ba.flags|=1024),t}function La(){var e=0!==Sa;return Sa=0,e}function Da(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Ia(e){if(ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ka=!1}ya=0,wa=va=ba=null,ja=!1,_a=Sa=0,Ca=null}function Fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wa?ba.memoizedState=wa=e:wa=wa.next=e,wa}function za(){if(null===va){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===wa?ba.memoizedState:wa.next;if(null!==t)wa=t,va=e;else{if(null===e){if(null===ba.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===wa?ba.memoizedState=wa=e:wa=wa.next=e}return wa}function Ba(e){var t=_a;return _a+=1,null===Ca&&(Ca=[]),e=Xs(Ca,e,t),t=ba,null===(null===wa?t.memoizedState:wa.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?qi:$i),e}function Va(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ba(e);if(e.$$typeof===w)return _s(e)}throw Error(i(438,String(e)))}function Ua(e){var t=null,r=ba.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=ba.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=E;return t.index++,r}function Ha(e,t){return"function"===typeof t?t(e):t}function Wa(e){return qa(za(),va,e)}function qa(e,t,r){var n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=r;var s=e.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}t.baseQueue=s=a,n.pending=null}if(a=e.baseState,null===s)e.memoizedState=a;else{var l=o=null,c=null,d=t=s.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(ac&h)===h:(ya&h)===h){var f=d.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Is&&(u=!0);else{if((ya&f)===f){d=d.next,f===Is&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,ba.lanes|=f,fc|=f}h=d.action,Na&&r(a,h),a=d.hasEagerState?d.eagerState:r(a,h)}else f={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,ba.lanes|=h,fc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=a:c.next=l,!Kr(a,e.memoizedState)&&(Co=!0,u&&null!==(r=Fs)))throw r;e.memoizedState=a,e.baseState=o,e.baseQueue=c,n.lastRenderedState=a}return null===s&&(n.lanes=0),[e.memoizedState,n.dispatch]}function $a(e){var t=za(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(null!==s){r.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);Kr(a,t.memoizedState)||(Co=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Ya(e,t,r){var n=ba,s=za(),a=as;if(a){if(void 0===r)throw Error(i(407));r=r()}else r=t();var o=!Kr((va||s).memoizedState,r);if(o&&(s.memoizedState=r,Co=!0),s=s.queue,gi(2048,8,Ja.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||null!==wa&&1&wa.memoizedState.tag){if(n.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Qa.bind(null,n,s,r,t),null),null===nc)throw Error(i(349));a||0!==(124&ya)||Ka(n,t,r)}return r}function Ka(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Qa(e,t,r,n){t.value=r,t.getSnapshot=n,Xa(t)&&Ga(e)}function Ja(e,t,r){return r((function(){Xa(t)&&Ga(e)}))}function Xa(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kr(e,r)}catch(n){return!0}}function Ga(e){var t=Tn(e,2);null!==t&&Ic(t,e,2)}function Za(e){var t=Fa();if("function"===typeof e){var r=e;if(e=r(),Na){he(!0);try{r()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t}function ei(e,t,r,n){return e.baseState=r,qa(e,va,"function"===typeof n?n:Ha)}function ti(e,t,r,n,s){if(Vi(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==M.T?r(!0):a.isTransition=!1,n(a),null===(r=t.pending)?(a.next=t.pending=a,ri(t,a)):(a.next=r.next,t.pending=r.next=a)}}function ri(e,t){var r=t.action,n=t.payload,s=e.state;if(t.isTransition){var a=M.T,i={};M.T=i;try{var o=r(s,n),l=M.S;null!==l&&l(i,o),ni(e,t,o)}catch(c){ai(e,t,c)}finally{M.T=a}}else try{ni(e,t,a=r(s,n))}catch(d){ai(e,t,d)}}function ni(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then((function(r){si(e,t,r)}),(function(r){return ai(e,t,r)})):si(e,t,r)}function si(e,t,r){t.status="fulfilled",t.value=r,ii(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ri(e,r)))}function ai(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,ii(t),t=t.next}while(t!==n)}e.action=null}function ii(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oi(e,t){return t}function li(e,t){if(as){var r=nc.formState;if(null!==r){e:{var n=ba;if(as){if(ss){t:{for(var s=ss,a=os;8!==s.nodeType;){if(!a){s=null;break t}if(null===(s=yu(s.nextSibling))){s=null;break t}}s="F!"===(a=s.data)||"F"===a?s:null}if(s){ss=yu(s.nextSibling),n="F!"===s.data;break e}}cs(n)}n=!1}n&&(t=r[0])}}return(r=Fa()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},r.queue=n,r=Fi.bind(null,ba,n),n.dispatch=r,n=Za(!1),a=Bi.bind(null,ba,!1,n.queue),s={state:t,dispatch:null,action:e,pending:null},(n=Fa()).queue=s,r=ti.bind(null,ba,s,a,r),s.dispatch=r,n.memoizedState=e,[t,r,!1]}function ci(e){return di(za(),va,e)}function di(e,t,r){if(t=qa(e,t,oi)[0],e=Wa(Ha)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=Ba(t)}catch(i){if(i===qs)throw Ys;throw i}else n=t;var s=(t=za()).queue,a=s.dispatch;return r!==t.memoizedState&&(ba.flags|=2048,fi(9,{destroy:void 0,resource:void 0},ui.bind(null,s,r),null)),[n,a,e]}function ui(e,t){e.action=t}function hi(e){var t=za(),r=va;if(null!==r)return di(t,r,e);za(),t=t.memoizedState;var n=(r=za()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function fi(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function mi(){return za().memoizedState}function pi(e,t,r,n){var s=Fa();n=void 0===n?null:n,ba.flags|=e,s.memoizedState=fi(1|t,{destroy:void 0,resource:void 0},r,n)}function gi(e,t,r,n){var s=za();n=void 0===n?null:n;var a=s.memoizedState.inst;null!==va&&null!==n&&Pa(n,va.memoizedState.deps)?s.memoizedState=fi(t,a,r,n):(ba.flags|=e,s.memoizedState=fi(1|t,a,r,n))}function xi(e,t){pi(8390656,8,e,t)}function yi(e,t){gi(2048,8,e,t)}function bi(e,t){return gi(4,2,e,t)}function vi(e,t){return gi(4,4,e,t)}function wi(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ki(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,gi(4,4,wi.bind(null,t,e),r)}function ji(){}function Ni(e,t){var r=za();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Pa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Si(e,t){var r=za();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Pa(t,n[1]))return n[0];if(n=e(),Na){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n}function _i(e,t,r){return void 0===r||0!==(1073741824&ya)?e.memoizedState=t:(e.memoizedState=r,e=Lc(),ba.lanes|=e,fc|=e,r)}function Ci(e,t,r,n){return Kr(r,t)?r:null!==fa.current?(e=_i(e,r,n),Kr(e,t)||(Co=!0),e):0===(42&ya)?(Co=!0,e.memoizedState=r):(e=Lc(),ba.lanes|=e,fc|=e,t)}function Ei(e,t,r,n,s){var a=L.p;L.p=0!==a&&8>a?a:8;var i=M.T,o={};M.T=o,Bi(e,!1,t,r);try{var l=s(),c=M.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var d=function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then((function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)}),(function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)})),n}(l,n);zi(e,t,d,Mc())}else zi(e,t,n,Mc())}catch(u){zi(e,t,{then:function(){},status:"rejected",reason:u},Mc())}finally{L.p=a,M.T=i}}function Ai(){}function Pi(e,t,r,n){if(5!==e.tag)throw Error(i(476));var s=Ti(e).queue;Ei(e,s,t,D,null===r?Ai:function(){return Ri(e),r(n)})}function Ti(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:D},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ri(e){zi(e,Ti(e).next.queue,{},Mc())}function Oi(){return _s(Qu)}function Mi(){return za().memoizedState}function Li(){return za().memoizedState}function Di(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Mc(),n=aa(t,e=sa(r),r);return null!==n&&(Ic(n,t,r),ia(n,t,r)),t={cache:Os()},void(e.payload=t)}t=t.return}}function Ii(e,t,r){var n=Mc();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Vi(e)?Ui(t,r):null!==(r=Pn(e,t,r,n))&&(Ic(r,e,n),Hi(r,t,n))}function Fi(e,t,r){zi(e,t,r,Mc())}function zi(e,t,r,n){var s={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vi(e))Ui(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,r);if(s.hasEagerState=!0,s.eagerState=o,Kr(o,i))return An(e,t,s,0),null===nc&&En(),!1}catch(l){}if(null!==(r=Pn(e,t,s,n)))return Ic(r,e,n),Hi(r,t,n),!0}return!1}function Bi(e,t,r,n){if(n={lane:2,revertLane:Pd(),action:n,hasEagerState:!1,eagerState:null,next:null},Vi(e)){if(t)throw Error(i(479))}else null!==(t=Pn(e,r,n,2))&&Ic(t,e,2)}function Vi(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function Ui(e,t){ja=ka=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hi(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ce(e,r)}}var Wi={readContext:_s,use:Va,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useLayoutEffect:Aa,useInsertionEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useSyncExternalStore:Aa,useId:Aa,useHostTransitionStatus:Aa,useFormState:Aa,useActionState:Aa,useOptimistic:Aa,useMemoCache:Aa,useCacheRefresh:Aa},qi={readContext:_s,use:Va,useCallback:function(e,t){return Fa().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:xi,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,pi(4194308,4,wi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pi(4194308,4,e,t)},useInsertionEffect:function(e,t){pi(4,2,e,t)},useMemo:function(e,t){var r=Fa();t=void 0===t?null:t;var n=e();if(Na){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Fa();if(void 0!==r){var s=r(t);if(Na){he(!0);try{r(t)}finally{he(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=Ii.bind(null,ba,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Fa().memoizedState=e},useState:function(e){var t=(e=Za(e)).queue,r=Fi.bind(null,ba,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ji,useDeferredValue:function(e,t){return _i(Fa(),e,t)},useTransition:function(){var e=Za(!1);return e=Ei.bind(null,ba,e.queue,!0,!1),Fa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=ba,s=Fa();if(as){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===nc)throw Error(i(349));0!==(124&ac)||Ka(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,xi(Ja.bind(null,n,a,e),[e]),n.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Qa.bind(null,n,a,r,t),null),r},useId:function(){var e=Fa(),t=nc.identifierPrefix;if(as){var r=Gn;t="\xab"+t+"R"+(r=(Xn&~(1<<32-fe(Xn)-1)).toString(32)+r),0<(r=Sa++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=Ea++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oi,useFormState:li,useActionState:li,useOptimistic:function(e){var t=Fa();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Bi.bind(null,ba,!0,r),r.dispatch=t,[e,t]},useMemoCache:Ua,useCacheRefresh:function(){return Fa().memoizedState=Di.bind(null,ba)}},$i={readContext:_s,use:Va,useCallback:Ni,useContext:_s,useEffect:yi,useImperativeHandle:ki,useInsertionEffect:bi,useLayoutEffect:vi,useMemo:Si,useReducer:Wa,useRef:mi,useState:function(){return Wa(Ha)},useDebugValue:ji,useDeferredValue:function(e,t){return Ci(za(),va.memoizedState,e,t)},useTransition:function(){var e=Wa(Ha)[0],t=za().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Ya,useId:Mi,useHostTransitionStatus:Oi,useFormState:ci,useActionState:ci,useOptimistic:function(e,t){return ei(za(),0,e,t)},useMemoCache:Ua,useCacheRefresh:Li},Yi={readContext:_s,use:Va,useCallback:Ni,useContext:_s,useEffect:yi,useImperativeHandle:ki,useInsertionEffect:bi,useLayoutEffect:vi,useMemo:Si,useReducer:$a,useRef:mi,useState:function(){return $a(Ha)},useDebugValue:ji,useDeferredValue:function(e,t){var r=za();return null===va?_i(r,e,t):Ci(r,va.memoizedState,e,t)},useTransition:function(){var e=$a(Ha)[0],t=za().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Ya,useId:Mi,useHostTransitionStatus:Oi,useFormState:hi,useActionState:hi,useOptimistic:function(e,t){var r=za();return null!==va?ei(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ua,useCacheRefresh:Li},Ki=null,Qi=0;function Ji(e){var t=Qi;return Qi+=1,null===Ki&&(Ki=[]),Xs(Ki,e,t)}function Xi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Gi(e,t){if(t.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zi(e){return(0,e._init)(e._payload)}function eo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Fn(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Un(r,e.mode,n)).return=e,t):((t=s(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===g?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===_&&Zi(a)===t.type)?(Xi(t=s(t,r.props),r),t.return=e,t):(Xi(t=Bn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Hn(r,e.mode,n)).return=e,t):((t=s(t,r.children||[])).return=e,t)}function u(e,t,r,n,a){return null===t||7!==t.tag?((t=Vn(r,e.mode,n,a)).return=e,t):((t=s(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Un(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Xi(r=Bn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case p:return(t=Hn(t,e.mode,r)).return=e,t;case _:return h(e,t=(0,t._init)(t._payload),r)}if(O(t)||P(t))return(t=Vn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,Ji(t),r);if(t.$$typeof===w)return h(e,Cs(e,t),r);Gi(e,t)}return null}function f(e,t,r,n){var s=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==s?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return r.key===s?c(e,t,r,n):null;case p:return r.key===s?d(e,t,r,n):null;case _:return f(e,t,r=(s=r._init)(r._payload),n)}if(O(r)||P(r))return null!==s?null:u(e,t,r,n,null);if("function"===typeof r.then)return f(e,t,Ji(r),n);if(r.$$typeof===w)return f(e,t,Cs(e,r),n);Gi(e,r)}return null}function x(e,t,r,n,s){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return c(t,e=e.get(null===n.key?r:n.key)||null,n,s);case p:return d(t,e=e.get(null===n.key?r:n.key)||null,n,s);case _:return x(e,t,r,n=(0,n._init)(n._payload),s)}if(O(n)||P(n))return u(t,e=e.get(r)||null,n,s,null);if("function"===typeof n.then)return x(e,t,r,Ji(n),s);if(n.$$typeof===w)return x(e,t,r,Cs(t,n),s);Gi(t,n)}return null}function y(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case m:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===g){if(7===c.tag){r(l,c.sibling),(u=s(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&Zi(b)===c.type){r(l,c.sibling),Xi(u=s(c,d.props),d),u.return=l,l=u;break e}r(l,c);break}t(l,c),c=c.sibling}d.type===g?((u=Vn(d.props.children,l.mode,u,d.key)).return=l,l=u):(Xi(u=Bn(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case p:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(l,c.sibling),(u=s(c,d.children||[])).return=l,l=u;break e}r(l,c);break}t(l,c),c=c.sibling}(u=Hn(d,l.mode,u)).return=l,l=u}return o(l);case _:return y(l,c,d=(b=d._init)(d._payload),u)}if(O(d))return function(s,i,o,l){for(var c=null,d=null,u=i,m=i=0,p=null;null!==u&&m<o.length;m++){u.index>m?(p=u,u=null):p=u.sibling;var g=f(s,u,o[m],l);if(null===g){null===u&&(u=p);break}e&&u&&null===g.alternate&&t(s,u),i=a(g,i,m),null===d?c=g:d.sibling=g,d=g,u=p}if(m===o.length)return r(s,u),as&&Zn(s,m),c;if(null===u){for(;m<o.length;m++)null!==(u=h(s,o[m],l))&&(i=a(u,i,m),null===d?c=u:d.sibling=u,d=u);return as&&Zn(s,m),c}for(u=n(u);m<o.length;m++)null!==(p=x(u,s,m,o[m],l))&&(e&&null!==p.alternate&&u.delete(null===p.key?m:p.key),i=a(p,i,m),null===d?c=p:d.sibling=p,d=p);return e&&u.forEach((function(e){return t(s,e)})),as&&Zn(s,m),c}(l,c,d,u);if(P(d)){if("function"!==typeof(b=P(d)))throw Error(i(150));return function(s,o,l,c){if(null==l)throw Error(i(151));for(var d=null,u=null,m=o,p=o=0,g=null,y=l.next();null!==m&&!y.done;p++,y=l.next()){m.index>p?(g=m,m=null):g=m.sibling;var b=f(s,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(s,m),o=a(b,o,p),null===u?d=b:u.sibling=b,u=b,m=g}if(y.done)return r(s,m),as&&Zn(s,p),d;if(null===m){for(;!y.done;p++,y=l.next())null!==(y=h(s,y.value,c))&&(o=a(y,o,p),null===u?d=y:u.sibling=y,u=y);return as&&Zn(s,p),d}for(m=n(m);!y.done;p++,y=l.next())null!==(y=x(m,s,p,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?p:y.key),o=a(y,o,p),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach((function(e){return t(s,e)})),as&&Zn(s,p),d}(l,c,d=b.call(d),u)}if("function"===typeof d.then)return y(l,c,Ji(d),u);if(d.$$typeof===w)return y(l,c,Cs(l,d),u);Gi(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(r(l,c.sibling),(u=s(c,d)).return=l,l=u):(r(l,c),(u=Un(d,l.mode,u)).return=l,l=u),o(l)):r(l,c)}return function(e,t,r,n){try{Qi=0;var s=y(e,t,r,n);return Ki=null,s}catch(i){if(i===qs||i===Ys)throw i;var a=Dn(29,i,null,e.mode);return a.lanes=n,a.return=e,a}}}var to=eo(!0),ro=eo(!1),no=z(null),so=null;function ao(e){var t=e.alternate;V(co,1&co.current),V(no,e),null===so&&(null===t||null!==fa.current||null!==t.memoizedState)&&(so=e)}function io(e){if(22===e.tag){if(V(co,co.current),V(no,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else oo()}function oo(){V(co,co.current),V(no,no.current)}function lo(e){B(no),so===e&&(so=null),B(co)}var co=z(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||xu(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:h({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var fo={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mc(),s=sa(n);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=aa(e,s,n))&&(Ic(t,e,n),ia(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mc(),s=sa(n);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=aa(e,s,n))&&(Ic(t,e,n),ia(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mc(),n=sa(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=aa(e,n,r))&&(Ic(t,e,r),ia(t,e,r))}};function mo(e,t,r,n,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Qr(r,n)||!Qr(s,a))}function po(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var s in r===t&&(r=h({},r)),e)void 0===r[s]&&(r[s]=e[s]);return r}var xo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){xo(e)}function bo(e){console.error(e)}function vo(e){xo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout((function(){throw r}))}}function ko(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout((function(){throw n}))}}function jo(e,t,r){return(r=sa(r)).tag=3,r.payload={element:null},r.callback=function(){wo(e,t)},r}function No(e){return(e=sa(e)).tag=3,e}function So(e,t,r,n){var s=r.type.getDerivedStateFromError;if("function"===typeof s){var a=n.value;e.payload=function(){return s(a)},e.callback=function(){ko(t,r,n)}}var i=r.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){ko(t,r,n),"function"!==typeof s&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var _o=Error(i(461)),Co=!1;function Eo(e,t,r,n){t.child=null===e?ro(t,null,r,n):to(t,e.child,r,n)}function Ao(e,t,r,n,s){r=r.render;var a=t.ref;if("ref"in n){var i={};for(var o in n)"ref"!==o&&(i[o]=n[o])}else i=n;return Ss(t),n=Ta(e,t,r,i,a,s),o=La(),null===e||Co?(as&&o&&ts(t),t.flags|=1,Eo(e,t,n,s),t.child):(Da(e,t,s),Qo(e,t,s))}function Po(e,t,r,n,s){if(null===e){var a=r.type;return"function"!==typeof a||In(a)||void 0!==a.defaultProps||null!==r.compare?((e=Bn(r.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,To(e,t,a,n,s))}if(a=e.child,!Jo(e,s)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:Qr)(i,n)&&e.ref===t.ref)return Qo(e,t,s)}return t.flags|=1,(e=Fn(a,n)).ref=t.ref,e.return=t,t.child=e}function To(e,t,r,n,s){if(null!==e){var a=e.memoizedProps;if(Qr(a,n)&&e.ref===t.ref){if(Co=!1,t.pendingProps=n=a,!Jo(e,s))return t.lanes=e.lanes,Qo(e,t,s);0!==(131072&e.flags)&&(Co=!0)}}return Lo(e,t,r,n,s)}function Ro(e,t,r){var n=t.pendingProps,s=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0!==(128&t.flags)){if(n=null!==a?a.baseLanes|r:r,null!==e){for(s=t.child=e.child,a=0;null!==s;)a=a|s.lanes|s.childLanes,s=s.sibling;t.childLanes=a&~n}else t.childLanes=0,t.child=null;return Oo(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Oo(e,t,null!==a?a.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hs(0,null!==a?a.cachePool:null),null!==a?pa(t,a):ga(),io(t)}else null!==a?(Hs(0,a.cachePool),pa(t,a),oo(),t.memoizedState=null):(null!==e&&Hs(0,null),ga(),oo());return Eo(e,t,s,r),t.child}function Oo(e,t,r,n){var s=Us();return s=null===s?null:{parent:Rs._currentValue,pool:s},t.memoizedState={baseLanes:r,cachePool:s},null!==e&&Hs(0,null),ga(),io(t),null!==e&&js(e,t,n,!0),null}function Mo(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(i(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Lo(e,t,r,n,s){return Ss(t),r=Ta(e,t,r,n,void 0,s),n=La(),null===e||Co?(as&&n&&ts(t),t.flags|=1,Eo(e,t,r,s),t.child):(Da(e,t,s),Qo(e,t,s))}function Do(e,t,r,n,s,a){return Ss(t),t.updateQueue=null,r=Oa(t,n,r,s),Ra(e),n=La(),null===e||Co?(as&&n&&ts(t),t.flags|=1,Eo(e,t,r,a),t.child):(Da(e,t,a),Qo(e,t,a))}function Io(e,t,r,n,s){if(Ss(t),null===t.stateNode){var a=Mn,i=r.contextType;"object"===typeof i&&null!==i&&(a=_s(i)),a=new r(n,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=n,a.state=t.memoizedState,a.refs={},ra(t),i=r.contextType,a.context="object"===typeof i&&null!==i?_s(i):Mn,a.state=t.memoizedState,"function"===typeof(i=r.getDerivedStateFromProps)&&(ho(t,r,i,n),a.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&fo.enqueueReplaceState(a,a.state,null),da(t,n,a,s),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=go(r,o);a.props=l;var c=a.context,d=r.contextType;i=Mn,"object"===typeof d&&null!==d&&(i=_s(d));var u=r.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==i)&&po(t,a,n,i),ta=!1;var h=t.memoizedState;a.state=h,da(t,n,a,s),ca(),c=t.memoizedState,o||h!==c||ta?("function"===typeof u&&(ho(t,r,u,n),c=t.memoizedState),(l=ta||mo(t,r,l,n,h,c,i))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=i,n=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,na(e,t),d=go(r,i=t.memoizedProps),a.props=d,u=t.pendingProps,h=a.context,c=r.contextType,l=Mn,"object"===typeof c&&null!==c&&(l=_s(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==u||h!==l)&&po(t,a,n,l),ta=!1,h=t.memoizedState,a.state=h,da(t,n,a,s),ca();var f=t.memoizedState;i!==u||h!==f||ta||null!==e&&null!==e.dependencies&&Ns(e.dependencies)?("function"===typeof o&&(ho(t,r,o,n),f=t.memoizedState),(d=ta||mo(t,r,d,n,h,f,l)||null!==e&&null!==e.dependencies&&Ns(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=l,n=d):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return a=n,Mo(e,t),n=0!==(128&t.flags),a||n?(a=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&n?(t.child=to(t,e.child,null,s),t.child=to(t,null,r,s)):Eo(e,t,r,s),t.memoizedState=a.state,e=t.child):e=Qo(e,t,s),e}function Fo(e,t,r,n){return fs(),t.flags|=256,Eo(e,t,r,n),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:Ws()}}function Vo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=gc),e}function Uo(e,t,r){var n,s=t.pendingProps,a=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),n&&(a=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(as){if(a?ao(t):oo(),as){var l,c=ss;if(l=c){e:{for(l=c,c=os;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jn?{id:Xn,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},(l=Dn(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ns=t,ss=null,l=!0):l=!1}l||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return xu(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=s.children,s=s.fallback,a?(oo(),c=Wo({mode:"hidden",children:c},a=t.mode),s=Vn(s,a,r,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(a=t.child).memoizedState=Bo(r),a.childLanes=Vo(e,n,r),t.memoizedState=zo,s):(ao(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ao(t),t.flags&=-257,t=qo(e,t,r)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),a=s.fallback,c=t.mode,s=Wo({mode:"visible",children:s.children},c),(a=Vn(a,c,r,null)).flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,to(t,e.child,null,r),(s=t.child).memoizedState=Bo(r),s.childLanes=Vo(e,n,r),t.memoizedState=zo,t=a);else if(ao(t),xu(c)){if(n=c.nextSibling&&c.nextSibling.dataset)var d=n.dgst;n=d,(s=Error(i(419))).stack="",s.digest=n,ps({value:s,source:null,stack:null}),t=qo(e,t,r)}else if(Co||js(e,t,r,!1),n=0!==(r&e.childLanes),Co||n){if(null!==(n=nc)&&(0!==(s=0!==((s=0!==(42&(s=r&-r))?1:Ee(s))&(n.suspendedLanes|r))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Tn(e,s),Ic(n,e,s),_o;"$?"===c.data||Kc(),t=qo(e,t,r)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ss=yu(c.nextSibling),ns=t,as=!0,is=null,os=!1,null!==e&&(Kn[Qn++]=Xn,Kn[Qn++]=Gn,Kn[Qn++]=Jn,Xn=e.id,Gn=e.overflow,Jn=t),(t=Ho(t,s.children)).flags|=4096);return t}return a?(oo(),a=s.fallback,c=t.mode,d=(l=e.child).sibling,(s=Fn(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?a=Fn(d,a):(a=Vn(a,c,r,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,null===(c=e.child.memoizedState)?c=Bo(r):(null!==(l=c.cachePool)?(d=Rs._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Ws(),c={baseLanes:c.baseLanes|r,cachePool:l}),a.memoizedState=c,a.childLanes=Vo(e,n,r),t.memoizedState=zo,s):(ao(t),e=(r=e.child).sibling,(r=Fn(r,{mode:"visible",children:s.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Ho(e,t){return(t=Wo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wo(e,t){return(e=Dn(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qo(e,t,r){return to(t,e.child,null,r),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $o(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ws(e.return,t,r)}function Yo(e,t,r,n,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Ko(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Eo(e,t,n.children,r),0!==(2&(n=co.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,r,t);else if(19===e.tag)$o(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(V(co,n),s){case"forwards":for(r=t.child,s=null;null!==r;)null!==(e=r.alternate)&&null===uo(e)&&(s=r),r=r.sibling;null===(r=s)?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Yo(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===uo(e)){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Yo(t,!0,r,null,a);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(js(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Fn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Fn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Jo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ns(e))}function Xo(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!Jo(e,r)&&0===(128&t.flags))return Co=!1,function(e,t,r){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),bs(0,Rs,e.memoizedState.cache),fs();break;case 27:case 5:K(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:bs(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(ao(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Uo(e,t,r):(ao(t),null!==(e=Qo(e,t,r))?e.sibling:null);ao(t);break;case 19:var s=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(js(e,t,r,!1),n=0!==(r&t.childLanes)),s){if(n)return Ko(e,t,r);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(co,co.current),n)break;return null;case 22:case 23:return t.lanes=0,Ro(e,t,r);case 24:bs(0,Rs,e.memoizedState.cache)}return Qo(e,t,r)}(e,t,r);Co=0!==(131072&e.flags)}else Co=!1,as&&0!==(1048576&t.flags)&&es(t,Yn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,s=n._init;if(n=s(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((s=n.$$typeof)===k){t.tag=11,t=Ao(null,t,n,e,r);break e}if(s===S){t.tag=14,t=Po(null,t,n,e,r);break e}}throw t=R(n)||n,Error(i(306,t,""))}In(n)?(e=go(n,e),t.tag=1,t=Io(null,t,n,e,r)):(t.tag=0,t=Lo(null,t,n,e,r))}return t;case 0:return Lo(e,t,t.type,t.pendingProps,r);case 1:return Io(e,t,n=t.type,s=go(n,t.pendingProps),r);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(i(387));n=t.pendingProps;var a=t.memoizedState;s=a.element,na(e,t),da(t,n,null,r);var o=t.memoizedState;if(n=o.cache,bs(0,Rs,n),n!==a.cache&&ks(t,[Rs],r,!0),ca(),n=o.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,n,r);break e}if(n!==s){ps(s=Nn(Error(i(424)),t)),t=Fo(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=yu(e.firstChild),ns=t,as=!0,is=null,os=!0,r=ro(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fs(),n===s){t=Qo(e,t,r);break e}Eo(e,t,n,r)}t=t.child}return t;case 26:return Mo(e,t),null===e?(r=Au(t.type,null,t.pendingProps,null))?t.memoizedState=r:as||(r=t.type,e=t.pendingProps,(n=su(W.current).createElement(r))[Re]=t,n[Oe]=e,tu(n,r,e),qe(n),t.stateNode=n):t.memoizedState=Au(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&as&&(n=t.stateNode=wu(t.type,t.pendingProps,W.current),ns=t,os=!0,s=ss,mu(t.type)?(bu=s,ss=yu(n.firstChild)):ss=s),Eo(e,t,t.pendingProps.children,r),Mo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&as&&((s=n=ss)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var s=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===a)return e}if(null===(e=yu(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,os))?(t.stateNode=n,ns=t,ss=yu(n.firstChild),os=!1,s=!0):s=!1),s||cs(t)),K(t),s=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,n=a.children,ou(s,a)?n=null:null!==o&&ou(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Ta(e,t,Ma,null,null,r),Qu._currentValue=s),Mo(e,t),Eo(e,t,n,r),t.child;case 6:return null===e&&as&&((e=r=ss)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=yu(e.nextSibling)))return null}return e}(r,t.pendingProps,os))?(t.stateNode=r,ns=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return Uo(e,t,r);case 4:return $(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=to(t,null,n,r):Eo(e,t,n,r),t.child;case 11:return Ao(e,t,t.type,t.pendingProps,r);case 7:return Eo(e,t,t.pendingProps,r),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,bs(0,t.type,n.value),Eo(e,t,n.children,r),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,Ss(t),n=n(s=_s(s)),t.flags|=1,Eo(e,t,n,r),t.child;case 14:return Po(e,t,t.type,t.pendingProps,r);case 15:return To(e,t,t.type,t.pendingProps,r);case 19:return Ko(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=Wo(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Fn(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Ro(e,t,r);case 24:return Ss(t),n=_s(Rs),null===e?(null===(s=Us())&&(s=nc,a=Os(),s.pooledCache=a,a.refCount++,null!==a&&(s.pooledCacheLanes|=r),s=a),t.memoizedState={parent:n,cache:s},ra(t),bs(0,Rs,s)):(0!==(e.lanes&r)&&(na(e,t),da(t,null,null,r),ca()),s=e.memoizedState,a=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),bs(0,Rs,n)):(n=a.cache,bs(0,Rs,n),n!==s.cache&&ks(t,[Rs],r,!0))),Eo(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Go(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uu(t)){if(null!==(t=no.current)&&((4194048&ac)===ac?null!==so:(62914560&ac)!==ac&&0===(536870912&ac)||t!==so))throw Gs=Ks,$s;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,xc|=t)}function tl(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=65011712&s.subtreeFlags,n|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nl(e,t,r){var n=t.pendingProps;switch(rs(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vs(Rs),Y(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?Go(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ms())),rl(t),null;case 26:return r=t.memoizedState,null===e?(Go(t),null!==r?(rl(t),Zo(t,r)):(rl(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Go(t),rl(t),Zo(t,r)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==n&&Go(t),rl(t),t.flags&=-16777217),null;case 27:Q(t),r=W.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Go(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return rl(t),null}e=U.current,hs(t)?ds(t):(e=wu(s,n,r),t.stateNode=e,Go(t))}return rl(t),null;case 5:if(Q(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Go(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return rl(t),null}if(e=U.current,hs(t))ds(t);else{switch(s=su(W.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?s.createElement(r,{is:n.is}):s.createElement(r)}}e[Re]=t,e[Oe]=n;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(tu(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Go(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Go(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(e=W.current,hs(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(s=ns))switch(s.tag){case 27:case 5:n=s.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Xd(e.nodeValue,r)))||cs(t)}else(e=su(e).createTextNode(n))[Re]=t,t.stateNode=e}return rl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=hs(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[Re]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),s=!1}else s=ms(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){s=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(s=n.alternate.memoizedState.cachePool.pool);var a=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(a=n.memoizedState.cachePool.pool),a!==s&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),el(t,t.updateQueue),rl(t),null;case 4:return Y(),null===e&&Vd(t.stateNode.containerInfo),rl(t),null;case 10:return vs(t.type),rl(t),null;case 19:if(B(co),null===(s=t.memoizedState))return rl(t),null;if(n=0!==(128&t.flags),null===(a=s.rendering))if(n)tl(s,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=uo(e))){for(t.flags|=128,tl(s,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)zn(r,e),r=r.sibling;return V(co,1&co.current|2),t.child}e=e.sibling}null!==s.tail&&te()>kc&&(t.flags|=128,n=!0,tl(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=uo(a))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!as)return rl(t),null}else 2*te()-s.renderingStartTime>kc&&536870912!==r&&(t.flags|=128,n=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=s.last)?e.sibling=a:t.child=a,s.last=a)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=co.current,V(co,n?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return lo(t),xa(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(r=t.updateQueue)&&el(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&B(Vs),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),vs(Rs),rl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function sl(e,t){switch(rs(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return vs(Rs),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(co),null;case 4:return Y(),null;case 10:return vs(t.type),null;case 22:case 23:return lo(t),xa(),null!==e&&B(Vs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return vs(Rs),null;default:return null}}function al(e,t){switch(rs(t),t.tag){case 3:vs(Rs),Y();break;case 26:case 27:case 5:Q(t);break;case 4:Y();break;case 13:lo(t);break;case 19:B(co);break;case 10:vs(t.type);break;case 22:case 23:lo(t),xa(),null!==e&&B(Vs);break;case 24:vs(Rs)}}function il(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var s=n.next;r=s;do{if((r.tag&e)===e){n=void 0;var a=r.create,i=r.inst;n=a(),i.destroy=n}r=r.next}while(r!==s)}}catch(o){ud(t,t.return,o)}}function ol(e,t,r){try{var n=t.updateQueue,s=null!==n?n.lastEffect:null;if(null!==s){var a=s.next;n=a;do{if((n.tag&e)===e){var i=n.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,s=t;var l=r,c=o;try{c()}catch(d){ud(s,l,d)}}}n=n.next}while(n!==a)}}catch(d){ud(t,t.return,d)}}function ll(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{ha(t,r)}catch(n){ud(e,e.return,n)}}}function cl(e,t,r){r.props=go(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){ud(e,t,n)}}function dl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(s){ud(e,t,s)}}function ul(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(s){ud(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(a){ud(e,t,a)}else r.current=null}function hl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(s){ud(e,e.return,s)}}function fl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,o=null,l=null,c=null,d=null,u=null;for(m in r){var h=r[m];if(r.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(m)||Zd(e,t,m,null,n,h)}}for(var f in n){var m=n[f];if(h=r[f],n.hasOwnProperty(f)&&(null!=m||null!=h))switch(f){case"type":a=m;break;case"name":s=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==h&&Zd(e,t,f,m,n,h)}}return void gt(e,o,l,c,d,u,a,s);case"select":for(a in m=o=l=f=null,r)if(c=r[a],r.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":m=c;default:n.hasOwnProperty(a)||Zd(e,t,a,null,n,c)}for(s in n)if(a=n[s],c=r[s],n.hasOwnProperty(s)&&(null!=a||null!=c))switch(s){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Zd(e,t,s,a,n,c)}return t=l,r=o,n=m,void(null!=f?bt(e,!!r,f,!1):!!n!==!!r&&(null!=t?bt(e,!!r,t,!0):bt(e,!!r,r?[]:"",!1)));case"textarea":for(l in m=f=null,r)if(s=r[l],r.hasOwnProperty(l)&&null!=s&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zd(e,t,l,null,n,s)}for(o in n)if(s=n[o],a=r[o],n.hasOwnProperty(o)&&(null!=s||null!=a))switch(o){case"value":f=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==a&&Zd(e,t,o,s,n,a)}return void vt(e,f,m);case"option":for(var p in r)if(f=r[p],r.hasOwnProperty(p)&&null!=f&&!n.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Zd(e,t,p,null,n,f);for(c in n)if(f=n[c],m=r[c],n.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zd(e,t,c,f,n,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)f=r[g],r.hasOwnProperty(g)&&null!=f&&!n.hasOwnProperty(g)&&Zd(e,t,g,null,n,f);for(d in n)if(f=n[d],m=r[d],n.hasOwnProperty(d)&&f!==m&&(null!=f||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:Zd(e,t,d,f,n,m)}return;default:if(_t(t)){for(var x in r)f=r[x],r.hasOwnProperty(x)&&void 0!==f&&!n.hasOwnProperty(x)&&eu(e,t,x,void 0,n,f);for(u in n)f=n[u],m=r[u],!n.hasOwnProperty(u)||f===m||void 0===f&&void 0===m||eu(e,t,u,f,n,m);return}}for(var y in r)f=r[y],r.hasOwnProperty(y)&&null!=f&&!n.hasOwnProperty(y)&&Zd(e,t,y,null,n,f);for(h in n)f=n[h],m=r[h],!n.hasOwnProperty(h)||f===m||null==f&&null==m||Zd(e,t,h,f,n,m)}(n,e.type,r,t),n[Oe]=t}catch(s){ud(e,e.return,s)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&mu(e.type)||4===e.tag}function pl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&mu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Gd));else if(4!==n&&(27===n&&mu(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,r),e=e.sibling;null!==e;)gl(e,t,r),e=e.sibling}function xl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&mu(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(xl(e,t,r),e=e.sibling;null!==e;)xl(e,t,r),e=e.sibling}function yl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);tu(t,n,r),t[Re]=e,t[Oe]=r}catch(a){ud(e,e.return,a)}}var bl=!1,vl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,jl=null;function Nl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Il(e,r),4&n&&il(5,r);break;case 1:if(Il(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(i){ud(r,r.return,i)}else{var s=go(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ud(r,r.return,o)}}64&n&&ll(r),512&n&&dl(r,r.return);break;case 3:if(Il(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{ha(e,t)}catch(i){ud(r,r.return,i)}}break;case 27:null===t&&4&n&&yl(r);case 26:case 5:Il(e,r),null===t&&4&n&&hl(r),512&n&&dl(r,r.return);break;case 12:Il(e,r);break;case 13:Il(e,r),4&n&&Pl(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=pd.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||vl,s=bl;var a=vl;bl=n,(vl=t)&&!a?zl(e,r,0!==(8772&r.subtreeFlags)):Il(e,r),bl=s,vl=a}break;case 30:break;default:Il(e,r)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,Cl=!1;function El(e,t,r){for(r=r.child;null!==r;)Al(e,t,r),r=r.sibling}function Al(e,t,r){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,r)}catch(a){}switch(r.tag){case 26:vl||ul(r,t),El(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:vl||ul(r,t);var n=_l,s=Cl;mu(r.type)&&(_l=r.stateNode,Cl=!1),El(e,t,r),ku(r.stateNode),_l=n,Cl=s;break;case 5:vl||ul(r,t);case 6:if(n=_l,s=Cl,_l=null,El(e,t,r),Cl=s,null!==(_l=n))if(Cl)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(r.stateNode)}catch(i){ud(r,t,i)}else try{_l.removeChild(r.stateNode)}catch(i){ud(r,t,i)}break;case 18:null!==_l&&(Cl?(pu(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Eh(e)):pu(_l,r.stateNode));break;case 4:n=_l,s=Cl,_l=r.stateNode.containerInfo,Cl=!0,El(e,t,r),_l=n,Cl=s;break;case 0:case 11:case 14:case 15:vl||ol(2,r,t),vl||ol(4,r,t),El(e,t,r);break;case 1:vl||(ul(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&cl(r,t,n)),El(e,t,r);break;case 21:El(e,t,r);break;case 22:vl=(n=vl)||null!==r.memoizedState,El(e,t,r),vl=n;break;default:El(e,t,r)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(r){ud(t,t.return,r)}}function Tl(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach((function(t){var n=gd.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}function Rl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var s=r[n],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(mu(l.type)){_l=l.stateNode,Cl=!1;break e}break;case 5:_l=l.stateNode,Cl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===_l)throw Error(i(160));Al(a,o,s),_l=null,Cl=!1,null!==(a=s.alternate)&&(a.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Ol=null;function Ml(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Ll(e),4&n&&(ol(3,e,e.return),il(3,e),ol(5,e,e.return));break;case 1:Rl(t,e),Ll(e),512&n&&(vl||null===r||ul(r,r.return)),64&n&&bl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var s=Ol;if(Rl(t,e),Ll(e),512&n&&(vl||null===r||ul(r,r.return)),4&n){var a=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":(!(a=s.getElementsByTagName("title")[0])||a[ze]||a[Re]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=s.createElement(n),s.head.insertBefore(a,s.querySelector("head > title"))),tu(a,n,r),a[Re]=e,qe(a),n=a;break e;case"link":var o=Bu("link","href",s).get(n+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&a.getAttribute("rel")===(null==r.rel?null:r.rel)&&a.getAttribute("title")===(null==r.title?null:r.title)&&a.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}tu(a=s.createElement(n),n,r),s.head.appendChild(a);break;case"meta":if(o=Bu("meta","content",s).get(n+(r.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&a.getAttribute("name")===(null==r.name?null:r.name)&&a.getAttribute("property")===(null==r.property?null:r.property)&&a.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&a.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}tu(a=s.createElement(n),n,r),s.head.appendChild(a);break;default:throw Error(i(468,n))}a[Re]=e,qe(a),n=a}e.stateNode=n}else Vu(s,e.type,e.stateNode);else e.stateNode=Lu(s,n,e.memoizedProps);else a!==n?(null===a?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):a.count--,null===n?Vu(s,e.type,e.stateNode):Lu(s,n,e.memoizedProps)):null===n&&null!==e.stateNode&&fl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Rl(t,e),Ll(e),512&n&&(vl||null===r||ul(r,r.return)),null!==r&&4&n&&fl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Rl(t,e),Ll(e),512&n&&(vl||null===r||ul(r,r.return)),32&e.flags){s=e.stateNode;try{kt(s,"")}catch(m){ud(e,e.return,m)}}4&n&&null!=e.stateNode&&fl(e,s=e.memoizedProps,null!==r?r.memoizedProps:s),1024&n&&(wl=!0);break;case 6:if(Rl(t,e),Ll(e),4&n){if(null===e.stateNode)throw Error(i(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(m){ud(e,e.return,m)}}break;case 3:if(zu=null,s=Ol,Ol=Su(t.containerInfo),Rl(t,e),Ol=s,Ll(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(m){ud(e,e.return,m)}wl&&(wl=!1,Dl(e));break;case 4:n=Ol,Ol=Su(e.stateNode.containerInfo),Rl(t,e),Ll(e),Ol=n;break;case 12:default:Rl(t,e),Ll(e);break;case 13:Rl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(wc=te()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Tl(e,n)));break;case 22:s=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,d=bl,u=vl;if(bl=d||s,vl=u||c,Rl(t,e),vl=u,bl=d,Ll(e),8192&n)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===r||c||bl||vl||Fl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(a=c.stateNode,s)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){ud(c,c.return,m)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(m){ud(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Tl(e,r))));break;case 19:Rl(t,e),Ll(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Tl(e,n)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(ml(n)){r=n;break}n=n.return}if(null==r)throw Error(i(160));switch(r.tag){case 27:var s=r.stateNode;xl(e,pl(e),s);break;case 5:var a=r.stateNode;32&r.flags&&(kt(a,""),r.flags&=-33),xl(e,pl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;gl(e,pl(e),o);break;default:throw Error(i(161))}}catch(l){ud(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Dl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Il(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:ul(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&cl(t,t.return,r),Fl(t);break;case 27:ku(t.stateNode);case 26:case 5:ul(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function zl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,s=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:zl(s,a,r),il(4,a);break;case 1:if(zl(s,a,r),"function"===typeof(s=(n=a).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){ud(n,n.return,c)}if(null!==(s=(n=a).updateQueue)){var o=n.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)ua(l[s],o)}catch(c){ud(n,n.return,c)}}r&&64&i&&ll(a),dl(a,a.return);break;case 27:yl(a);case 26:case 5:zl(s,a,r),r&&null===n&&4&i&&hl(a),dl(a,a.return);break;case 12:zl(s,a,r);break;case 13:zl(s,a,r),r&&4&i&&Pl(s,a);break;case 22:null===a.memoizedState&&zl(s,a,r),dl(a,a.return);break;case 30:break;default:zl(s,a,r)}t=t.sibling}}function Bl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Ms(r))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ms(e))}function Ul(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,r,n),t=t.sibling}function Hl(e,t,r,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,r,n),2048&s&&il(9,t);break;case 1:case 13:default:Ul(e,t,r,n);break;case 3:Ul(e,t,r,n),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ms(e)));break;case 12:if(2048&s){Ul(e,t,r,n),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,o=a.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ud(t,t.return,l)}}else Ul(e,t,r,n);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?Ul(e,t,r,n):ql(e,t):2&a._visibility?Ul(e,t,r,n):(a._visibility|=2,Wl(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&s&&Bl(i,t);break;case 24:Ul(e,t,r,n),2048&s&&Vl(t.alternate,t)}}function Wl(e,t,r,n,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,i=t,o=r,l=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:Wl(a,i,o,l,s),il(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?Wl(a,i,o,l,s):ql(a,i):(d._visibility|=2,Wl(a,i,o,l,s)),s&&2048&c&&Bl(i.alternate,i);break;case 24:Wl(a,i,o,l,s),s&&2048&c&&Vl(i.alternate,i);break;default:Wl(a,i,o,l,s)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,s=n.flags;switch(n.tag){case 22:ql(r,n),2048&s&&Bl(n.alternate,n);break;case 24:ql(r,n),2048&s&&Vl(n.alternate,n);break;default:ql(r,n)}t=t.sibling}}var $l=8192;function Yl(e){if(e.subtreeFlags&$l)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:Yl(e),e.flags&$l&&null!==e.memoizedState&&function(e,t,r){if(null===Hu)throw Error(i(475));var n=Hu;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=Pu(r.href),a=e.querySelector(Tu(s));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=qu.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=a,void qe(a);a=e.ownerDocument||e,r=Ru(r),(s=ju.get(s))&&Iu(r,s),qe(a=a.createElement("link"));var o=a;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),tu(a,"link",r),t.instance=a}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=qu.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Yl(e);break;case 3:case 4:var t=Ol;Ol=Su(e.stateNode.containerInfo),Yl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=$l,$l=16777216,Yl(e),$l=t):Yl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];jl=n,Zl(n,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Jl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Gl(e)):Jl(e)}}function Gl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];jl=n,Zl(n,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Gl(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Gl(t));break;default:Gl(t)}e=e.sibling}}function Zl(e,t){for(;null!==jl;){var r=jl;switch(r.tag){case 0:case 11:case 15:ol(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Ms(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,jl=n;else e:for(r=e;null!==jl;){var s=(n=jl).sibling,a=n.return;if(Sl(n),n===r){jl=null;break e}if(null!==s){s.return=a,jl=s;break e}jl=a}}}var ec={getCacheForType:function(e){var t=_s(Rs),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tc="function"===typeof WeakMap?WeakMap:Map,rc=0,nc=null,sc=null,ac=0,ic=0,oc=null,lc=!1,cc=!1,dc=!1,uc=0,hc=0,fc=0,mc=0,pc=0,gc=0,xc=0,yc=null,bc=null,vc=!1,wc=0,kc=1/0,jc=null,Nc=null,Sc=0,_c=null,Cc=null,Ec=0,Ac=0,Pc=null,Tc=null,Rc=0,Oc=null;function Mc(){if(0!==(2&rc)&&0!==ac)return ac&-ac;if(null!==M.T){return 0!==Is?Is:Pd()}return Pe()}function Lc(){0===gc&&(gc=0===(536870912&ac)||as?ke():536870912);var e=no.current;return null!==e&&(e.flags|=32),gc}function Ic(e,t,r){(e!==nc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Wc(e,0),Vc(e,ac,gc,!1)),Se(e,r),0!==(2&rc)&&e===nc||(e===nc&&(0===(2&rc)&&(mc|=r),4===hc&&Vc(e,ac,gc,!1)),jd(e))}function Fc(e,t,r){if(0!==(6&rc))throw Error(i(327));for(var n=!r&&0===(124&t)&&0===(t&e.expiredLanes)||ve(e,t),s=n?function(e,t){var r=rc;rc|=2;var n=$c(),s=Yc();nc!==e||ac!==t?(jc=null,kc=te()+500,Wc(e,t)):cc=ve(e,t);e:for(;;)try{if(0!==ic&&null!==sc){t=sc;var a=oc;t:switch(ic){case 1:ic=0,oc=null,ed(e,t,a,1);break;case 2:case 9:if(Qs(a)){ic=0,oc=null,Zc(t);break}t=function(){2!==ic&&9!==ic||nc!==e||(ic=7),jd(e)},a.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Qs(a)?(ic=0,oc=null,Zc(t)):(ic=0,oc=null,ed(e,t,a,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||Uu(o)){ic=0,oc=null;var c=l.sibling;if(null!==c)sc=c;else{var d=l.return;null!==d?(sc=d,td(d)):sc=null}break t}}ic=0,oc=null,ed(e,t,a,5);break;case 6:ic=0,oc=null,ed(e,t,a,6);break;case 8:Hc(),hc=6;break e;default:throw Error(i(462))}}Xc();break}catch(u){qc(e,u)}return ys=xs=null,M.H=n,M.A=s,rc=r,null!==sc?0:(nc=null,ac=0,En(),hc)}(e,t):Qc(e,t,!0),a=n;;){if(0===s){cc&&!n&&Vc(e,t,0,!1);break}if(r=e.current.alternate,!a||Bc(r)){if(2===s){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=a,mc|=a,s=4;break e}a=bc,bc=s,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}s=o}if(a=!1,2!==s)continue}}if(1===s){Wc(e,0),Vc(e,t,0,!0);break}e:{switch(n=e,a=s){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Vc(n,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(s=wc+300-te())){if(Vc(n,t,gc,!lc),0!==be(n,0,!0))break e;n.timeoutHandle=cu(zc.bind(null,n,r,bc,jc,vc,t,gc,mc,xc,lc,a,2,-0,0),s)}else zc(n,r,bc,jc,vc,t,gc,mc,xc,lc,a,0,-0,0)}break}s=Qc(e,t,!1),a=!1}jd(e)}function zc(e,t,r,n,s,a,o,l,c,d,u,h,f,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Hu={stylesheets:null,count:0,unsuspend:Wu},Kl(t),null!==(h=function(){if(null===Hu)throw Error(i(475));var e=Hu;return e.stylesheets&&0===e.count&&Yu(e,e.stylesheets),0<e.count?function(t){var r=setTimeout((function(){if(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=h(nd.bind(null,e,t,a,r,n,s,o,l,c,u,1,f,m)),void Vc(e,a,o,!d);nd(e,t,a,r,n,s,o,l,c)}function Bc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Kr(a(),s))return!1}catch(i){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,r,n){t&=~pc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var a=31-fe(s),i=1<<a;n[a]=-1,s&=~i}0!==r&&_e(e,r,t)}function Uc(){return 0!==(6&rc)||(Nd(0,!1),!1)}function Hc(){if(null!==sc){if(0===ic)var e=sc.return;else ys=xs=null,Ia(e=sc),Ki=null,Qi=0,e=sc;for(;null!==e;)al(e.alternate,e),e=e.return;sc=null}}function Wc(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,du(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Hc(),nc=e,sc=r=Fn(e.current,null),ac=t,ic=0,oc=null,lc=!1,cc=ve(e,t),dc=!1,xc=gc=pc=mc=fc=hc=0,bc=yc=null,vc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var s=31-fe(n),a=1<<s;t|=e[s],n&=~a}return uc=t,En(),r}function qc(e,t){ba=null,M.H=Wi,t===qs||t===Ys?(t=Zs(),ic=3):t===$s?(t=Zs(),ic=4):ic=t===_o?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===sc&&(hc=1,wo(e,Nn(t,e.current)))}function $c(){var e=M.H;return M.H=Wi,null===e?Wi:e}function Yc(){var e=M.A;return M.A=ec,e}function Kc(){hc=4,lc||(4194048&ac)!==ac&&null!==no.current||(cc=!0),0===(134217727&fc)&&0===(134217727&mc)||null===nc||Vc(nc,ac,gc,!1)}function Qc(e,t,r){var n=rc;rc|=2;var s=$c(),a=Yc();nc===e&&ac===t||(jc=null,Wc(e,t)),t=!1;var i=hc;e:for(;;)try{if(0!==ic&&null!==sc){var o=sc,l=oc;switch(ic){case 8:Hc(),i=6;break e;case 3:case 2:case 9:case 6:null===no.current&&(t=!0);var c=ic;if(ic=0,oc=null,ed(e,o,l,c),r&&cc){i=0;break e}break;default:c=ic,ic=0,oc=null,ed(e,o,l,c)}}Jc(),i=hc;break}catch(d){qc(e,d)}return t&&e.shellSuspendCounter++,ys=xs=null,rc=n,M.H=s,M.A=a,null===sc&&(nc=null,ac=0,En()),i}function Jc(){for(;null!==sc;)Gc(sc)}function Xc(){for(;null!==sc&&!Z();)Gc(sc)}function Gc(e){var t=Xo(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?td(e):sc=t}function Zc(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Do(r,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Do(r,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Ia(t);default:al(r,t),t=Xo(r,t=sc=zn(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?td(e):sc=t}function ed(e,t,r,n){ys=xs=null,Ia(t),Ki=null,Qi=0;var s=t.return;try{if(function(e,t,r,n,s){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&js(t,r,s,!0),null!==(r=no.current)){switch(r.tag){case 13:return null===so?Kc():null===r.alternate&&0===hc&&(hc=3),r.flags&=-257,r.flags|=65536,r.lanes=s,n===Ks?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),hd(e,n,s)),!1;case 22:return r.flags|=65536,n===Ks?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),hd(e,n,s)),!1}throw Error(i(435,r.tag))}return hd(e,n,s),Kc(),!1}if(as)return null!==(t=no.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==ls&&ps(Nn(e=Error(i(422),{cause:n}),r))):(n!==ls&&ps(Nn(t=Error(i(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,n=Nn(n,r),oa(e,s=jo(e.stateNode,n,s)),4!==hc&&(hc=2)),!1;var a=Error(i(520),{cause:n});if(a=Nn(a,r),null===yc?yc=[a]:yc.push(a),4!==hc&&(hc=2),null===t)return!0;n=Nn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=s&-s,r.lanes|=e,oa(r,e=jo(r.stateNode,n,e)),!1;case 1:if(t=r.type,a=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Nc||!Nc.has(a))))return r.flags|=65536,s&=-s,r.lanes|=s,So(s=No(s),e,r,n),oa(r,s),!1}r=r.return}while(null!==r);return!1}(e,s,t,r,ac))return hc=1,wo(e,Nn(r,e.current)),void(sc=null)}catch(a){if(null!==s)throw sc=s,a;return hc=1,wo(e,Nn(r,e.current)),void(sc=null)}32768&t.flags?(as||1===n?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=no.current)&&13===n.tag&&(n.flags|=16384))),rd(t,e)):td(t)}function td(e){var t=e;do{if(0!==(32768&t.flags))return void rd(t,lc);e=t.return;var r=nl(t.alternate,t,uc);if(null!==r)return void(sc=r);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===hc&&(hc=5)}function rd(e,t){do{var r=sl(e.alternate,e);if(null!==r)return r.flags&=32767,void(sc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=r}while(null!==e);hc=6,sc=null}function nd(e,t,r,n,s,a,o,l,c){e.cancelPendingCommit=null;do{ld()}while(0!==Sc);if(0!==(6&rc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,r,n,s,a){var i=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=i&~r;0<r;){var d=31-fe(r),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var f=h[d];null!==f&&(f.lane&=-536870913)}r&=~u}0!==n&&_e(e,n,0),0!==a&&0===s&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,r,a|=Cn,o,l,c),e===nc&&(sc=nc=null,ac=0),Cc=t,_c=e,Ec=r,Ac=a,Pc=s,Tc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,function(e,t){X(e,t)}(ae,(function(){return cd(),null}))):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null,s=L.p,L.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,ru=nh,en(e=Zr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(g){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==r||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++d===s&&(l=o),f===a&&++u===n&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nu={focusedElem:e,selectionRange:r},nh=!1,jl=t;null!==jl;)if(e=(t=jl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,jl=e;else for(;null!==jl;){switch(a=(t=jl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,r=t,s=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var p=go(r.type,s,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(p,a),n.__reactInternalSnapshotBeforeUpdate=e}catch(x){ud(r,r.return,x)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))gu(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,jl=e;break}jl=t.return}}(e,t)}finally{rc=o,L.p=s,M.T=n}}Sc=1,sd(),ad(),id()}}function sd(){if(1===Sc){Sc=0;var e=_c,t=Cc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null;var n=L.p;L.p=2;var s=rc;rc|=4;try{Ml(t,e);var a=nu,i=Zr(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(i!==o&&o&&o.ownerDocument&&Gr(o.ownerDocument.documentElement,o)){if(null!==l&&en(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var f=h.getSelection(),m=o.textContent.length,p=Math.min(l.start,m),g=void 0===l.end?p:Math.min(l.end,m);!f.extend&&p>g&&(i=g,g=p,p=i);var x=Xr(o,p),y=Xr(o,g);if(x&&y&&(1!==f.rangeCount||f.anchorNode!==x.node||f.anchorOffset!==x.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=u.createRange();b.setStart(x.node,x.offset),f.removeAllRanges(),p>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(u=[],f=o;f=f.parentNode;)1===f.nodeType&&u.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}nh=!!ru,nu=ru=null}finally{rc=s,L.p=n,M.T=r}}e.current=t,Sc=2}}function ad(){if(2===Sc){Sc=0;var e=_c,t=Cc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=M.T,M.T=null;var n=L.p;L.p=2;var s=rc;rc|=4;try{Nl(e,t.alternate,t)}finally{rc=s,L.p=n,M.T=r}}Sc=3}}function id(){if(4===Sc||3===Sc){Sc=0,ee();var e=_c,t=Cc,r=Ec,n=Tc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Cc=_c=null,od(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Nc=null),Ae(r),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=M.T,s=L.p,L.p=2,M.T=null;try{for(var a=e.onRecoverableError,i=0;i<n.length;i++){var o=n[i];a(o.value,{componentStack:o.stack})}}finally{M.T=t,L.p=s}}0!==(3&Ec)&&ld(),jd(e),s=e.pendingLanes,0!==(4194090&r)&&0!==(42&s)?e===Oc?Rc++:(Rc=0,Oc=e):Rc=0,Nd(0,!1)}}function od(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ms(t)))}function ld(e){return sd(),ad(),id(),cd()}function cd(){if(5!==Sc)return!1;var e=_c,t=Ac;Ac=0;var r=Ae(Ec),n=M.T,s=L.p;try{L.p=32>r?32:r,M.T=null,r=Pc,Pc=null;var a=_c,o=Ec;if(Sc=0,Cc=_c=null,Ec=0,0!==(6&rc))throw Error(i(331));var l=rc;if(rc|=4,Xl(a.current),Hl(a,a.current,o,r),rc=l,Nd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,a)}catch(c){}return!0}finally{L.p=s,M.T=n,od(e,t)}}function dd(e,t,r){t=Nn(r,t),null!==(e=aa(e,t=jo(e.stateNode,t,2),2))&&(Se(e,2),jd(e))}function ud(e,t,r){if(3===e.tag)dd(e,e,r);else for(;null!==t;){if(3===t.tag){dd(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Nc||!Nc.has(n))){e=Nn(r,e),null!==(n=aa(t,r=No(2),2))&&(So(r,n,t,e),Se(n,2),jd(n));break}}t=t.return}}function hd(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new tc;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(r)||(dc=!0,s.add(r),e=fd.bind(null,e,t,r),t.then(e,e))}function fd(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,nc===e&&(ac&r)===r&&(4===hc||3===hc&&(62914560&ac)===ac&&300>te()-wc?0===(2&rc)&&Wc(e,0):pc|=r,xc===ac&&(xc=0)),jd(e)}function md(e,t){0===t&&(t=je()),null!==(e=Tn(e,t))&&(Se(e,t),jd(e))}function pd(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),md(e,r)}function gd(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(r=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==n&&n.delete(t),md(e,r)}var xd=null,yd=null,bd=!1,vd=!1,wd=!1,kd=0;function jd(e){e!==yd&&null===e.next&&(null===yd?xd=yd=e:yd=yd.next=e),vd=!0,bd||(bd=!0,hu((function(){0!==(6&rc)?X(ne,Sd):_d()})))}function Nd(e,t){if(!wd&&vd){wd=!0;do{for(var r=!1,n=xd;null!==n;){if(!t)if(0!==e){var s=n.pendingLanes;if(0===s)var a=0;else{var i=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=s&~(i&~o))?201326741&a|1:a?2|a:0}0!==a&&(r=!0,Ad(n,a))}else a=ac,0===(3&(a=be(n,n===nc?a:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||ve(n,a)||(r=!0,Ad(n,a));n=n.next}}while(r);wd=!1}}function Sd(){_d()}function _d(){vd=bd=!1;var e=0;0!==kd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==lu&&(lu=e,!0);return lu=null,!1}()&&(e=kd),kd=0);for(var t=te(),r=null,n=xd;null!==n;){var s=n.next,a=Cd(n,t);0===a?(n.next=null,null===r?xd=s:r.next=s,null===s&&(yd=r)):(r=n,(0!==e||0!==(3&a))&&(vd=!0)),n=s}Nd(e,!1)}function Cd(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-fe(a),o=1<<i,l=s[i];-1===l?0!==(o&r)&&0===(o&n)||(s[i]=we(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(r=ac,r=be(e,e===(t=nc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&G(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||ve(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&G(n),Ae(r)){case 2:case 8:r=se;break;case 32:default:r=ae;break;case 268435456:r=oe}return n=Ed.bind(null,e),r=X(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&G(n),e.callbackPriority=2,e.callbackNode=null,2}function Ed(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ld()&&e.callbackNode!==r)return null;var n=ac;return 0===(n=be(e,e===nc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,n,t),Cd(e,te()),null!=e.callbackNode&&e.callbackNode===r?Ed.bind(null,e):null)}function Ad(e,t){if(ld())return null;Fc(e,t,!0)}function Pd(){return 0===kd&&(kd=ke()),kd}function Td(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Rd(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Od=0;Od<wn.length;Od++){var Md=wn[Od];kn(Md.toLowerCase(),"on"+(Md[0].toUpperCase()+Md.slice(1)))}kn(fn,"onAnimationEnd"),kn(mn,"onAnimationIteration"),kn(pn,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(gn,"onTransitionRun"),kn(xn,"onTransitionStart"),kn(yn,"onTransitionCancel"),kn(bn,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ld));function Id(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=c;try{a(s)}catch(d){xo(d)}s.currentTarget=null,a=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=c;try{a(s)}catch(d){xo(d)}s.currentTarget=null,a=l}}}}function Fd(e,t){var r=t[Le];void 0===r&&(r=t[Le]=new Set);var n=e+"__bubble";r.has(n)||(Ud(t,e,2,!1),r.add(n))}function zd(e,t,r){var n=0;t&&(n|=4),Ud(r,e,n,t)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[Bd]){e[Bd]=!0,$e.forEach((function(t){"selectionchange"!==t&&(Dd.has(t)||zd(t,!1,e),zd(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bd]||(t[Bd]=!0,zd("selectionchange",!1,t))}}function Ud(e,t,r,n){switch(dh(t)){case 2:var s=sh;break;case 8:s=ah;break;default:s=ih}r=s.bind(null,t,r,e),s=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):void 0!==s?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Hd(e,t,r,n,s){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===s)break;if(4===i)for(i=n.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===s)return;i=i.return}for(;null!==o;){if(null===(i=Ve(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){n=a=i;continue e}o=o.parentNode}}n=n.return}Dt((function(){var n=a,s=Tt(r),i=[];e:{var o=vn.get(e);if(void 0!==o){var c=Zt,d=e;switch(e){case"keypress":if(0===qt(r))break e;case"keydown":case"keyup":c=mr;break;case"focusin":d="focus",c=ar;break;case"focusout":d="blur",c=ar;break;case"beforeblur":case"afterblur":c=ar;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gr;break;case fn:case mn:case pn:c=ir;break;case bn:c=xr;break;case"scroll":case"scrollend":c=tr;break;case"wheel":c=yr;break;case"copy":case"cut":case"paste":c=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=pr;break;case"toggle":case"beforetoggle":c=br}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),f=u?null!==o?o+"Capture":null:o;u=[];for(var m,p=n;null!==p;){var g=p;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===f||null!=(g=It(p,f))&&u.push(Wd(p,g,m)),h)break;p=p.return}0<u.length&&(o=new c(o,d,null,r,s),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Pt||!(d=r.relatedTarget||r.fromElement)||!Ve(d)&&!d[Me])&&(c||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=n,null!==(d=(d=r.relatedTarget||r.toElement)?Ve(d):null)&&(h=l(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=n),c!==d)){if(u=nr,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=pr,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==c?o:He(c),m=null==d?o:He(d),(o=new u(g,p+"leave",c,r,s)).target=h,o.relatedTarget=m,g=null,Ve(s)===n&&((u=new u(f,p+"enter",d,r,s)).target=m,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(f=d,p=0,m=u=c;m;m=$d(m))p++;for(m=0,g=f;g;g=$d(g))m++;for(;0<p-m;)u=$d(u),p--;for(;0<m-p;)f=$d(f),m--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=$d(u),f=$d(f)}u=null}else u=null;null!==c&&Yd(i,o,c,u,!1),null!==d&&null!==h&&Yd(i,h,d,u,!0)}if("select"===(c=(o=n?He(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var x=Ir;else if(Tr(o))if(Fr)x=Yr;else{x=qr;var y=Wr}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&_t(n.elementType)&&(x=Ir):x=$r;switch(x&&(x=x(e,n))?Rr(i,x,r,s):(y&&y(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&yt(o,"number",o.value)),y=n?He(n):window,e){case"focusin":(Tr(y)||"true"===y.contentEditable)&&(rn=y,nn=n,sn=null);break;case"focusout":sn=nn=rn=null;break;case"mousedown":an=!0;break;case"contextmenu":case"mouseup":case"dragend":an=!1,on(i,r,s);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":on(i,r,s)}var b;if(wr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ar?Cr(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Nr&&"ko"!==r.locale&&(Ar||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ar&&(b=Wt()):(Ut="value"in(Vt=s)?Vt.value:Vt.textContent,Ar=!0)),0<(y=qd(n,v)).length&&(v=new lr(v,e,null,r,s),i.push({event:v,listeners:y}),b?v.data=b:null!==(b=Er(r))&&(v.data=b))),(b=jr?function(e,t){switch(e){case"compositionend":return Er(t);case"keypress":return 32!==t.which?null:(_r=!0,Sr);case"textInput":return(e=t.data)===Sr&&_r?null:e;default:return null}}(e,r):function(e,t){if(Ar)return"compositionend"===e||!wr&&Cr(e,t)?(e=Wt(),Ht=Ut=Vt=null,Ar=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(v=qd(n,"onBeforeInput")).length&&(y=new lr("onBeforeInput","beforeinput",null,r,s),i.push({event:y,listeners:v}),y.data=b)),function(e,t,r,n,s){if("submit"===t&&r&&r.stateNode===s){var a=Td((s[Oe]||null).action),i=n.submitter;i&&null!==(t=(t=i[Oe]||null)?Td(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var o=new Zt("action","action",null,n,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==kd){var e=i?Rd(s,i):new FormData(s);Pi(r,{pending:!0,data:e,method:s.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=i?Rd(s,i):new FormData(s),Pi(r,{pending:!0,data:e,method:s.method,action:a},a,e))},currentTarget:s}]})}}(i,e,n,r,s)}Id(i,t)}))}function Wd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qd(e,t){for(var r=t+"Capture",n=[];null!==e;){var s=e,a=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===a||(null!=(s=It(e,r))&&n.unshift(Wd(e,s,a)),null!=(s=It(e,t))&&n.push(Wd(e,s,a))),3===e.tag)return n;e=e.return}return[]}function $d(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Yd(e,t,r,n,s){for(var a=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=It(r,a))&&i.unshift(Wd(r,c,l)):s||null!=(c=It(r,a))&&i.push(Wd(r,c,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Kd=/\r\n?/g,Qd=/\u0000|\uFFFD/g;function Jd(e){return("string"===typeof e?e:""+e).replace(Kd,"\n").replace(Qd,"")}function Xd(e,t){return t=Jd(t),Jd(e)===t}function Gd(){}function Zd(e,t,r,n,s,a){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||kt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&kt(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,n);break;case"style":St(e,n,a);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=At(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===r?("input"!==t&&Zd(e,t,"name",s.name,s,null),Zd(e,t,"formEncType",s.formEncType,s,null),Zd(e,t,"formMethod",s.formMethod,s,null),Zd(e,t,"formTarget",s.formTarget,s,null)):(Zd(e,t,"encType",s.encType,s,null),Zd(e,t,"method",s.method,s,null),Zd(e,t,"target",s.target,s,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=At(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Gd);break;case"onScroll":null!=n&&Fd("scroll",e);break;case"onScrollEnd":null!=n&&Fd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(r=n.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=At(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Fd("beforetoggle",e),Fd("toggle",e),tt(e,"popover",n);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=Ct.get(r)||r,n)}}function eu(e,t,r,n,s,a){switch(r){case"style":St(e,n,a);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(r=n.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=r}}break;case"children":"string"===typeof n?kt(e,n):("number"===typeof n||"bigint"===typeof n)&&kt(e,""+n);break;case"onScroll":null!=n&&Fd("scroll",e);break;case"onScrollEnd":null!=n&&Fd("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Gd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(s=r.endsWith("Capture"),t=r.slice(2,s?r.length-7:void 0),"function"===typeof(a=null!=(a=e[Oe]||null)?a[r]:null)&&e.removeEventListener(t,a,s),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):tt(e,r,n):("function"!==typeof a&&null!==a&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,s)))}}function tu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fd("error",e),Fd("load",e);var n,s=!1,a=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Zd(e,t,n,o,r,null)}}return a&&Zd(e,t,"srcSet",r.srcSet,r,null),void(s&&Zd(e,t,"src",r.src,r,null));case"input":Fd("invalid",e);var l=n=o=a=null,c=null,d=null;for(s in r)if(r.hasOwnProperty(s)){var u=r[s];if(null!=u)switch(s){case"name":a=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:Zd(e,t,s,u,r,null)}}return xt(e,n,l,c,d,o,a,!1),void ut(e);case"select":for(a in Fd("invalid",e),s=o=n=null,r)if(r.hasOwnProperty(a)&&null!=(l=r[a]))switch(a){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Zd(e,t,a,l,r,null)}return t=n,r=o,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=r&&bt(e,!!s,r,!0));case"textarea":for(o in Fd("invalid",e),n=a=s=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":s=l;break;case"defaultValue":a=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Zd(e,t,o,l,r,null)}return wt(e,s,a,n),void ut(e);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(s=r[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Zd(e,t,c,s,r,null);return;case"dialog":Fd("beforetoggle",e),Fd("toggle",e),Fd("cancel",e),Fd("close",e);break;case"iframe":case"object":Fd("load",e);break;case"video":case"audio":for(s=0;s<Ld.length;s++)Fd(Ld[s],e);break;case"image":Fd("error",e),Fd("load",e);break;case"details":Fd("toggle",e);break;case"embed":case"source":case"link":Fd("error",e),Fd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(s=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Zd(e,t,d,s,r,null)}return;default:if(_t(t)){for(u in r)r.hasOwnProperty(u)&&(void 0!==(s=r[u])&&eu(e,t,u,s,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(s=r[l])&&Zd(e,t,l,s,r,null))}var ru=null,nu=null;function su(e){return 9===e.nodeType?e:e.ownerDocument}function au(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ou(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var lu=null;var cu="function"===typeof setTimeout?setTimeout:void 0,du="function"===typeof clearTimeout?clearTimeout:void 0,uu="function"===typeof Promise?Promise:void 0,hu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uu?function(e){return uu.resolve(null).then(e).catch(fu)}:cu;function fu(e){setTimeout((function(){throw e}))}function mu(e){return"head"===e}function pu(e,t){var r=t,n=0,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0<n&&8>n){r=n;var i=e.ownerDocument;if(1&r&&ku(i.documentElement),2&r&&ku(i.body),4&r)for(ku(r=i.head),i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||r.removeChild(i),i=o}}if(0===s)return e.removeChild(a),void Eh(t);s--}else"$"===r||"$?"===r||"$!"===r?s++:n=r.charCodeAt(0)-48;else n=0;r=a}while(r);Eh(t)}function gu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gu(r),Be(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function xu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bu=null;function vu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function wu(e,t,r){switch(t=su(r),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function ku(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var ju=new Map,Nu=new Set;function Su(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _u=L.d;L.d={f:function(){var e=_u.f(),t=Uc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ri(t):_u.r(e)},D:function(e){_u.D(e),Eu("dns-prefetch",e,null)},C:function(e,t){_u.C(e,t),Eu("preconnect",e,t)},L:function(e,t,r){_u.L(e,t,r);var n=Cu;if(n&&e&&t){var s='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(s+='[imagesrcset="'+pt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(s+='[imagesizes="'+pt(r.imageSizes)+'"]')):s+='[href="'+pt(e)+'"]';var a=s;switch(t){case"style":a=Pu(e);break;case"script":a=Ou(e)}ju.has(a)||(e=h({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),ju.set(a,e),null!==n.querySelector(s)||"style"===t&&n.querySelector(Tu(a))||"script"===t&&n.querySelector(Mu(a))||(tu(t=n.createElement("link"),"link",e),qe(t),n.head.appendChild(t)))}},m:function(e,t){_u.m(e,t);var r=Cu;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+pt(n)+'"][href="'+pt(e)+'"]',a=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ou(e)}if(!ju.has(a)&&(e=h({rel:"modulepreload",href:e},t),ju.set(a,e),null===r.querySelector(s))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Mu(a)))return}tu(n=r.createElement("link"),"link",e),qe(n),r.head.appendChild(n)}}},X:function(e,t){_u.X(e,t);var r=Cu;if(r&&e){var n=We(r).hoistableScripts,s=Ou(e),a=n.get(s);a||((a=r.querySelector(Mu(s)))||(e=h({src:e,async:!0},t),(t=ju.get(s))&&Fu(e,t),qe(a=r.createElement("script")),tu(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(s,a))}},S:function(e,t,r){_u.S(e,t,r);var n=Cu;if(n&&e){var s=We(n).hoistableStyles,a=Pu(e);t=t||"default";var i=s.get(a);if(!i){var o={loading:0,preload:null};if(i=n.querySelector(Tu(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},r),(r=ju.get(a))&&Iu(e,r);var l=i=n.createElement("link");qe(l),tu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Du(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:o},s.set(a,i)}}},M:function(e,t){_u.M(e,t);var r=Cu;if(r&&e){var n=We(r).hoistableScripts,s=Ou(e),a=n.get(s);a||((a=r.querySelector(Mu(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=ju.get(s))&&Fu(e,t),qe(a=r.createElement("script")),tu(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(s,a))}}};var Cu="undefined"===typeof document?null:document;function Eu(e,t,r){var n=Cu;if(n&&"string"===typeof t&&t){var s=pt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof r&&(s+='[crossorigin="'+r+'"]'),Nu.has(s)||(Nu.add(s),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(s)&&(tu(t=n.createElement("link"),"link",e),qe(t),n.head.appendChild(t)))}}function Au(e,t,r,n){var s,a,o,l,c=(c=W.current)?Su(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Pu(r.href),(n=(r=We(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Pu(r.href);var d=We(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Tu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),ju.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ju.set(e,r),d||(s=c,a=e,o=r,l=u.state,s.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=s.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),tu(a,"link",o),qe(a),s.head.appendChild(a))))),t&&null===n)throw Error(i(528,""));return u}if(t&&null!==n)throw Error(i(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ou(r),(n=(r=We(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Pu(e){return'href="'+pt(e)+'"'}function Tu(e){return'link[rel="stylesheet"]['+e+"]"}function Ru(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Ou(e){return'[src="'+pt(e)+'"]'}function Mu(e){return"script[async]"+e}function Lu(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+pt(r.href)+'"]');if(n)return t.instance=n,qe(n),n;var s=h({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return qe(n=(e.ownerDocument||e).createElement("style")),tu(n,"style",s),Du(n,r.precedence,e),t.instance=n;case"stylesheet":s=Pu(r.href);var a=e.querySelector(Tu(s));if(a)return t.state.loading|=4,t.instance=a,qe(a),a;n=Ru(r),(s=ju.get(s))&&Iu(n,s),qe(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),tu(a,"link",n),t.state.loading|=4,Du(a,r.precedence,e),t.instance=a;case"script":return a=Ou(r.src),(s=e.querySelector(Mu(a)))?(t.instance=s,qe(s),s):(n=r,(s=ju.get(a))&&Fu(n=h({},r),s),qe(s=(e=e.ownerDocument||e).createElement("script")),tu(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Du(n,r.precedence,e));return t.instance}function Du(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,a=s,i=0;i<n.length;i++){var o=n[i];if(o.dataset.precedence===t)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Iu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zu=null;function Bu(e,t,r){if(null===zu){var n=new Map,s=zu=new Map;s.set(r,n)}else(n=(s=zu).get(r))||(n=new Map,s.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),s=0;s<r.length;s++){var a=r[s];if(!(a[ze]||a[Re]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var o=n.get(i);o?o.push(a):n.set(i,[a])}}return n}function Vu(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Uu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hu=null;function Wu(){}function qu(){if(this.count--,0===this.count)if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var $u=null;function Yu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,$u=new Map,t.forEach(Ku,e),$u=null,qu.call(e))}function Ku(e,t){if(!(4&t.state.loading)){var r=$u.get(e);if(r)var n=r.get(null);else{r=new Map,$u.set(e,r);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var i=s[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(r.set(i.dataset.precedence,i),n=i)}n&&r.set(null,n)}i=(s=t.instance).getAttribute("data-precedence"),(a=r.get(i)||n)===n&&r.set(null,s),r.set(i,s),this.count++,n=qu.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),a?a.parentNode.insertBefore(s,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Qu={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Ju(e,t,r,n,s,a,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xu(e,t,r,n,s,a,i,o,l,c,d,u){return e=new Ju(e,t,r,i,o,l,c,u),t=1,!0===a&&(t|=24),a=Dn(3,null,null,t),e.current=a,a.stateNode=e,(t=Os()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:t},ra(a),e}function Gu(e){return e?e=Mn:Mn}function Zu(e,t,r,n,s,a){s=Gu(s),null===n.context?n.context=s:n.pendingContext=s,(n=sa(t)).payload={element:r},null!==(a=void 0===a?null:a)&&(n.callback=a),null!==(r=aa(e,n,t))&&(Ic(r,0,t),ia(r,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function rh(e){if(13===e.tag){var t=Tn(e,67108864);null!==t&&Ic(t,0,67108864),th(e,67108864)}}var nh=!0;function sh(e,t,r,n){var s=M.T;M.T=null;var a=L.p;try{L.p=2,ih(e,t,r,n)}finally{L.p=a,M.T=s}}function ah(e,t,r,n){var s=M.T;M.T=null;var a=L.p;try{L.p=8,ih(e,t,r,n)}finally{L.p=a,M.T=s}}function ih(e,t,r,n){if(nh){var s=oh(n);if(null===s)Hd(e,t,n,lh,r),bh(e,n);else if(function(e,t,r,n,s){switch(t){case"focusin":return hh=vh(hh,e,t,r,n,s),!0;case"dragenter":return fh=vh(fh,e,t,r,n,s),!0;case"mouseover":return mh=vh(mh,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return ph.set(a,vh(ph.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,gh.set(a,vh(gh.get(a)||null,e,t,r,n,s)),!0}return!1}(s,e,t,r,n))n.stopPropagation();else if(bh(e,n),4&t&&-1<yh.indexOf(e)){for(;null!==s;){var a=Ue(s);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=ye(a.pendingLanes);if(0!==i){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-fe(i);o.entanglements[1]|=l,i&=~l}jd(a),0===(6&rc)&&(kc=te()+500,Nd(0,!1))}}break;case 13:null!==(o=Tn(a,2))&&Ic(o,0,2),Uc(),th(a,2)}if(null===(a=oh(n))&&Hd(e,t,n,lh,r),a===s)break;s=a}null!==s&&n.stopPropagation()}else Hd(e,t,n,null,r)}}function oh(e){return ch(e=Tt(e))}var lh=null;function ch(e){if(lh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ne:return 2;case se:return 8;case ae:case ie:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,hh=null,fh=null,mh=null,ph=new Map,gh=new Map,xh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":mh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function vh(e,t,r,n,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=Ue(t))&&rh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function wh(e){var t=Ve(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void function(e,t){var r=L.p;try{return L.p=e,t()}finally{L.p=r}}(e.priority,(function(){if(13===r.tag){var e=Mc();e=Ee(e);var t=Tn(r,e);null!==t&&Ic(t,0,e),th(r,e)}}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function kh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=oh(e.nativeEvent);if(null!==r)return null!==(t=Ue(r))&&rh(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Pt=n,r.target.dispatchEvent(n),Pt=null,t.shift()}return!0}function jh(e,t,r){kh(e)&&r.delete(t)}function Nh(){uh=!1,null!==hh&&kh(hh)&&(hh=null),null!==fh&&kh(fh)&&(fh=null),null!==mh&&kh(mh)&&(mh=null),ph.forEach(jh),gh.forEach(jh)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Nh)))}var _h=null;function Ch(e){_h!==e&&(_h=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,(function(){_h===e&&(_h=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],s=e[t+2];if("function"!==typeof n){if(null===ch(n||r))continue;break}var a=Ue(r);null!==a&&(e.splice(t,3),t-=3,Pi(a,{pending:!0,data:s,method:r.method,action:n},n,s))}})))}function Eh(e){function t(t){return Sh(t,e)}null!==hh&&Sh(hh,e),null!==fh&&Sh(fh,e),null!==mh&&Sh(mh,e),ph.forEach(t),gh.forEach(t);for(var r=0;r<xh.length;r++){var n=xh[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<xh.length&&null===(r=xh[0]).blockedOn;)wh(r),null===r.blockedOn&&xh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var s=r[n],a=r[n+1],i=s[Oe]||null;if("function"===typeof a)i||Ch(r);else if(i){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,i=a[Oe]||null)o=i.formAction;else if(null!==ch(s))continue}else o=i.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),Ch(r)}}}function Ah(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Zu(t.current,Mc(),e,t,null,null)},Ph.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zu(e.current,2,null,e,null,null),Uc(),t[Me]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xh.length&&0!==t&&t<xh[r].priority;r++);xh.splice(r,0,e),0===r&&wh(e)}};var Th=s.version;if("19.1.0"!==Th)throw Error(i(527,Th,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(n=s.return)){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return d(s),e;if(a===n)return d(s),t;a=a.sibling}throw Error(i(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,c=s.child;c;){if(c===r){o=!0,r=s,n=a;break}if(c===n){o=!0,n=s,r=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===r){o=!0,r=a,n=s;break}if(c===n){o=!0,n=a,r=s;break}c=c.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Rh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{de=Oh.inject(Rh),ue=Oh}catch(Lh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var r=!1,n="",s=yo,a=bo,l=vo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xu(e,1,!1,null,0,r,n,s,a,l,0,null),e[Me]=t.current,Vd(e),new Ah(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(i(299));var n=!1,s="",a=yo,l=bo,c=vo,d=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onUncaughtError&&(a=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(d=r.formState)),(t=Xu(e,1,!0,t,0,n,s,a,l,c,0,d)).context=Gu(null),r=t.current,(s=sa(n=Ee(n=Mc()))).callback=null,aa(r,s,n),r=n,t.current.lanes=r,Se(t,r),jd(t),e[Me]=t.current,Vd(e),new Ph(t)},t.version="19.1.0"},43:(e,t,r)=>{e.exports=r(288)},288:(e,t)=>{var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var v=b.prototype=new y;v.constructor=b,p(v,x.prototype),v.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function N(e,t,n,s,a,i){return n=i.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:i}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(){}function A(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case r:case n:d=!0;break;case h:return A((d=e._init)(e._payload),t,s,a,i)}}if(d)return i=i(e),d=""===a?"."+C(e,0):a,w(i)?(s="",null!=d&&(s=d.replace(_,"$&/")+"/"),A(i,t,s,"",(function(e){return e}))):null!=i&&(S(i)&&(l=i,c=s+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+d,i=N(l.type,c,void 0,0,0,l.props)),t.push(i)),1;d=0;var u,m=""===a?".":a+":";if(w(e))for(var p=0;p<e.length;p++)d+=A(a=e[p],t,s,o=m+C(a,p),i);else if("function"===typeof(p=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=f&&u[f]||u["@@iterator"])?u:null))for(e=p.call(e),p=0;!(a=e.next()).done;)d+=A(a=a.value,t,s,o=m+C(a,p++),i);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,t,r){if(null==e)return e;var n=[],s=0;return A(e,n,"","",(function(e){return t.call(r,e,s++)})),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:P,forEach:function(e,t,r){P(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=p({},e.props),s=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!j.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(n[a]=t[a]);var a=arguments.length-2;if(1===a)n.children=r;else if(1<a){for(var i=Array(a),o=0;o<a;o++)i[o]=arguments[o+2];n.children=i}return N(e.type,s,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,s={},a=null;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)j.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(s[n]=t[n]);var i=arguments.length-2;if(1===i)s.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===s[n]&&(s[n]=i[n]);return N(e,a,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,r={};k.T=r;try{var n=e(),s=k.S;null!==s&&s(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(O,R)}catch(a){R(a)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,r){return k.H.useActionState(e,t,r)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var n=k.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,r){return k.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return k.H.useReducer(e,t,r)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return k.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},358:(e,t)=>{const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,r){do{const r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){const r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4)},579:(e,t,r)=>{e.exports=r(799)},672:(e,t,r)=>{var n=r(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(s(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=r,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:s,fetchPriority:a}):"script"===r&&i.d.X(e,{crossOrigin:n,integrity:s,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);i.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(e,t,n){var s=null;if(void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),"key"in t)for(var a in n={},t)"key"!==a&&(n[a]=t[a]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:s,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=s,t.jsxs=s},853:(e,t,r)=>{e.exports=r(896)},896:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(!(0<a(s,t)))break e;e[n]=t,e[r]=s,r=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,i=s>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,r))c<s&&0>a(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<s&&0>a(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,p=!1,g=!1,x=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function k(e){if(g=!1,w(e),!p)if(null!==n(c))p=!0,N||(N=!0,j());else{var t=n(d);null!==t&&R(k,t.startTime-e)}}var j,N=!1,S=-1,_=5,C=-1;function E(){return!!x||!(t.unstable_now()-C<_)}function A(){if(x=!1,N){var e=t.unstable_now();C=e;var r=!0;try{e:{p=!1,g&&(g=!1,b(S),S=-1),m=!0;var a=f;try{t:{for(w(e),h=n(c);null!==h&&!(h.expirationTime>e&&E());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),r=!0;break t}h===n(c)&&s(c),w(e)}else s(c);h=n(c)}if(null!==h)r=!0;else{var l=n(d);null!==l&&R(k,l.startTime-e),r=!1}}break e}finally{h=null,f=a,m=!1}r=void 0}}finally{r?j():N=!1}}}if("function"===typeof v)j=function(){v(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=A,j=function(){T.postMessage(null)}}else j=function(){y(A,0)};function R(e,r){S=y((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,r(d,e),null===n(c)&&e===n(d)&&(g?(b(S),S=-1):g=!0,R(k,a-i))):(e.sortIndex=o,r(c,e),p||m||(p=!0,N||(N=!0,j()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".8ab44547.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";r.l=(n,s,a,i)=>{if(e[n])e[n].push(s);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+a),o.src=n),e[n]=[s];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(f);var s=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var s=r.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var a=new Promise(((r,n)=>s=e[t]=[r,n]));n.push(s[2]=a);var i=r.p+r.u(t),o=new Error;r.l(i,(n=>{if(r.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,s[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var s,a,i=n[0],o=n[1],l=n[2],c=0;if(i.some((t=>0!==e[t]))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(l)l(r)}for(t&&t(n);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkfrontend=self.webpackChunkfrontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n={};r.r(n),r.d(n,{hasBrowserEnv:()=>Qr,hasStandardBrowserEnv:()=>Xr,hasStandardBrowserWebWorkerEnv:()=>Gr,navigator:()=>Jr,origin:()=>Zr});var s={};r.r(s),r.d(s,{Decoder:()=>Xf,Encoder:()=>Qf,PacketType:()=>Kf,protocol:()=>Yf});var a=r(43),i=r(391);function o(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function d(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(358);const f=["sri"],m=["page"],p=["page","matches"],g=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var b="popstate";function v(){return C((function(e,t){let{pathname:r,search:n,hash:s}=e.location;return N("",{pathname:r,search:n,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:S(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function k(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function j(e,t){return{usr:e.state,key:e.key,idx:t}}function N(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t),{},{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function _(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function C(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,o="POP",l=null,c=d();function d(){return(i.state||{idx:null}).idx}function u(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function f(e){return E(e)}null==c&&(c=0,i.replaceState(h(h({},i.state),{},{idx:c}),""));let m={get action(){return o},get location(){return e(s,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(b,u),l=e,()=>{s.removeEventListener(b,u),l=null}},createHref:e=>t(s,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let n=N(m.location,e,t);r&&r(n,e),c=d()+1;let u=j(n,c),h=m.createHref(n);try{i.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;s.location.assign(h)}a&&l&&l({action:o,location:m.location,delta:1})},replace:function(e,t){o="REPLACE";let n=N(m.location,e,t);r&&r(n,e),c=d();let s=j(n,c),u=m.createHref(n);i.replaceState(s,"",u),a&&l&&l({action:o,location:m.location,delta:0})},go:e=>i.go(e)};return m}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),w(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:S(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function A(e,t){return P(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function P(e,t,r,n){let s=q(("string"===typeof t?_(t):t).pathname||"/",r);if(null==s)return null;let a=T(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=W(s);i=V(a[o],e,n)}return i}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(w(i.relativePath.startsWith(n),'Absolute route path "'.concat(i.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),i.relativePath=i.relativePath.slice(n.length));let o=J([n,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),T(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:B(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let n of R(e.path))s(e,t,n);else s(e,t)})),t}function R(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return s?[a,""]:[a];let i=R(n.join("/")),o=[];return o.push(...i.map((e=>""===e?a:[a,e].join("/")))),s&&o.push(...i),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var O=/^:[\w-]+$/,M=3,L=2,D=1,I=10,F=-2,z=e=>"*"===e;function B(e,t){let r=e.split("/"),n=r.length;return r.some(z)&&(n+=F),t&&(n+=L),r.filter((e=>!z(e))).reduce(((e,t)=>e+(O.test(t)?M:""===t?D:I)),n)}function V(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,s={},a="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===a?t:t.slice(a.length)||"/",d=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:J([a,d.pathname]),pathnameBase:X(J([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=J([a,d.pathnameBase]))}return i}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=H(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1),l=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:s}=t;if("*"===n){let e=o[r]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function H(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];k("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(n.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function W(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return k(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function $(e,t,r,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Y(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function K(e){let t=Y(e);return t.map(((e,r)=>r===t.length-1?e.pathname:e.pathnameBase))}function Q(e,t,r){let n,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=_(e):(n=h({},e),w(!n.pathname||!n.pathname.includes("?"),$("?","pathname","search",n)),w(!n.pathname||!n.pathname.includes("#"),$("#","pathname","hash",n)),w(!n.search||!n.search.includes("#"),$("#","search","hash",n)));let a,i=""===e||""===n.pathname,o=i?"/":n.pathname;if(null==o)a=r;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:s=""}="string"===typeof e?_(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:G(n),hash:Z(s)}}(n,a),c=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var J=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var te=["POST","PUT","PATCH","DELETE"],re=(new Set(te),["GET",...te]);new Set(re),Symbol("ResetLoaderData");var ne=a.createContext(null);ne.displayName="DataRouter";var se=a.createContext(null);se.displayName="DataRouterState";var ae=a.createContext({isTransitioning:!1});ae.displayName="ViewTransition";var ie=a.createContext(new Map);ie.displayName="Fetchers";var oe=a.createContext(null);oe.displayName="Await";var le=a.createContext(null);le.displayName="Navigation";var ce=a.createContext(null);ce.displayName="Location";var de=a.createContext({outlet:null,matches:[],isDataRoute:!1});de.displayName="Route";var ue=a.createContext(null);ue.displayName="RouteError";function he(){return null!=a.useContext(ce)}function fe(){return w(he(),"useLocation() may be used only in the context of a <Router> component."),a.useContext(ce).location}var me="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){a.useContext(le).static||a.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=a.useContext(de);return e?function(){let{router:e}=_e("useNavigate"),t=Ee("useNavigate"),r=a.useRef(!1);pe((()=>{r.current=!0}));let n=a.useCallback((async function(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(r.current,me),r.current&&("number"===typeof n?e.navigate(n):await e.navigate(n,h({fromRouteId:t},s)))}),[e,t]);return n}():function(){w(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=a.useContext(ne),{basename:t,navigator:r}=a.useContext(le),{matches:n}=a.useContext(de),{pathname:s}=fe(),i=JSON.stringify(K(n)),o=a.useRef(!1);pe((()=>{o.current=!0}));let l=a.useCallback((function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(k(o.current,me),!o.current)return;if("number"===typeof n)return void r.go(n);let l=Q(n,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:J([t,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)}),[t,r,i,s,e]);return l}()}a.createContext(null);function xe(){let{matches:e}=a.useContext(de),t=e[e.length-1];return t?t.params:{}}function ye(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=a.useContext(de),{pathname:n}=fe(),s=JSON.stringify(K(r));return a.useMemo((()=>Q(e,JSON.parse(s),n,"path"===t)),[e,s,n,t])}function be(e,t,r,n){w(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=a.useContext(le),{matches:i}=a.useContext(de),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",u=o&&o.route;{let e=u&&u.path||"";Te(c,!u||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=fe();if(t){var p;let e="string"===typeof t?_(t):t;w("/"===d||(null===(p=e.pathname)||void 0===p?void 0:p.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let g=f.pathname||"/",x=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=A(e,{pathname:x});k(u||null!=y,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),k(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=Ne(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:J([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:J([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,r,n);return t&&b?a.createElement(ce.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},b):b}function ve(){let e=Ae(),t=ee(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=a.createElement(a.Fragment,null,a.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",a.createElement("code",{style:i},"ErrorBoundary")," or"," ",a.createElement("code",{style:i},"errorElement")," prop on your route.")),a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:s},r):null,o)}var we=a.createElement(ve,null),ke=class extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(de.Provider,{value:this.props.routeContext},a.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function je(e){let{routeContext:t,match:r,children:n}=e,s=a.useContext(ne);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(de.Provider,{value:t},n)}function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let n=e,s=null===r||void 0===r?void 0:r.errors;if(null!=s){let e=n.findIndex((e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id])));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),n=n.slice(0,Math.min(n.length,e+1))}let i=!1,o=-1;if(r)for(let a=0;a<n.length;a++){let e=n[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=a),e.route.id){let{loaderData:t,errors:s}=r,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!s||void 0===s[e.route.id]);if(e.route.lazy||a){i=!0,n=o>=0?n.slice(0,o+1):[n[0]];break}}}return n.reduceRight(((e,l,c)=>{let d,u=!1,h=null,f=null;r&&(d=s&&l.route.id?s[l.route.id]:void 0,h=l.route.errorElement||we,i&&(o<0&&0===c?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,f=null):o===c&&(u=!0,f=l.route.hydrateFallbackElement||null)));let m=t.concat(n.slice(0,c+1)),p=()=>{let t;return t=d?h:u?f:l.route.Component?a.createElement(l.route.Component,null):l.route.element?l.route.element:e,a.createElement(je,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?a.createElement(ke,{location:r.location,revalidation:r.revalidation,component:h,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()}),null)}function Se(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function _e(e){let t=a.useContext(ne);return w(t,Se(e)),t}function Ce(e){let t=a.useContext(se);return w(t,Se(e)),t}function Ee(e){let t=function(e){let t=a.useContext(de);return w(t,Se(e)),t}(e),r=t.matches[t.matches.length-1];return w(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ae(){var e;let t=a.useContext(ue),r=Ce("useRouteError"),n=Ee("useRouteError");return void 0!==t?t:null===(e=r.errors)||void 0===e?void 0:e[n]}var Pe={};function Te(e,t,r){t||Pe[e]||(Pe[e]=!0,k(!1,r))}a.memo((function(e){let{routes:t,future:r,state:n}=e;return be(t,void 0,n,r)}));function Re(e){let{to:t,replace:r,state:n,relative:s}=e;w(he(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=a.useContext(le);k(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=a.useContext(de),{pathname:l}=fe(),c=ge(),d=Q(t,K(o),l,"path"===s),u=JSON.stringify(d);return a.useEffect((()=>{c(JSON.parse(u),{replace:r,state:n,relative:s})}),[c,u,s,r,n]),null}function Oe(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Me(e){let{basename:t="/",children:r=null,location:n,navigationType:s="POP",navigator:i,static:o=!1}=e;w(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=a.useMemo((()=>({basename:l,navigator:i,static:o,future:{}})),[l,i,o]);"string"===typeof n&&(n=_(n));let{pathname:d="/",search:u="",hash:h="",state:f=null,key:m="default"}=n,p=a.useMemo((()=>{let e=q(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:f,key:m},navigationType:s}}),[l,d,u,h,f,m,s]);return k(null!=p,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==p?null:a.createElement(le.Provider,{value:c},a.createElement(ce.Provider,{children:r,value:p}))}function Le(e){let{children:t,location:r}=e;return be(De(t),r)}a.Component;function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return a.Children.forEach(e,((e,n)=>{if(!a.isValidElement(e))return;let s=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,De(e.props.children,s));w(e.type===Oe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=De(e.props.children,s)),r.push(i)})),r}var Ie="get",Fe="application/x-www-form-urlencoded";function ze(e){return null!=e&&"string"===typeof e.tagName}var Be=null;var Ve=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ue(e){return null==e||Ve.has(e)?e:(k(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Fe,'"')),null)}function He(e,t){let r,n,s,a,i;if(ze(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");n=i?q(i,t):null,r=e.getAttribute("method")||Ie,s=Ue(e.getAttribute("enctype"))||Fe,a=new FormData(e)}else if(function(e){return ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(n=o?q(o,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||Ie,s=Ue(e.getAttribute("formenctype"))||Ue(i.getAttribute("enctype"))||Fe,a=new FormData(i,e),!function(){if(null===Be)try{new FormData(document.createElement("form"),0),Be=!1}catch(e){Be=!0}return Be}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,n)}}else{if(ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ie,n=null,s=Fe,i=e}var o;return a&&"text/plain"===s&&(i=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:i}}function We(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function qe(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function $e(e){return null!=e&&"string"===typeof e.page}function Ye(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ke(e,t,r,n,s,a){let i=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null===(n=r[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter(((e,t)=>i(e,t)||o(e,t))):"data"===a?t.filter(((t,a)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var c;let n=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(c=r[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0})):[]}function Qe(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let s=[n.module];return n.clientActionModule&&(s=s.concat(n.clientActionModule)),n.clientLoaderModule&&(s=s.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(s=s.concat(n.hydrateFallbackModule)),n.imports&&(s=s.concat(n.imports)),s})).flat(1),[...new Set(n)];var n}function Je(e,t){let r=new Set,n=new Set(t);return e.reduce(((e,s)=>{if(t&&!$e(s)&&"script"===s.as&&s.href&&n.has(s.href))return e;let a=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(s));return r.has(a)||(r.add(a),e.push({key:a,link:s})),e}),[])}function Xe(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Ge=new Set([100,101,204,205]);function Ze(e,t){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.data":t&&"/"===q(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):r.pathname="".concat(r.pathname.replace(/\/$/,""),".data"),r}a.Component;function et(e){let{error:t,isOutsideRemixApp:r}=e;console.error(t);let n,s=a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(t))return a.createElement(tt,{title:"Unhandled Thrown Response!"},a.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)n=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);n=new Error(e)}return a.createElement(tt,{title:"Application Error!",isOutsideRemixApp:r},a.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),a.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),s)}function tt(e){var t;let{title:r,renderScripts:n,isOutsideRemixApp:s,children:i}=e,{routeModules:o}=it();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?i:a.createElement("html",{lang:"en"},a.createElement("head",null,a.createElement("meta",{charSet:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),a.createElement("title",null,r)),a.createElement("body",null,a.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?a.createElement(ft,null):null)))}function rt(e,t){return"lazy"===e.mode&&!0===t}function nt(){let e=a.useContext(ne);return We(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function st(){let e=a.useContext(se);return We(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var at=a.createContext(void 0);function it(){let e=a.useContext(at);return We(e,"You must render this element inside a <HydratedRouter> element"),e}function ot(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function lt(e,t,r){if(r&&!ht)return[e[0]];if(t){let r=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,r+1)}return e}function ct(e){let{page:t}=e,r=o(e,m),{router:n}=nt(),s=a.useMemo((()=>A(n.routes,t,n.basename)),[n.routes,t,n.basename]);return s?a.createElement(ut,h({page:t,matches:s},r)):null}function dt(e){let{manifest:t,routeModules:r}=it(),[n,s]=a.useState([]);return a.useEffect((()=>{let n=!1;return async function(e,t,r){return Je((await Promise.all(e.map((async e=>{let n=t.routes[e.route.id];if(n){let e=await qe(n,r);return e.links?e.links():[]}return[]})))).flat(1).filter(Ye).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?h(h({},e),{},{rel:"prefetch",as:"style"}):h(h({},e),{},{rel:"prefetch"}))))}(e,t,r).then((e=>{n||s(e)})),()=>{n=!0}}),[e,t,r]),n}function ut(e){let{page:t,matches:r}=e,n=o(e,p),s=fe(),{manifest:i,routeModules:l}=it(),{basename:c}=nt(),{loaderData:d,matches:u}=st(),f=a.useMemo((()=>Ke(t,r,u,i,s,"data")),[t,r,u,i,s]),m=a.useMemo((()=>Ke(t,r,u,i,s,"assets")),[t,r,u,i,s]),g=a.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,n=!1;if(r.forEach((t=>{var r;let s=i.routes[t.route.id];s&&s.hasLoader&&(!f.some((e=>e.route.id===t.route.id))&&t.route.id in d&&null!==(r=l[t.route.id])&&void 0!==r&&r.shouldRevalidate||s.hasClientLoader?n=!0:e.add(t.route.id))})),0===e.size)return[];let a=Ze(t,c);return n&&e.size>0&&a.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[c,d,s,i,f,r,t,l]),x=a.useMemo((()=>Qe(m,i)),[m,i]),y=dt(m);return a.createElement(a.Fragment,null,g.map((e=>a.createElement("link",h({key:e,rel:"prefetch",as:"fetch",href:e},n)))),x.map((e=>a.createElement("link",h({key:e,rel:"modulepreload",href:e},n)))),y.map((e=>{let{key:t,link:r}=e;return a.createElement("link",h({key:t},r))})))}at.displayName="FrameworkContext";var ht=!1;function ft(e){let{manifest:t,serverHandoffString:r,isSpaMode:n,renderMeta:s,routeDiscovery:i,ssr:l}=it(),{router:c,static:d,staticContext:u}=nt(),{matches:m}=st(),p=rt(i,l);s&&(s.didRenderScripts=!0);let g=lt(m,null,n);a.useEffect((()=>{ht=!0}),[]);let x=a.useMemo((()=>{var n;let s=u?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=d?"".concat(null!==(n=t.hmr)&&void 0!==n&&n.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(p?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map(((e,r)=>{let n="route".concat(r),s=t.routes[e.route.id];We(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=s,d=[...a?[{module:a,varName:"".concat(n,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(n,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(n,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(n,"_HydrateFallback")}]:[],{module:c,varName:"".concat(n,"_main")}];return 1===d.length?"import * as ".concat(n," from ").concat(JSON.stringify(c),";"):[d.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(n," = {").concat(d.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(p?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:r}=e,n=o(e,f),s=new Set(t.state.matches.map((e=>e.route.id))),a=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(a.pop();a.length>0;)i.push("/".concat(a.join("/"))),a.pop();i.forEach((e=>{let r=A(t.routes,e,t.basename);r&&r.forEach((e=>s.add(e.route.id)))}));let l=[...s].reduce(((e,t)=>Object.assign(e,{[t]:n.routes[t]})),{});return h(h({},n),{},{routes:l,sri:!!r||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return a.createElement(a.Fragment,null,a.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xe(s),type:void 0})),a.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xe(i),type:"module",async:!0})))}),[]),y=ht?[]:(b=t.entry.imports.concat(Qe(g,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let v="object"===typeof t.sri?t.sri:{};return ht?null:a.createElement(a.Fragment,null,"object"===typeof t.sri?a.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,p?null:a.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:v[t.url],suppressHydrationWarning:!0}),a.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:v[t.entry.module],suppressHydrationWarning:!0}),y.map((t=>a.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:v[t],suppressHydrationWarning:!0}))),x)}function mt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{pt&&(window.__reactRouterVersion="7.6.2")}catch(km){}function gt(e){let{basename:t,children:r,window:n}=e,s=a.useRef();null==s.current&&(s.current=v({window:n,v5Compat:!0}));let i=s.current,[o,l]=a.useState({action:i.action,location:i.location}),c=a.useCallback((e=>{a.startTransition((()=>l(e)))}),[l]);return a.useLayoutEffect((()=>i.listen(c)),[i,c]),a.createElement(Me,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i})}var xt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=a.forwardRef((function(e,t){let r,{onClick:n,discover:s="render",prefetch:i="none",relative:l,reloadDocument:c,replace:d,state:u,target:f,to:m,preventScrollReset:p,viewTransition:x}=e,y=o(e,g),{basename:b}=a.useContext(le),v="string"===typeof m&&xt.test(m),j=!1;if("string"===typeof m&&v&&(r=m,pt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),r=q(t.pathname,b);t.origin===e.origin&&null!=r?m=r+t.search+t.hash:j=!0}catch(km){k(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let N=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=a.useContext(le),{hash:s,pathname:i,search:o}=ye(e,{relative:t}),l=i;return"/"!==r&&(l="/"===i?r:J([r,i])),n.createHref({pathname:l,search:o,hash:s})}(m,{relative:l}),[_,C,E]=function(e,t){let r=a.useContext(at),[n,s]=a.useState(!1),[i,o]=a.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,f=a.useRef(null);a.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),a.useEffect((()=>{if(n){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[n]);let m=()=>{s(!0)},p=()=>{s(!1),o(!1)};return r?"intent"!==e?[i,f,{}]:[i,f,{onFocus:ot(l,m),onBlur:ot(c,p),onMouseEnter:ot(d,m),onMouseLeave:ot(u,p),onTouchStart:ot(h,m)}]:[!1,f,{}]}(i,y),A=function(e){let{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ge(),c=fe(),d=ye(e,{relative:i});return a.useCallback((a=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(a,t)){a.preventDefault();let t=void 0!==r?r:S(c)===S(d);l(e,{replace:t,state:n,preventScrollReset:s,relative:i,viewTransition:o})}}),[c,l,d,r,n,t,e,s,i,o])}(m,{replace:d,state:u,target:f,preventScrollReset:p,relative:l,viewTransition:x});let P=a.createElement("a",h(h(h({},y),E),{},{href:r||N,onClick:j||c?n:function(e){n&&n(e),e.defaultPrevented||A(e)},ref:mt(t,C),target:f,"data-discover":v||"render"!==s?void 0:"true"}));return _&&!v?a.createElement(a.Fragment,null,P,a.createElement(ct,{page:N})):P}));yt.displayName="Link";var bt=a.forwardRef((function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:s="",end:i=!1,style:l,to:c,viewTransition:d,children:u}=e,f=o(e,x),m=ye(c,{relative:f.relative}),p=fe(),g=a.useContext(se),{navigator:y,basename:b}=a.useContext(le),v=null!=g&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.useContext(ae);w(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=kt("useViewTransitionState"),s=ye(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=q(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=q(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=U(s.pathname,o)||null!=U(s.pathname,i)}(m)&&!0===d,k=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,j=p.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(j=j.toLowerCase(),N=N?N.toLowerCase():null,k=k.toLowerCase()),N&&b&&(N=q(N,b)||N);const S="/"!==k&&k.endsWith("/")?k.length-1:k.length;let _,C=j===k||!i&&j.startsWith(k)&&"/"===j.charAt(S),E=null!=N&&(N===k||!i&&N.startsWith(k)&&"/"===N.charAt(k.length)),A={isActive:C,isPending:E,isTransitioning:v},P=C?r:void 0;_="function"===typeof s?s(A):[s,C?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof l?l(A):l;return a.createElement(yt,h(h({},f),{},{"aria-current":P,className:_,ref:t,style:T,to:c,viewTransition:d}),"function"===typeof u?u(A):u)}));bt.displayName="NavLink";var vt=a.forwardRef(((e,t)=>{let{discover:r="render",fetcherKey:n,navigate:s,reloadDocument:i,replace:l,state:c,method:d=Ie,action:u,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:g}=e,x=o(e,y),b=St(),v=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=a.useContext(le),n=a.useContext(de);w(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i=h({},ye(e||".",{relative:t})),o=fe();if(null==e){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let r=e.toString();i.search=r?"?".concat(r):""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(i.pathname="/"===i.pathname?r:J([r,i.pathname]));return S(i)}(u,{relative:m}),k="get"===d.toLowerCase()?"get":"post",j="string"===typeof u&&xt.test(u);return a.createElement("form",h(h({ref:t,method:k,action:v,onSubmit:i?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;b(t||e.currentTarget,{fetcherKey:n,method:r,navigate:s,replace:l,state:c,relative:m,preventScrollReset:p,viewTransition:g})}},x),{},{"data-discover":j||"render"!==r?void 0:"true"}))}));function wt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function kt(e){let t=a.useContext(ne);return w(t,wt(e)),t}vt.displayName="Form";var jt=0,Nt=()=>"__".concat(String(++jt),"__");function St(){let{router:e}=kt("useSubmit"),{basename:t}=a.useContext(le),r=Ee("useRouteId");return a.useCallback((async function(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:i,encType:o,formData:l,body:c}=He(n,t);if(!1===s.navigate){let t=s.fetcherKey||Nt();await e.fetch(t,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||i,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||i,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})}),[e,t,r])}var _t=r(579);const Ct=(0,a.createContext)(),Et=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=localStorage.getItem("trustlens-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;n(e?"dark"===e:t)}),[]),(0,a.useEffect)((()=>{const e=document.documentElement;r?(e.classList.add("dark"),localStorage.setItem("trustlens-theme","dark")):(e.classList.remove("dark"),localStorage.setItem("trustlens-theme","light"))}),[r]);const s={isDarkMode:r,toggleTheme:()=>{n((e=>!e))},theme:r?"dark":"light"};return(0,_t.jsx)(Ct.Provider,{value:s,children:t})},At=()=>{const{isDarkMode:e,toggleTheme:t}=(()=>{const e=(0,a.useContext)(Ct);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e})();return(0,_t.jsxs)("button",{onClick:t,className:"relative inline-flex items-center justify-center w-12 h-6 bg-gray-200 dark:bg-gray-700 rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800","aria-label":"Toggle theme",children:[(0,_t.jsx)("span",{className:"absolute left-1 top-1 w-4 h-4 bg-white dark:bg-gray-300 rounded-full shadow-md transform transition-transform duration-200 ".concat(e?"translate-x-6":"translate-x-0")}),(0,_t.jsx)("span",{className:"absolute left-1.5 top-1.5 w-3 h-3 transition-opacity duration-200 ".concat(e?"opacity-0":"opacity-100"),children:(0,_t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3 text-yellow-500",children:(0,_t.jsx)("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})})}),(0,_t.jsx)("span",{className:"absolute right-1.5 top-1.5 w-3 h-3 transition-opacity duration-200 ".concat(e?"opacity-100":"opacity-0"),children:(0,_t.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3 text-blue-400",children:(0,_t.jsx)("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z",clipRule:"evenodd"})})})]})},Pt=()=>{const e=ge();return fe().pathname.startsWith("/admin")?null:(0,_t.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:(0,_t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,_t.jsx)("div",{className:"flex items-center",children:(0,_t.jsxs)("div",{className:"flex-shrink-0 cursor-pointer",onClick:()=>e("/"),children:[(0,_t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"TRUSTLENS"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"AI-Powered Trust System"})]})}),(0,_t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,_t.jsx)(At,{}),(0,_t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,_t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"System Online"})]})]})]})})})};var Tt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rt=a.createContext&&a.createContext(Tt),Ot=["attr","size","title"];function Mt(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lt.apply(this,arguments)}function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){Ft(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ft(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zt(e){return e&&e.map(((e,t)=>a.createElement(e.tag,It({key:t},e.attr),zt(e.child))))}function Bt(e){return t=>a.createElement(Vt,Lt({attr:It({},e.attr)},t),zt(e.child))}function Vt(e){var t=t=>{var r,{attr:n,size:s,title:i}=e,o=Mt(e,Ot),l=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",Lt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:r,style:It(It({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==Rt?a.createElement(Rt.Consumer,null,(e=>t(e))):t(Tt)}function Ut(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Ht(e){return Bt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function Wt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function qt(){const e=ge();return(0,_t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,_t.jsxs)("div",{className:"text-center mb-12",children:[(0,_t.jsxs)("div",{className:"flex justify-center items-center mb-6",children:[(0,_t.jsx)("img",{src:"/TrustLensLogo.jpeg",alt:"TrustLens Logo",className:"h-20 w-20 rounded-full shadow-lg mr-4"}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h1",{className:"text-5xl font-bold text-gray-900 dark:text-white mb-2",children:"TRUSTLENS"}),(0,_t.jsx)("p",{className:"text-xl text-blue-600 dark:text-blue-400 font-medium",children:"AI-Powered Trust System"})]})]}),(0,_t.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Experience the future of e-commerce with advanced AI fraud detection, behavioral analysis, and community-driven trust verification."})]}),(0,_t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,_t.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-900 dark:text-white mb-8",children:"Choose Your Access Level"}),(0,_t.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-8 text-center hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-t-4 border-red-500",children:[(0,_t.jsx)("div",{className:"bg-red-100 dark:bg-red-900 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:(0,_t.jsx)(Ut,{className:"text-3xl text-red-600 dark:text-red-400"})}),(0,_t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Admin Dashboard"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Complete system oversight with advanced analytics, fraud detection, and platform management capabilities."}),(0,_t.jsx)("button",{onClick:()=>e("/admin/login"),className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-200",children:"Admin Login"})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-8 text-center hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-t-4 border-blue-500",children:[(0,_t.jsx)("div",{className:"bg-blue-100 dark:bg-blue-900 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:(0,_t.jsx)(Ht,{className:"text-3xl text-blue-600 dark:text-blue-400"})}),(0,_t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Customer Portal"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Shop with confidence using AI-verified products and community-validated reviews for trusted purchases."}),(0,_t.jsxs)("div",{className:"space-y-3",children:[(0,_t.jsx)("button",{onClick:()=>e("/customer/login"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-200",children:"Customer Login"}),(0,_t.jsx)("button",{onClick:()=>e("/customer/signup"),className:"w-full bg-blue-100 hover:bg-blue-200 text-blue-700 font-medium py-2 px-6 rounded-lg transition-colors duration-200",children:"Sign Up as Customer"})]})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-8 text-center hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-t-4 border-green-500",children:[(0,_t.jsx)("div",{className:"bg-green-100 dark:bg-green-900 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:(0,_t.jsx)(Wt,{className:"text-3xl text-green-600 dark:text-green-400"})}),(0,_t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Vendor Dashboard"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Manage your store with AI-powered insights, fraud alerts, and comprehensive analytics for business growth."}),(0,_t.jsxs)("div",{className:"space-y-3",children:[(0,_t.jsx)("button",{onClick:()=>e("/vendor/login"),className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-200",children:"Vendor Login"}),(0,_t.jsx)("button",{onClick:()=>e("/vendor/signup"),className:"w-full bg-green-100 hover:bg-green-200 text-green-700 font-medium py-2 px-6 rounded-lg transition-colors duration-200",children:"Sign Up as Vendor"})]})]})]})]}),(0,_t.jsx)("div",{className:"text-center mt-16",children:(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[(0,_t.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"\ud83d\ude80 Advanced AI Features"}),(0,_t.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 text-sm text-gray-600 dark:text-gray-300",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"font-semibold",children:"Behavioral Analysis"}),(0,_t.jsx)("p",{children:"Real-time typing & mouse pattern detection"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"font-semibold",children:"Review Authentication"}),(0,_t.jsx)("p",{children:"AI-powered fake review identification"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"font-semibold",children:"Trust Scoring"}),(0,_t.jsx)("p",{children:"Dynamic trust metrics for all users"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"font-semibold",children:"Fraud Detection"}),(0,_t.jsx)("p",{children:"Proactive security monitoring"})]})]})]})})]})})}function $t(e,t){return function(){return e.apply(t,arguments)}}const{toString:Yt}=Object.prototype,{getPrototypeOf:Kt}=Object,{iterator:Qt,toStringTag:Jt}=Symbol,Xt=(e=>t=>{const r=Yt.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Gt=e=>(e=e.toLowerCase(),t=>Xt(t)===e),Zt=e=>t=>typeof t===e,{isArray:er}=Array,tr=Zt("undefined");const rr=Gt("ArrayBuffer");const nr=Zt("string"),sr=Zt("function"),ar=Zt("number"),ir=e=>null!==e&&"object"===typeof e,or=e=>{if("object"!==Xt(e))return!1;const t=Kt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Jt in e)&&!(Qt in e)},lr=Gt("Date"),cr=Gt("File"),dr=Gt("Blob"),ur=Gt("FileList"),hr=Gt("URLSearchParams"),[fr,mr,pr,gr]=["ReadableStream","Request","Response","Headers"].map(Gt);function xr(e,t){let r,n,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),er(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=s?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let i;for(r=0;r<a;r++)i=n[r],t.call(null,e[i],i,e)}}function yr(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,s=r.length;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const br="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,vr=e=>!tr(e)&&e!==br;const wr=(kr="undefined"!==typeof Uint8Array&&Kt(Uint8Array),e=>kr&&e instanceof kr);var kr;const jr=Gt("HTMLFormElement"),Nr=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),Sr=Gt("RegExp"),_r=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};xr(r,((r,s)=>{let a;!1!==(a=t(r,s,e))&&(n[s]=a||r)})),Object.defineProperties(e,n)};const Cr=Gt("AsyncFunction"),Er=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],br.addEventListener("message",(e=>{let{source:t,data:s}=e;t===br&&s===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),br.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,sr(br.postMessage)),Ar="undefined"!==typeof queueMicrotask?queueMicrotask.bind(br):"undefined"!==typeof process&&process.nextTick||Er,Pr={isArray:er,isArrayBuffer:rr,isBuffer:function(e){return null!==e&&!tr(e)&&null!==e.constructor&&!tr(e.constructor)&&sr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||sr(e.append)&&("formdata"===(t=Xt(e))||"object"===t&&sr(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&rr(e.buffer),t},isString:nr,isNumber:ar,isBoolean:e=>!0===e||!1===e,isObject:ir,isPlainObject:or,isReadableStream:fr,isRequest:mr,isResponse:pr,isHeaders:gr,isUndefined:tr,isDate:lr,isFile:cr,isBlob:dr,isRegExp:Sr,isFunction:sr,isStream:e=>ir(e)&&sr(e.pipe),isURLSearchParams:hr,isTypedArray:wr,isFileList:ur,forEach:xr,merge:function e(){const{caseless:t}=vr(this)&&this||{},r={},n=(n,s)=>{const a=t&&yr(r,s)||s;or(r[a])&&or(n)?r[a]=e(r[a],n):or(n)?r[a]=e({},n):er(n)?r[a]=n.slice():r[a]=n};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&xr(arguments[s],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return xr(t,((t,n)=>{r&&sr(t)?e[n]=$t(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let s,a,i;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],n&&!n(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==r&&Kt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Xt,kindOfTest:Gt,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(er(e))return e;let t=e.length;if(!ar(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Qt]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:jr,hasOwnProperty:Nr,hasOwnProp:Nr,reduceDescriptors:_r,freezeMethods:e=>{_r(e,((t,r)=>{if(sr(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];sr(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return er(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:yr,global:br,isContextDefined:vr,isSpecCompliantForm:function(e){return!!(e&&sr(e.append)&&"FormData"===e[Jt]&&e[Qt])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(ir(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const s=er(e)?[]:{};return xr(e,((e,t)=>{const a=r(e,n+1);!tr(a)&&(s[t]=a)})),t[n]=void 0,s}}return e};return r(e,0)},isAsyncFn:Cr,isThenable:e=>e&&(ir(e)||sr(e))&&sr(e.then)&&sr(e.catch),setImmediate:Er,asap:Ar,isIterable:e=>null!=e&&sr(e[Qt])};function Tr(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Pr.inherits(Tr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pr.toJSONObject(this.config),code:this.code,status:this.status}}});const Rr=Tr.prototype,Or={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Or[e]={value:e}})),Object.defineProperties(Tr,Or),Object.defineProperty(Rr,"isAxiosError",{value:!0}),Tr.from=(e,t,r,n,s,a)=>{const i=Object.create(Rr);return Pr.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Tr.call(i,e.message,t,r,n,s),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Mr=Tr;function Lr(e){return Pr.isPlainObject(e)||Pr.isArray(e)}function Dr(e){return Pr.endsWith(e,"[]")?e.slice(0,-2):e}function Ir(e,t,r){return e?e.concat(t).map((function(e,t){return e=Dr(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Fr=Pr.toFlatObject(Pr,{},null,(function(e){return/^is[A-Z]/.test(e)}));const zr=function(e,t,r){if(!Pr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=Pr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Pr.isUndefined(t[e])}))).metaTokens,s=r.visitor||c,a=r.dots,i=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&Pr.isSpecCompliantForm(t);if(!Pr.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Pr.isDate(e))return e.toISOString();if(!o&&Pr.isBlob(e))throw new Mr("Blob is not supported. Use a Buffer instead.");return Pr.isArrayBuffer(e)||Pr.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,s){let o=e;if(e&&!s&&"object"===typeof e)if(Pr.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Pr.isArray(e)&&function(e){return Pr.isArray(e)&&!e.some(Lr)}(e)||(Pr.isFileList(e)||Pr.endsWith(r,"[]"))&&(o=Pr.toArray(e)))return r=Dr(r),o.forEach((function(e,n){!Pr.isUndefined(e)&&null!==e&&t.append(!0===i?Ir([r],n,a):null===i?r:r+"[]",l(e))})),!1;return!!Lr(e)||(t.append(Ir(s,r,a),l(e)),!1)}const d=[],u=Object.assign(Fr,{defaultVisitor:c,convertValue:l,isVisitable:Lr});if(!Pr.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Pr.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),Pr.forEach(r,(function(r,a){!0===(!(Pr.isUndefined(r)||null===r)&&s.call(t,r,Pr.isString(a)?a.trim():a,n,u))&&e(r,n?n.concat(a):[a])})),d.pop()}}(e),t};function Br(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Vr(e,t){this._pairs=[],e&&zr(e,this,t)}const Ur=Vr.prototype;Ur.append=function(e,t){this._pairs.push([e,t])},Ur.toString=function(e){const t=e?function(t){return e.call(this,t,Br)}:Br;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Hr=Vr;function Wr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qr(e,t,r){if(!t)return e;const n=r&&r.encode||Wr;Pr.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(a=s?s(t,r):Pr.isURLSearchParams(t)?t.toString():new Hr(t,r).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const $r=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Yr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Hr,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Qr="undefined"!==typeof window&&"undefined"!==typeof document,Jr="object"===typeof navigator&&navigator||void 0,Xr=Qr&&(!Jr||["ReactNative","NativeScript","NS"].indexOf(Jr.product)<0),Gr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Zr=Qr&&window.location.href||"http://localhost",en=h(h({},n),Kr);const tn=function(e){function t(e,r,n,s){let a=e[s++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=s>=e.length;if(a=!a&&Pr.isArray(n)?n.length:a,o)return Pr.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r,!i;n[a]&&Pr.isObject(n[a])||(n[a]=[]);return t(e,r,n[a],s)&&Pr.isArray(n[a])&&(n[a]=function(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}(n[a])),!i}if(Pr.isFormData(e)&&Pr.isFunction(e.entries)){const r={};return Pr.forEachEntry(e,((e,n)=>{t(function(e){return Pr.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const rn={transitional:Yr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,s=Pr.isObject(e);s&&Pr.isHTMLForm(e)&&(e=new FormData(e));if(Pr.isFormData(e))return n?JSON.stringify(tn(e)):e;if(Pr.isArrayBuffer(e)||Pr.isBuffer(e)||Pr.isStream(e)||Pr.isFile(e)||Pr.isBlob(e)||Pr.isReadableStream(e))return e;if(Pr.isArrayBufferView(e))return e.buffer;if(Pr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return zr(e,new en.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return en.isNode&&Pr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Pr.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return zr(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),function(e,t,r){if(Pr.isString(e))try{return(t||JSON.parse)(e),Pr.trim(e)}catch(km){if("SyntaxError"!==km.name)throw km}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||rn.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Pr.isResponse(e)||Pr.isReadableStream(e))return e;if(e&&Pr.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(km){if(r){if("SyntaxError"===km.name)throw Mr.from(km,Mr.ERR_BAD_RESPONSE,this,null,this.response);throw km}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pr.forEach(["delete","get","head","post","put","patch"],(e=>{rn.headers[e]={}}));const nn=rn,sn=Pr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),an=Symbol("internals");function on(e){return e&&String(e).trim().toLowerCase()}function ln(e){return!1===e||null==e?e:Pr.isArray(e)?e.map(ln):String(e)}function cn(e,t,r,n,s){return Pr.isFunction(n)?n.call(this,t,r):(s&&(t=r),Pr.isString(t)?Pr.isString(n)?-1!==t.indexOf(n):Pr.isRegExp(n)?n.test(t):void 0:void 0)}class dn{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function s(e,t,r){const s=on(t);if(!s)throw new Error("header name must be a non-empty string");const a=Pr.findKey(n,s);(!a||void 0===n[a]||!0===r||void 0===r&&!1!==n[a])&&(n[a||t]=ln(e))}const a=(e,t)=>Pr.forEach(e,((e,r)=>s(e,r,t)));if(Pr.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Pr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let r,n,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),r=e.substring(0,s).trim().toLowerCase(),n=e.substring(s+1).trim(),!r||t[r]&&sn[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(Pr.isObject(e)&&Pr.isIterable(e)){let r,n,s={};for(const t of e){if(!Pr.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[n=t[0]]=(r=s[n])?Pr.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,r);return this}get(e,t){if(e=on(e)){const r=Pr.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(Pr.isFunction(t))return t.call(this,e,r);if(Pr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=on(e)){const r=Pr.findKey(this,e);return!(!r||void 0===this[r]||t&&!cn(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function s(e){if(e=on(e)){const s=Pr.findKey(r,e);!s||t&&!cn(0,r[s],s,t)||(delete r[s],n=!0)}}return Pr.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const s=t[r];e&&!cn(0,this[s],s,e,!0)||(delete this[s],n=!0)}return n}normalize(e){const t=this,r={};return Pr.forEach(this,((n,s)=>{const a=Pr.findKey(r,s);if(a)return t[a]=ln(n),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(s):String(s).trim();i!==s&&delete t[s],t[i]=ln(n),r[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Pr.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&Pr.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[an]=this[an]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=on(e);t[n]||(!function(e,t){const r=Pr.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,s){return this[n].call(this,t,e,r,s)},configurable:!0})}))}(r,e),t[n]=!0)}return Pr.isArray(e)?e.forEach(n):n(e),this}}dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Pr.reduceDescriptors(dn.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),Pr.freezeMethods(dn);const un=dn;function hn(e,t){const r=this||nn,n=t||r,s=un.from(n.headers);let a=n.data;return Pr.forEach(e,(function(e){a=e.call(r,a,s.normalize(),t?t.status:void 0)})),s.normalize(),a}function fn(e){return!(!e||!e.__CANCEL__)}function mn(e,t,r){Mr.call(this,null==e?"canceled":e,Mr.ERR_CANCELED,t,r),this.name="CanceledError"}Pr.inherits(mn,Mr,{__CANCEL__:!0});const pn=mn;function gn(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Mr("Request failed with status code "+r.status,[Mr.ERR_BAD_REQUEST,Mr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const xn=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[i];s||(s=l),r[a]=o,n[a]=l;let d=i,u=0;for(;d!==a;)u+=r[d++],d%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const yn=function(e,t){let r,n,s=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?i(l,e):(r=l,n||(n=setTimeout((()=>{n=null,i(r)}),a-t)))},()=>r&&i(r)]},bn=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const s=xn(50,250);return yn((r=>{const a=r.loaded,i=r.lengthComputable?r.total:void 0,o=a-n,l=s(o);n=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),r)},vn=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},wn=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pr.asap((()=>e(...r)))},kn=en.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,en.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,jn=en.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const i=[e+"="+encodeURIComponent(t)];Pr.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Pr.isString(n)&&i.push("path="+n),Pr.isString(s)&&i.push("domain="+s),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Nn(e,t,r){let n=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Sn=e=>e instanceof un?h({},e):e;function _n(e,t){t=t||{};const r={};function n(e,t,r,n){return Pr.isPlainObject(e)&&Pr.isPlainObject(t)?Pr.merge.call({caseless:n},e,t):Pr.isPlainObject(t)?Pr.merge({},t):Pr.isArray(t)?t.slice():t}function s(e,t,r,s){return Pr.isUndefined(t)?Pr.isUndefined(e)?void 0:n(void 0,e,0,s):n(e,t,0,s)}function a(e,t){if(!Pr.isUndefined(t))return n(void 0,t)}function i(e,t){return Pr.isUndefined(t)?Pr.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(r,s,a){return a in t?n(r,s):a in e?n(void 0,r):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,r)=>s(Sn(e),Sn(t),0,!0)};return Pr.forEach(Object.keys(Object.assign({},e,t)),(function(n){const a=l[n]||s,i=a(e[n],t[n],n);Pr.isUndefined(i)&&a!==o||(r[n]=i)})),r}const Cn=e=>{const t=_n({},e);let r,{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=un.from(o),t.url=qr(Nn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Pr.isFormData(n))if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(r=o.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(en.hasStandardBrowserEnv&&(s&&Pr.isFunction(s)&&(s=s(t)),s||!1!==s&&kn(t.url))){const e=a&&i&&jn.read(i);e&&o.set(a,e)}return t},En="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Cn(e);let s=n.data;const a=un.from(n.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:f}=n;function m(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function g(){if(!p)return;const n=un.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());gn((function(e){t(e),m()}),(function(e){r(e),m()}),{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p}),p=null}p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(r(new Mr("Request aborted",Mr.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new Mr("Network Error",Mr.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const s=n.transitional||Yr;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Mr(t,s.clarifyTimeoutError?Mr.ETIMEDOUT:Mr.ECONNABORTED,e,p)),p=null},void 0===s&&a.setContentType(null),"setRequestHeader"in p&&Pr.forEach(a.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),Pr.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),u&&"json"!==u&&(p.responseType=n.responseType),f&&([l,d]=bn(f,!0),p.addEventListener("progress",l)),h&&p.upload&&([o,c]=bn(h),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{p&&(r(!t||t.type?new pn(null,e,p):t),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);x&&-1===en.protocols.indexOf(x)?r(new Mr("Unsupported protocol "+x+":",Mr.ERR_BAD_REQUEST,e)):p.send(s||null)}))},An=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const s=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Mr?t:new pn(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,s(new Mr("timeout ".concat(t," of ms exceeded"),Mr.ETIMEDOUT))}),t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:o}=n;return o.unsubscribe=()=>Pr.asap(i),o}};function Pn(e,t){this.v=e,this.k=t}function Tn(e){return function(){return new Rn(e.apply(this,arguments))}}function Rn(e){var t,r;function n(t,r){try{var a=e[t](r),i=a.value,o=i instanceof Pn;Promise.resolve(o?i.v:i).then((function(r){if(o){var l="return"===t?"return":"next";if(!i.k||r.done)return n(l,r);r=e[l](r).value}s(a.done?"return":"normal",r)}),(function(e){n("throw",e)}))}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,s){return new Promise((function(a,i){var o={key:e,arg:s,resolve:a,reject:i,next:null};r?r=r.next=o:(t=r=o,n(e,s))}))},"function"!=typeof e.return&&(this.return=void 0)}function On(e){return new Pn(e,0)}function Mn(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise((function(r){r(e[t](n))})),{done:!1,value:new Pn(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function Ln(e){var t,r,n,s=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);s--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Dn(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Dn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Dn=function(e){this.s=e,this.n=e.next},Dn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Dn(e)}Rn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Rn.prototype.next=function(e){return this._invoke("next",e)},Rn.prototype.throw=function(e){return this._invoke("throw",e)},Rn.prototype.return=function(e){return this._invoke("return",e)};const In=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,s=0;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},Fn=function(){var e=Tn((function*(e,t){var r,n=!1,s=!1;try{for(var a,i=Ln(zn(e));n=!(a=yield On(i.next())).done;n=!1){const e=a.value;yield*Mn(Ln(In(e,t)))}}catch(o){s=!0,r=o}finally{try{n&&null!=i.return&&(yield On(i.return()))}finally{if(s)throw r}}}));return function(t,r){return e.apply(this,arguments)}}(),zn=function(){var e=Tn((function*(e){if(e[Symbol.asyncIterator])return void(yield*Mn(Ln(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield On(t.read());if(e)break;yield r}}finally{yield On(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Bn=(e,t,r,n)=>{const s=Fn(e,t);let a,i=0,o=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await s.next();if(t)return o(),void e.close();let a=n.byteLength;if(r){let e=i+=a;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},Vn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Un=Vn&&"function"===typeof ReadableStream,Hn=Vn&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Wn=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(km){return!1}},qn=Un&&Wn((()=>{let e=!1;const t=new Request(en.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),$n=Un&&Wn((()=>Pr.isReadableStream(new Response("").body))),Yn={stream:$n&&(e=>e.body)};var Kn;Vn&&(Kn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Yn[e]&&(Yn[e]=Pr.isFunction(Kn[e])?t=>t[e]():(t,r)=>{throw new Mr("Response type '".concat(e,"' is not supported"),Mr.ERR_NOT_SUPPORT,r)})})));const Qn=async(e,t)=>{const r=Pr.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Pr.isBlob(e))return e.size;if(Pr.isSpecCompliantForm(e)){const t=new Request(en.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Pr.isArrayBufferView(e)||Pr.isArrayBuffer(e)?e.byteLength:(Pr.isURLSearchParams(e)&&(e+=""),Pr.isString(e)?(await Hn(e)).byteLength:void 0)})(t):r},Jn=Vn&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:f}=Cn(e);c=c?(c+"").toLowerCase():"text";let m,p=An([s,a&&a.toAbortSignal()],i);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(l&&qn&&"get"!==r&&"head"!==r&&0!==(x=await Qn(d,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(Pr.isFormData(n)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=vn(x,bn(wn(l)));n=Bn(r.body,65536,e,t)}}Pr.isString(u)||(u=u?"include":"omit");const s="credentials"in Request.prototype;m=new Request(t,h(h({},f),{},{signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:s?u:void 0}));let a=await fetch(m);const i=$n&&("stream"===c||"response"===c);if($n&&(o||i&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=Pr.toFiniteNumber(a.headers.get("content-length")),[r,n]=o&&vn(t,bn(wn(o),!0))||[];a=new Response(Bn(a.body,65536,r,(()=>{n&&n(),g&&g()})),e)}c=c||"text";let y=await Yn[Pr.findKey(Yn,c)||"text"](a,e);return!i&&g&&g(),await new Promise(((t,r)=>{gn(t,r,{data:y,headers:un.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:m})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new Mr("Network Error",Mr.ERR_NETWORK,e,m),{cause:y.cause||y});throw Mr.from(y,y&&y.code,e,m)}}),Xn={http:null,xhr:En,fetch:Jn};Pr.forEach(Xn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(km){}Object.defineProperty(e,"adapterName",{value:t})}}));const Gn=e=>"- ".concat(e),Zn=e=>Pr.isFunction(e)||null===e||!1===e,es=e=>{e=Pr.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let a=0;a<t;a++){let t;if(r=e[a],n=r,!Zn(r)&&(n=Xn[(t=String(r)).toLowerCase()],void 0===n))throw new Mr("Unknown adapter '".concat(t,"'"));if(n)break;s[t||"#"+a]=n}if(!n){const e=Object.entries(s).map((e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(Gn).join("\n"):" "+Gn(e[0]):"as no adapter specified";throw new Mr("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function ts(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pn(null,e)}function rs(e){ts(e),e.headers=un.from(e.headers),e.data=hn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return es(e.adapter||nn.adapter)(e).then((function(t){return ts(e),t.data=hn.call(e,e.transformResponse,t),t.headers=un.from(t.headers),t}),(function(t){return fn(t)||(ts(e),t&&t.response&&(t.response.data=hn.call(e,e.transformResponse,t.response),t.response.headers=un.from(t.response.headers))),Promise.reject(t)}))}const ns="1.9.0",ss={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ss[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const as={};ss.transitional=function(e,t,r){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,s,a)=>{if(!1===e)throw new Mr(n(s," has been removed"+(t?" in "+t:"")),Mr.ERR_DEPRECATED);return t&&!as[s]&&(as[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,s,a)}},ss.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const is={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Mr("options must be an object",Mr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const t=e[a],r=void 0===t||i(t,a,e);if(!0!==r)throw new Mr("option "+a+" must be "+r,Mr.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new Mr("Unknown option "+a,Mr.ERR_BAD_OPTION)}},validators:ss},os=is.validators;class ls{constructor(e){this.defaults=e||{},this.interceptors={request:new $r,response:new $r}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(km){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=_n(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:s}=t;void 0!==r&&is.assertOptions(r,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean)},!1),null!=n&&(Pr.isFunction(n)?t.paramsSerializer={serialize:n}:is.assertOptions(n,{encode:os.function,serialize:os.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),is.assertOptions(t,{baseUrl:os.spelling("baseURL"),withXsrfToken:os.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&Pr.merge(s.common,s[t.method]);s&&Pr.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=un.concat(a,s);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[rs.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=rs.call(this,h)}catch(f){return Promise.reject(f)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return qr(Nn((e=_n(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Pr.forEach(["delete","get","head","options"],(function(e){ls.prototype[e]=function(t,r){return this.request(_n(r||{},{method:e,url:t,data:(r||{}).data}))}})),Pr.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,s){return this.request(_n(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}ls.prototype[e]=t(),ls.prototype[e+"Form"]=t(!0)}));const cs=ls;class ds{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,s){r.reason||(r.reason=new pn(e,n,s),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ds((function(t){e=t})),cancel:e}}}const us=ds;const hs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hs).forEach((e=>{let[t,r]=e;hs[r]=t}));const fs=hs;const ms=function e(t){const r=new cs(t),n=$t(cs.prototype.request,r);return Pr.extend(n,cs.prototype,r,{allOwnKeys:!0}),Pr.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(_n(t,r))},n}(nn);ms.Axios=cs,ms.CanceledError=pn,ms.CancelToken=us,ms.isCancel=fn,ms.VERSION=ns,ms.toFormData=zr,ms.AxiosError=Mr,ms.Cancel=ms.CanceledError,ms.all=function(e){return Promise.all(e)},ms.spread=function(e){return function(t){return e.apply(null,t)}},ms.isAxiosError=function(e){return Pr.isObject(e)&&!0===e.isAxiosError},ms.mergeConfig=_n,ms.AxiosHeaders=un,ms.formToJSON=e=>tn(Pr.isHTMLForm(e)?new FormData(e):e),ms.getAdapter=es,ms.HttpStatusCode=fs,ms.default=ms;const ps=ms.create({baseURL:"https://trustlens-production-backend.up.railway.app/api",headers:{"Content-Type":"application/json"}});ps.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}));const gs=function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString(),r=t?"/vendor/vendors/".concat(e,"/products?").concat(t):"/vendor/vendors/".concat(e,"/products");return ps.get(r)},xs=e=>ps.get("/vendor/vendors/".concat(e,"/analytics")),ys=e=>ps.get("/vendor/vendors/".concat(e,"/categories")),bs={buyProduct:e=>ps.put("/products/".concat(e,"/buy")),returnProduct:e=>ps.put("/products/".concat(e,"/return")),getCustomerDetails:()=>ps.get("/auth/customer/me",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),getUsers:()=>ps.get("/users"),createUser:e=>ps.post("/users",e),getUserById:e=>ps.get("/users/".concat(e)),updateUser:(e,t)=>ps.put("/users/".concat(e),t),getTrustScoreHistory:()=>ps.get("/users/trust-score-history"),getUserIPAnalysis:e=>ps.get("/users/".concat(e,"/ip-analysis")),recalculateUserTrust:e=>ps.post("/users/".concat(e,"/recalculate-trust")),getSellerAnalytics:e=>ps.get("/users/".concat(e,"/seller-analytics")),recalculateSellerTrust:e=>ps.post("/users/".concat(e,"/recalculate-seller-trust")),getVendors:()=>ps.get("/vendor/vendors"),getVendorById:e=>ps.get("/vendor/vendors/".concat(e)),getVendorAnalytics:e=>ps.get("/vendor/vendors/".concat(e,"/analytics")),recalculateVendorTrust:e=>ps.post("/vendor/vendors/".concat(e,"/recalculate-trust")),getProducts:()=>ps.get("/products"),createProduct:e=>ps.post("/products",e),getProductById:e=>ps.get("/products/".concat(e)),updateProduct:(e,t)=>ps.put("/products/".concat(e),t),trackProductPurchase:e=>ps.post("/products/".concat(e,"/purchase")),trackProductReturn:(e,t)=>ps.post("/products/".concat(e,"/return"),{reason:t}),getProductReturnAnalytics:e=>ps.get("/products/".concat(e,"/return-analytics")),getProductAuditLogs:e=>ps.get("/products/".concat(e,"/audit-logs")),getProductLifecycleInsights:e=>ps.get("/product-lifecycle/insights/".concat(e)),getProductLifecycleAnalytics:e=>ps.get("/product-lifecycle/analytics/".concat(e)),getProductLifecycleTimeline:e=>ps.get("/product-lifecycle/timeline/".concat(e)),initializeProductLifecycle:e=>ps.post("/product-lifecycle/initialize",e),progressProductLifecycle:e=>ps.post("/product-lifecycle/progress",e),trackProductView:e=>ps.post("/product-lifecycle/track-view",e),getReviews:()=>ps.get("/reviews"),createReview:e=>ps.post("/reviews",e),getReviewsByProduct:e=>ps.get("/reviews/product/".concat(e)),voteOnReview:(e,t)=>ps.post("/reviews/".concat(e,"/vote"),{voteType:t}),analyzeReview:e=>ps.post("/reviews/analyze",{content:e}),getAlerts:()=>ps.get("/alerts"),getAlertsByType:e=>ps.get("/alerts/type/".concat(e)),getAlertsBySeverity:e=>ps.get("/alerts/severity/".concat(e)),resolveAlert:e=>ps.put("/alerts/".concat(e,"/resolve")),dismissAlert:e=>ps.put("/alerts/".concat(e,"/dismiss")),getAlertStats:()=>ps.get("/alerts/stats"),getEnhancedReviewSummary:e=>ps.get("/enhanced-reviews/summary/".concat(e)),authenticateReview:(e,t)=>ps.post("/enhanced-reviews/authenticate/".concat(e),t),getAuthenticationDetails:e=>ps.get("/enhanced-reviews/details/".concat(e)),updateReviewDecision:(e,t)=>ps.put("/enhanced-reviews/decision/".concat(e),t),bulkAuthenticateReviews:e=>ps.post("/enhanced-reviews/bulk-authenticate",{reviewIds:e}),getAuthenticationStats:()=>ps.get("/enhanced-reviews/stats/overview"),getPendingReviews:()=>ps.get("/enhanced-reviews/pending-review"),progressWorkflow:(e,t)=>ps.post("/enhanced-reviews/workflow/".concat(e,"/progress"),t),getDailyReviewStats:()=>ps.get("/enhanced-reviews/stats/daily"),getReviewAnalytics:()=>ps.get("/enhanced-reviews/analytics/overview"),injectFraud:()=>ps.post("/products/inject-fraud"),getRealtimeStats:()=>ps.get("/products/stats/realtime"),getRealtimeActivity:()=>ps.get("/products/activity/realtime"),placeOrder:e=>ps.post("/orders",e),getCustomerOrders:e=>ps.get("/orders/customer/".concat(e)),getVendorOrders:e=>ps.get("/orders/vendor/".concat(e)),getOrderById:e=>ps.get("/orders/".concat(e)),updateOrderStatus:(e,t)=>ps.put("/orders/".concat(e,"/status"),t),cancelOrder:(e,t)=>ps.post("/orders/".concat(e,"/cancel"),{reason:t}),getAllOrders:e=>ps.get("/orders",{params:e}),getOrderStats:()=>ps.get("/orders/stats/overview"),getVendorOrdersList:(e,t)=>function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString(),r=t?"/vendor/vendors/".concat(e,"/orders?").concat(t):"/vendor/vendors/".concat(e,"/orders");return ps.get(r)}(e,t),getVendorOrderAnalytics:e=>(e=>ps.get("/vendor/vendors/".concat(e,"/orders/analytics")))(e),getVendorOrderStats:e=>(e=>ps.get("/vendor/vendors/".concat(e,"/orders/stats/summary")))(e),getVendorOrderDetails:(e,t)=>((e,t)=>ps.get("/vendor/vendors/".concat(e,"/orders/").concat(t)))(e,t),updateVendorOrderStatus:(e,t,r)=>((e,t,r)=>ps.put("/vendor/vendors/".concat(e,"/orders/").concat(t,"/status"),r))(e,t,r),getUserLinguisticAnalysis:e=>ps.get("/users/".concat(e,"/linguistic-analysis"))},vs=bs;function ws(){const e=ge(),[t,r]=(0,a.useState)({username:"",email:"",mobileNumber:"",password:""}),[n,s]=(0,a.useState)(""),i=e=>{r(h(h({},t),{},{[e.target.name]:e.target.value}))};return(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,_t.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{const r=await(e=>ps.post("/auth/customer/signup",e))(t);localStorage.setItem("token",r.data.token),e("/customer/dashboard")}catch(i){var n,a;s((null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Signup failed")}},className:"w-full max-w-md bg-white p-8 rounded-lg shadow",children:[(0,_t.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Customer Sign Up"}),n&&(0,_t.jsx)("p",{className:"text-red-500 mb-4",children:n}),["username","email","mobileNumber","password"].map((e=>(0,_t.jsxs)("div",{className:"mb-4",children:[(0,_t.jsx)("label",{className:"block mb-1 capitalize",children:e}),(0,_t.jsx)("input",{name:e,type:"password"===e?"password":"text",className:"w-full border px-3 py-2 rounded",value:t[e],onChange:i,required:!0})]},e))),(0,_t.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg",children:"Sign Up"})]})})}function ks(){const e=ge(),[t,r]=(0,a.useState)({email:"",password:""}),[n,s]=(0,a.useState)(""),i=e=>{r(h(h({},t),{},{[e.target.name]:e.target.value}))};return(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,_t.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{const r=await(e=>ps.post("/auth/customer/login",e))(t);localStorage.setItem("token",r.data.token),e("/customer/dashboard")}catch(i){var n,a;s((null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Login failed")}},className:"w-full max-w-md bg-white p-8 rounded-lg shadow",children:[(0,_t.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Customer Login"}),n&&(0,_t.jsx)("p",{className:"text-red-500 mb-4",children:n}),["email","password"].map((e=>(0,_t.jsxs)("div",{className:"mb-4",children:[(0,_t.jsx)("label",{className:"block mb-1 capitalize",children:e}),(0,_t.jsx)("input",{name:e,type:"password"===e?"password":"text",className:"w-full border px-3 py-2 rounded",value:t[e],onChange:i,required:!0})]},e))),(0,_t.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg",children:"Login"})]})})}function js(){const e=ge(),[t,r]=(0,a.useState)(null),[n,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)("");(0,a.useEffect)((()=>{const t=localStorage.getItem("token");if(t)try{const e=JSON.parse(atob(t.split(".")[1]));l(e.id)}catch(r){console.error("Invalid token:",r),e("/customer/login")}else e("/customer/login")}),[e]);const l=async e=>{try{const t=await vs.getUserById(e);r(t.data),s(!1)}catch(t){o("Failed to load user data"),s(!1)}};return n?(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,_t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your dashboard..."})]})}):i?(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("p",{className:"text-red-600 mb-4",children:i}),(0,_t.jsx)("button",{onClick:()=>e("/customer/login"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Back to Login"})]})}):(0,_t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,_t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,_t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"TrustLens"}),(0,_t.jsx)("span",{className:"ml-3 text-sm text-gray-500",children:"Customer Dashboard"})]}),(0,_t.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),e("/")},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Logout"})]})})}),(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,_t.jsx)("div",{className:"mb-8",children:(0,_t.jsx)("div",{className:"flex justify-between items-start",children:(0,_t.jsxs)("div",{children:[(0,_t.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",t.username,"!"]}),(0,_t.jsxs)("p",{className:"text-gray-600",children:["Account created: ",new Date(t.createdAt).toLocaleDateString()]})]})})}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,_t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,_t.jsx)("div",{className:"flex items-center justify-between",children:(0,_t.jsxs)("div",{children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Trust Score"}),(0,_t.jsx)("p",{className:"text-2xl font-bold px-3 py-1 rounded-full ".concat((d=t.trustScore,d>=80?"text-green-600 bg-green-100":d>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100")),children:t.trustScore})]})})}),(0,_t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,_t.jsx)("div",{className:"flex items-center justify-between",children:(0,_t.jsxs)("div",{children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Risk Level"}),(0,_t.jsx)("p",{className:"text-lg font-semibold px-3 py-1 rounded-full ".concat((c=t.riskLevel,"Low"===c?"text-green-600 bg-green-100":"Medium"===c?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100")),children:t.riskLevel})]})})}),(0,_t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,_t.jsx)("div",{className:"flex items-center justify-between",children:(0,_t.jsxs)("div",{children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Transactions"}),(0,_t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:t.transactionCount})]})})}),(0,_t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,_t.jsx)("div",{className:"flex items-center justify-between",children:(0,_t.jsxs)("div",{children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Account Age"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[t.accountAge," days"]})]})})})]}),t.recentActivity&&(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,_t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Activity"}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Last Order"}),(0,_t.jsx)("p",{className:"text-lg font-medium text-gray-900",children:t.recentActivity.lastOrderDate?new Date(t.recentActivity.lastOrderDate).toLocaleDateString():"No orders yet"}),null!==t.recentActivity.daysSinceLastOrder&&(0,_t.jsxs)("p",{className:"text-xs text-gray-500",children:[t.recentActivity.daysSinceLastOrder," days ago"]})]}),(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Spent"}),(0,_t.jsxs)("p",{className:"text-lg font-medium text-green-600",children:["\u20b9",t.recentActivity.totalSpent.toFixed(2)]}),(0,_t.jsx)("p",{className:"text-xs text-gray-500",children:"Last 5 orders"})]}),(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Recent Orders"}),(0,_t.jsx)("p",{className:"text-lg font-medium text-blue-600",children:t.recentActivity.recentOrders}),(0,_t.jsx)("p",{className:"text-xs text-gray-500",children:"Last 5 orders"})]})]})]}),(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,_t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Profile Information"}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Username"}),(0,_t.jsx)("p",{className:"text-lg font-medium text-gray-900",children:t.username})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Email"}),(0,_t.jsx)("p",{className:"text-lg font-medium text-gray-900",children:t.email})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Mobile Number"}),(0,_t.jsx)("p",{className:"text-lg font-medium text-gray-900",children:t.mobileNumber})]})]})]}),(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,_t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,_t.jsx)("button",{onClick:()=>e("/customer/products"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Browse Products"}),(0,_t.jsx)("button",{onClick:()=>e("/customer/orders"),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition",children:"My Orders"})]})]})]})]});var c,d}function Ns(){const e=ge(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[f,m]=(0,a.useState)("All"),[p,g]=(0,a.useState)("name"),[x,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1);(0,a.useEffect)((()=>{S()}),[]),(0,a.useEffect)((()=>{_()}),[t,d,f,p]);const S=async()=>{try{const e=await vs.getProducts();r(e.data),o(!1)}catch(e){c("Failed to load products"),o(!1)}},_=()=>{let e=t;d&&(e=e.filter((e=>e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase())))),"All"!==f&&(e=e.filter((e=>e.category===f))),e.sort(((e,t)=>{var r,n;switch(p){case"price-low":return e.price-t.price;case"price-high":return t.price-e.price;case"trust":return((null===(r=t.vendor)||void 0===r?void 0:r.trustScore)||0)-((null===(n=e.vendor)||void 0===n?void 0:n.trustScore)||0);case"rating":return(t.averageRating||0)-(e.averageRating||0);default:return e.name.localeCompare(t.name)}})),s(e)},C=e=>e>=60?"text-green-600":e>=40?"text-yellow-600":"text-red-600",E=e=>{switch(e){case"Low":return"text-green-600 bg-green-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"High":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return i?(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,_t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]})}):l?(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("p",{className:"text-red-600 mb-4",children:l}),(0,_t.jsx)("button",{onClick:()=>e("/customer/dashboard"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})}):(0,_t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,_t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,_t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_t.jsx)("div",{className:"flex justify-between items-center py-4",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("button",{onClick:()=>e("/customer/dashboard"),className:"text-blue-600 hover:text-blue-800 mr-4",children:"\u2190 Back"}),(0,_t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Browse Products"}),(0,_t.jsxs)("span",{className:"ml-3 text-sm text-gray-500",children:["(",n.length," products)"]})]})})})}),(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,_t.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Products"}),(0,_t.jsx)("input",{type:"text",placeholder:"Search by name or description...",value:d,onChange:e=>u(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,_t.jsx)("select",{value:f,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:["All",...new Set(t.map((e=>e.category)))].map((e=>(0,_t.jsx)("option",{value:e,children:e},e)))})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),(0,_t.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,_t.jsx)("option",{value:"name",children:"Name (A-Z)"}),(0,_t.jsx)("option",{value:"price-low",children:"Price (Low to High)"}),(0,_t.jsx)("option",{value:"price-high",children:"Price (High to Low)"}),(0,_t.jsx)("option",{value:"trust",children:"Vendor Trust Score"}),(0,_t.jsx)("option",{value:"rating",children:"Customer Rating"})]})]})]})}),(0,_t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map((t=>{var r,n,s,a,i;return(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow",children:[(0,_t.jsx)("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-t-lg bg-gray-200",children:(0,_t.jsx)("img",{src:t.images[0]||"/placeholder-image.jpg",alt:t.name,className:"h-48 w-full object-cover object-center"})}),(0,_t.jsxs)("div",{className:"p-4",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:t.name}),(0,_t.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),(0,_t.jsxs)("div",{className:"text-2xl font-bold text-green-600 mb-3",children:["\u20b9",t.price]}),(0,_t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("span",{className:"text-sm text-gray-600",children:"Vendor Trust:"}),(0,_t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full font-medium ".concat((i=(null===(r=t.vendor)||void 0===r?void 0:r.trustScore)||0,i>=70?"text-green-600 bg-green-100":i>=50?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100")),children:void 0!==(null===(n=t.vendor)||void 0===n?void 0:n.trustScore)?Number(t.vendor.trustScore).toFixed(2):"0.00"})]}),(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("span",{className:"text-sm text-gray-600",children:"Authenticity:"}),(0,_t.jsxs)("span",{className:"text-sm font-medium ".concat(C(t.authenticityScore)),children:[t.authenticityScore,"%"]})]}),(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("span",{className:"text-sm text-gray-600",children:"Return Rate:"}),(0,_t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full font-medium ".concat(E(t.returnRateCategory)),children:t.returnRateCategory})]}),t.reviewCount>0&&(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("span",{className:"text-sm text-gray-600",children:"Rating:"}),(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("span",{className:"text-yellow-500",children:"\u2605".repeat(Math.floor(t.averageRating))}),(0,_t.jsxs)("span",{className:"text-sm text-gray-600 ml-1",children:["(",t.reviewCount," reviews)"]})]})]})]}),(0,_t.jsx)("div",{className:"border-t pt-3 mb-4",children:(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:["Sold by: ",(0,_t.jsx)("span",{className:"font-medium",children:(null===(s=t.vendor)||void 0===s?void 0:s.name)||(null===(a=t.seller)||void 0===a?void 0:a.name)})]})}),(0,_t.jsxs)("div",{className:"space-y-2",children:[(0,_t.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition",onClick:()=>e("/customer/products/".concat(t._id)),children:"View Details"}),t.quantity>0?(0,_t.jsx)("button",{onClick:()=>(e=>{v(e),y(!0),N(!1)})(t),className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition",children:"Buy Now"}):(0,_t.jsx)("button",{disabled:!0,className:"w-full bg-gray-400 text-white py-2 px-4 rounded-lg cursor-not-allowed",children:"Out of Stock"})]}),t.fraudFlagged&&(0,_t.jsx)("div",{className:"mt-3 p-2 bg-red-100 border border-red-300 rounded-lg",children:(0,_t.jsx)("p",{className:"text-xs text-red-700 text-center",children:"\u26a0\ufe0f Flagged by AI for review"})})]})]},t._id)}))}),0===n.length&&(0,_t.jsxs)("div",{className:"text-center py-12",children:[(0,_t.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd0d"}),(0,_t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),(0,_t.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]})]}),x&&(0,_t.jsx)(Ss,{product:b,onClose:()=>y(!1),onPlaceOrder:async n=>{k(!0);try{const s=localStorage.getItem("token");if(!s)return void e("/customer/login");const a=JSON.parse(atob(s.split(".")[1]));await vs.placeOrder({customerId:a.id,productId:b._id,quantity:1,shippingAddress:n.shippingAddress,paymentMethod:n.paymentMethod});N(!0),k(!1),r(t.map((e=>e._id===b._id?h(h({},e),{},{quantity:e.quantity-1}):e))),setTimeout((()=>{y(!1),N(!1)}),2e3)}catch(s){console.error("Order placement error:",s),c("Failed to place order. Please try again."),k(!1)}},loading:w,success:j})]})}function Ss(e){let{product:t,onClose:r,onPlaceOrder:n,loading:s,success:i}=e;const[o,l]=(0,a.useState)({street:"",city:"",state:"",zipCode:""}),[c,d]=(0,a.useState)("Cash on Delivery");return i?(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_t.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4 text-center",children:[(0,_t.jsx)("div",{className:"text-6xl mb-4",children:"\u2705"}),(0,_t.jsx)("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Order Placed Successfully!"}),(0,_t.jsx)("p",{className:"text-gray-600",children:"Your order has been confirmed and will be processed soon."})]})}):(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,_t.jsx)("h3",{className:"text-xl font-bold",children:"Place Order"}),(0,_t.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,_t.jsx)("div",{className:"border rounded-lg p-4 mb-6",children:(0,_t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,_t.jsx)("img",{src:t.images[0],alt:t.name,className:"w-16 h-16 object-cover rounded"}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsx)("h4",{className:"font-semibold text-sm",children:t.name}),(0,_t.jsxs)("p",{className:"text-green-600 font-bold",children:["\u20b9",t.price]}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Qty: 1"})]})]})}),(0,_t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.street&&o.city&&o.state&&o.zipCode?n({shippingAddress:o,paymentMethod:c}):alert("Please fill in all shipping address fields")},children:[(0,_t.jsxs)("div",{className:"mb-6",children:[(0,_t.jsx)("h4",{className:"font-semibold mb-3",children:"Shipping Address"}),(0,_t.jsxs)("div",{className:"space-y-3",children:[(0,_t.jsx)("input",{type:"text",placeholder:"Street Address",value:o.street,onChange:e=>l(h(h({},o),{},{street:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),(0,_t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,_t.jsx)("input",{type:"text",placeholder:"City",value:o.city,onChange:e=>l(h(h({},o),{},{city:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),(0,_t.jsx)("input",{type:"text",placeholder:"State",value:o.state,onChange:e=>l(h(h({},o),{},{state:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,_t.jsx)("input",{type:"text",placeholder:"ZIP Code",value:o.zipCode,onChange:e=>l(h(h({},o),{},{zipCode:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,_t.jsxs)("div",{className:"mb-6",children:[(0,_t.jsx)("h4",{className:"font-semibold mb-3",children:"Payment Method"}),(0,_t.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,_t.jsx)("option",{value:"Cash on Delivery",children:"Cash on Delivery"}),(0,_t.jsx)("option",{value:"Credit Card",children:"Credit Card"}),(0,_t.jsx)("option",{value:"Debit Card",children:"Debit Card"}),(0,_t.jsx)("option",{value:"UPI",children:"UPI"}),(0,_t.jsx)("option",{value:"Net Banking",children:"Net Banking"})]})]}),(0,_t.jsx)("div",{className:"border-t pt-4 mb-6",children:(0,_t.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold",children:[(0,_t.jsx)("span",{children:"Total Amount:"}),(0,_t.jsxs)("span",{className:"text-green-600",children:["\u20b9",t.price]})]})}),(0,_t.jsxs)("div",{className:"flex space-x-3",children:[(0,_t.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition",children:"Cancel"}),(0,_t.jsx)("button",{type:"submit",disabled:s,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:s?(0,_t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Placing Order..."]}):"Place Order"})]})]})]})})}function _s(e){var t;let{analysisData:r,onClose:n}=e;if(!r)return null;const{linguisticFingerprint:s,aiAnalysisResults:a,enhancedAuthentication:i}=r,o=e=>e>=80?"text-green-600 bg-green-100":e>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,_t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Review Analysis Results"}),(0,_t.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),null===(null===r||void 0===r||null===(t=r.aiAnalysisResults)||void 0===t?void 0:t.huggingFaceResults)&&(0,_t.jsx)("div",{className:"mb-4 p-3 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 rounded",children:"AI analysis is using fallback logic. Results may not be accurate."}),(0,_t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"text-green-600 text-2xl mr-3",children:"\u2705"}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-medium text-green-900",children:r.isUpdate?"Review Updated Successfully!":"Review Submitted Successfully!"}),(0,_t.jsx)("p",{className:"text-sm text-green-700",children:"Your review has been analyzed using advanced AI and linguistic fingerprinting technology."})]})]})}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,_t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[(0,_t.jsxs)("h4",{className:"font-bold text-blue-900 mb-4 flex items-center",children:[(0,_t.jsx)("span",{className:"text-2xl mr-2"}),"Authenticity Analysis"]}),s&&(0,_t.jsxs)("div",{className:"space-y-4",children:[(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"inline-flex items-center px-4 py-2 rounded-full ".concat(o(s.authenticityScore)),children:(0,_t.jsxs)("span",{className:"text-2xl font-bold",children:[s.authenticityScore,"%"]})}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Authenticity Score"})]}),(0,_t.jsx)("div",{className:"text-center",children:(0,_t.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"Low":return"text-green-600 bg-green-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"High":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}})(s.riskLevel)),children:[s.riskLevel," Risk"]})}),s.analysis&&(0,_t.jsxs)("div",{className:"space-y-2",children:[(0,_t.jsx)("h5",{className:"font-medium text-gray-900",children:"Analysis Breakdown:"}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{children:"Text Quality:"}),(0,_t.jsxs)("span",{className:"font-medium",children:[s.analysis.textQuality,"%"]})]}),(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{children:"Sentiment Analysis:"}),(0,_t.jsxs)("span",{className:"font-medium",children:[s.analysis.sentimentAnalysis,"%"]})]}),(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{children:"Behavioral Consistency:"}),(0,_t.jsxs)("span",{className:"font-medium",children:[s.analysis.behavioralConsistency,"%"]})]}),(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{children:"Temporal Patterns:"}),(0,_t.jsxs)("span",{className:"font-medium",children:[s.analysis.temporalPatterns,"%"]})]}),(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{children:"User Consistency:"}),(0,_t.jsxs)("span",{className:"font-medium",children:[s.analysis.userConsistency,"%"]})]})]})]})]})]}),(0,_t.jsxs)("div",{className:"bg-purple-50 rounded-lg p-6",children:[(0,_t.jsxs)("h4",{className:"font-bold text-purple-900 mb-4 flex items-center",children:[(0,_t.jsx)("span",{className:"text-2xl mr-2"}),"AI Content Analysis"]}),a&&(0,_t.jsxs)("div",{className:"space-y-4",children:[(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"inline-flex items-center px-4 py-2 rounded-full ".concat(o(a.authenticityScore)),children:(0,_t.jsxs)("span",{className:"text-2xl font-bold",children:[a.authenticityScore,"%"]})}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"AI Authenticity Score"})]}),(0,_t.jsx)("div",{className:"text-center",children:(0,_t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(a.isAIGenerated?"text-red-600 bg-red-100":"text-green-600 bg-green-100"),children:a.isAIGenerated?"AI Generated":"Human Written"})}),a.detailedAnalysis&&(0,_t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,_t.jsx)("p",{className:"font-medium mb-1",children:"Analysis Source:"}),(0,_t.jsx)("p",{children:a.huggingFaceResults?"HuggingFace AI Model":"Local Analysis"})]})]})]})]}),(null===s||void 0===s?void 0:s.flags)&&s.flags.length>0&&(0,_t.jsxs)("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,_t.jsx)("h4",{className:"font-medium text-yellow-900 mb-2",children:"Analysis Flags:"}),(0,_t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.flags.map(((e,t)=>(0,_t.jsxs)("div",{className:"flex items-center text-sm text-yellow-700",children:[(0,_t.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-2"}),e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,(e=>e.toUpperCase()))]},t)))})]}),i&&!i.error&&(0,_t.jsxs)("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,_t.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"Enhanced Authentication:"}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"text-gray-600",children:"Overall Score:"}),(0,_t.jsxs)("span",{className:"font-medium ml-2",children:[i.overallScore,"%"]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,_t.jsx)("span",{className:"font-medium ml-2",children:i.status})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"text-gray-600",children:"Workflow Stage:"}),(0,_t.jsx)("span",{className:"font-medium ml-2",children:i.workflowStage})]})]})]}),(null===s||void 0===s?void 0:s.fingerprintId)&&(0,_t.jsxs)("div",{className:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Linguistic Fingerprint:"}),(0,_t.jsxs)("div",{className:"text-sm text-gray-600 font-mono",children:["ID: ",s.fingerprintId]}),(0,_t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This unique identifier helps track writing patterns and detect potential fraud."})]}),(0,_t.jsx)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,_t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_t.jsx)("div",{className:"text-blue-600 text-xl"}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsx)("h4",{className:"font-medium text-blue-900 mb-1",children:"Trust & Security"}),(0,_t.jsx)("p",{className:"text-sm text-blue-700",children:"Your review has been processed through multiple layers of security analysis including:"}),(0,_t.jsxs)("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[(0,_t.jsx)("li",{children:"\u2022 Linguistic fingerprinting for authenticity verification"}),(0,_t.jsx)("li",{children:"\u2022 AI-powered content analysis using HuggingFace models"}),(0,_t.jsx)("li",{children:"\u2022 Behavioral pattern analysis and fraud detection"}),(0,_t.jsx)("li",{children:"\u2022 Purchase verification and order trust scoring"})]})]})]})}),(0,_t.jsx)("div",{className:"flex justify-end mt-6",children:(0,_t.jsx)("button",{onClick:n,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",children:"Continue"})})]})})}function Cs(e){let{order:t,onClose:r,onReviewSubmitted:n}=e;const[s,i]=(0,a.useState)(0),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!1),[f,m]=(0,a.useState)(""),[p,g]=(0,a.useState)(0),[x,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),[w]=(0,a.useState)(Date.now()),[k]=(0,a.useState)(Date.now()),[j,N]=(0,a.useState)(0),S=e=>{let{rating:t,onRatingChange:r,hoverRating:n,onHover:s,onLeave:a}=e;return(0,_t.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map((e=>(0,_t.jsx)("button",{type:"button",onClick:()=>r(e),onMouseEnter:()=>s(e),onMouseLeave:a,className:"text-2xl transition-colors ".concat(e<=(n||t)?"text-yellow-400":"text-gray-300"),children:"\u2605"},e)))})};return t?x&&b?(0,_t.jsx)(_s,{analysisData:b,onClose:()=>{y(!1),r()}}):(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,_t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Write Review"}),(0,_t.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"flex items-center space-x-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,_t.jsx)("img",{src:t.productImage,alt:t.productName,className:"w-16 h-16 object-cover rounded"}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-900",children:t.productName}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:["Order #",t.orderNumber]}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:["Vendor: ",t.vendorName]})]})]}),(0,_t.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),console.log("Review submission started for order:",t.orderNumber),0!==s)if(o.trim().length<10)m("Review must be at least 10 characters long");else{h(!0),m("");try{const e=localStorage.getItem("token"),r=JSON.parse(atob(e.split(".")[1])),a={product:t.product._id||t.product,reviewer:r.id,rating:s,content:o,images:c.map((e=>e.preview)),orderId:t._id,vendorId:t.vendor,purchaseVerified:!0,behaviorMetrics:{writingTime:Date.now()-w,textLength:o.length,revisionsCount:j,imageCount:c.length,sessionDuration:Date.now()-k}};console.log("Submitting review data:",a);const i=await vs.createReview(a);console.log("Review response:",i.data),i.data.isUpdate?console.log("\u2705 Review updated successfully"):console.log("\u2705 Review submitted successfully"),v(i.data),y(!0),n(i.data)}catch(r){console.error("Review submission error:",r),m("Failed to submit review. Please try again.")}finally{h(!1)}}else m("Please provide a rating")},className:"space-y-6",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Rating *"}),(0,_t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,_t.jsx)(S,{rating:s,onRatingChange:i,hoverRating:p,onHover:g,onLeave:()=>g(0)}),(0,_t.jsx)("span",{className:"text-sm text-gray-600",children:s>0&&(1===s?"Poor":2===s?"Fair":3===s?"Good":4===s?"Very Good":"Excellent")})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write your review * (minimum 10 characters)"}),(0,_t.jsx)("textarea",{value:o,onChange:e=>{l(e.target.value),N((e=>e+1))},placeholder:"Share your experience with this product. What did you like or dislike? How was the quality, delivery, and overall experience?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:6,required:!0}),(0,_t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,_t.jsxs)("span",{children:[o.length," characters"]}),(0,_t.jsxs)("span",{children:[j," revisions"]})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Photos (Optional - Max 3 images, 5MB each)"}),(0,_t.jsxs)("div",{className:"space-y-4",children:[c.length<3&&(0,_t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,_t.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);t.length+c.length>3?m("Maximum 3 images allowed"):t.forEach((e=>{if(e.size>5242880)return void m("Image size should be less than 5MB");const t=new FileReader;t.onload=t=>{d((r=>[...r,{file:e,preview:t.target.result,name:e.name}]))},t.readAsDataURL(e)}))},className:"hidden",id:"image-upload"}),(0,_t.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:[(0,_t.jsx)("div",{className:"text-4xl text-gray-400 mb-2",children:"\ud83d\udcf7"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload images"})]})]}),c.length>0&&(0,_t.jsx)("div",{className:"grid grid-cols-3 gap-4",children:c.map(((e,t)=>(0,_t.jsxs)("div",{className:"relative",children:[(0,_t.jsx)("img",{src:e.preview,alt:"Review ".concat(t+1),className:"w-full h-24 object-cover rounded"}),(0,_t.jsx)("button",{type:"button",onClick:()=>(e=>{d((t=>t.filter(((t,r)=>r!==e))))})(t),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:"\xd7"})]},t)))})]})]}),(0,_t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,_t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_t.jsx)("div",{className:"text-blue-600 text-xl",children:"\ud83d\udee1\ufe0f"}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsx)("h4",{className:"font-medium text-blue-900 mb-1",children:"Trust & Authenticity"}),(0,_t.jsx)("p",{className:"text-sm text-blue-700",children:"Your review will be analyzed using AI for authenticity and linguistic fingerprinting. This helps maintain trust in our review ecosystem and detect fake reviews."}),(0,_t.jsx)("div",{className:"mt-2 text-xs text-blue-600",children:"\u2022 Purchase verified \u2713 \u2022 IP tracking enabled \u2713 \u2022 Behavioral analysis active \u2713"})]})]})}),f&&(0,_t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,_t.jsx)("p",{className:"text-red-700 text-sm",children:f})}),(0,_t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,_t.jsx)("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,_t.jsx)("button",{type:"submit",disabled:u||0===s,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Submitting...":"Submit Review"})]})]})]})}):null}function Es(){const e=ge(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[m,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(null);(0,a.useEffect)((()=>{y()}),[]);const y=async()=>{try{const t=localStorage.getItem("token");if(!t)return void e("/customer/login");const n=JSON.parse(atob(t.split(".")[1])),a=await vs.getCustomerOrders(n.id);r(a.data.orders),s(!1)}catch(t){o("Failed to load orders"),s(!1)}},b=e=>{switch(e){case"Delivered":return"text-green-600 bg-green-100";case"Shipped":return"text-blue-600 bg-blue-100";case"Processing":return"text-yellow-600 bg-yellow-100";case"Confirmed":return"text-purple-600 bg-purple-100";case"Pending":return"text-orange-600 bg-orange-100";case"Cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},v=e=>{switch(e){case"Low":return"text-green-600 bg-green-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"High":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},w=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,_t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your orders..."})]})}):i?(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("p",{className:"text-red-600 mb-4",children:i}),(0,_t.jsx)("button",{onClick:()=>e("/customer/dashboard"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Back to Dashboard"})]})}):(0,_t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,_t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,_t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_t.jsx)("div",{className:"flex justify-between items-center py-4",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("button",{onClick:()=>e("/customer/dashboard"),className:"text-blue-600 hover:text-blue-800 mr-4",children:"\u2190 Back"}),(0,_t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Orders"}),(0,_t.jsxs)("span",{className:"ml-3 text-sm text-gray-500",children:["(",t.length," orders)"]})]})})})}),(0,_t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:0===t.length?(0,_t.jsxs)("div",{className:"text-center py-12",children:[(0,_t.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udce6"}),(0,_t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No orders yet"}),(0,_t.jsx)("p",{className:"text-gray-600 mb-6",children:"Start shopping to see your orders here!"}),(0,_t.jsx)("button",{onClick:()=>e("/customer/products"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Browse Products"})]}):(0,_t.jsx)("div",{className:"space-y-6",children:t.map((e=>{return(0,_t.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow",children:(0,_t.jsxs)("div",{className:"p-6",children:[(0,_t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",e.orderNumber]}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:["Placed on ",w(e.createdAt)]})]}),(0,_t.jsxs)("div",{className:"mt-2 md:mt-0 flex items-center space-x-3",children:[(0,_t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(b(e.status)),children:e.status}),(0,_t.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(v(e.fraudRisk)),children:["Risk: ",e.fraudRisk]})]})]}),(0,_t.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,_t.jsx)("img",{src:e.productImage,alt:e.productName,className:"w-16 h-16 object-cover rounded"}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-900",children:e.productName}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity]}),(0,_t.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["\u20b9",e.totalAmount]})]})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 p-4 bg-gray-50 rounded-lg",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Vendor"}),(0,_t.jsx)("p",{className:"font-medium",children:e.vendorName}),(0,_t.jsxs)("p",{className:"text-sm text-blue-600",children:["Trust Score: ",void 0!==e.vendorTrustScore?Number(e.vendorTrustScore).toFixed(2):""]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Payment"}),(0,_t.jsx)("p",{className:"font-medium",children:e.paymentMethod}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:e.paymentStatus})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Delivery"}),(0,_t.jsx)("p",{className:"font-medium",children:e.estimatedDelivery?w(e.estimatedDelivery):"TBD"}),e.trackingNumber&&(0,_t.jsxs)("p",{className:"text-sm text-blue-600",children:["Track: ",e.trackingNumber]})]})]}),(0,_t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg mb-4",children:[(0,_t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_t.jsx)("span",{className:"text-blue-600",children:"\ud83d\udee1\ufe0f"}),(0,_t.jsxs)("span",{className:"text-sm text-blue-700",children:["Order Trust Score: ",(0,_t.jsxs)("span",{className:"font-bold",children:[void 0!==e.orderTrustScore?Number(e.orderTrustScore).toFixed(2):"","/100"]})]})]}),(0,_t.jsxs)("div",{className:"text-sm text-blue-600",children:["Fraud Risk: ",e.fraudRisk]})]}),(0,_t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,_t.jsx)("button",{onClick:()=>(e=>{console.log("Opening order details for:",e.orderNumber),c(e),u(!0)})(e),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm",children:"View Details"}),(t=e.status,["Pending","Confirmed","Processing"].includes(t)&&(0,_t.jsx)("button",{onClick:()=>async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Customer requested cancellation";f(e);try{await vs.cancelOrder(e,t),await y(),f(null)}catch(r){o("Failed to cancel order"),f(null)}}(e._id),disabled:h===e._id,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition text-sm disabled:opacity-50",children:h===e._id?"Cancelling...":"Cancel Order"})),"Delivered"===e.status&&!e.reviewSubmitted&&(0,_t.jsx)("button",{onClick:()=>(e=>{x(e),p(!0)})(e),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition text-sm",children:"Write Review"}),e.reviewSubmitted&&(0,_t.jsx)("button",{disabled:!0,className:"bg-gray-400 text-white px-4 py-2 rounded-lg text-sm cursor-not-allowed",children:"Review Submitted \u2713"}),e.trackingNumber&&(0,_t.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition text-sm",children:"Track Package"})]})]})},e._id);var t}))})}),d&&l&&(0,_t.jsx)(As,{order:l,onClose:()=>u(!1)}),m&&g&&(0,_t.jsx)(Cs,{order:g,onClose:()=>p(!1),onReviewSubmitted:e=>{y(),console.log("Review submitted:",e)}})]})}function As(e){let{order:t,onClose:r}=e;const n=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return console.log("OrderDetailsModal rendered with order:",null===t||void 0===t?void 0:t.orderNumber),t?(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e=>e.target===e.currentTarget&&r(),children:(0,_t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,_t.jsx)("h3",{className:"text-2xl font-bold",children:"Order Details"}),(0,_t.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-semibold mb-2",children:"Order Information"}),(0,_t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,_t.jsxs)("p",{children:[(0,_t.jsx)("span",{className:"font-medium",children:"Order Number:"})," ",t.orderNumber]}),(0,_t.jsxs)("p",{children:[(0,_t.jsx)("span",{className:"font-medium",children:"Status:"})," ",t.status]}),(0,_t.jsxs)("p",{children:[(0,_t.jsx)("span",{className:"font-medium",children:"Order Date:"})," ",n(t.createdAt)]}),(0,_t.jsxs)("p",{children:[(0,_t.jsx)("span",{className:"font-medium",children:"Total Amount:"})," \u20b9",t.totalAmount]})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-semibold mb-2",children:"Shipping Address"}),(0,_t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,_t.jsx)("p",{children:t.shippingAddress.street}),(0,_t.jsxs)("p",{children:[t.shippingAddress.city,", ",t.shippingAddress.state]}),(0,_t.jsxs)("p",{children:[t.shippingAddress.zipCode,", ",t.shippingAddress.country]})]})]})]}),(0,_t.jsxs)("div",{className:"mb-6",children:[(0,_t.jsx)("h4",{className:"font-semibold mb-3",children:"Product Details"}),(0,_t.jsxs)("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[(0,_t.jsx)("img",{src:t.productImage,alt:t.productName,className:"w-20 h-20 object-cover rounded"}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsx)("h5",{className:"font-medium",children:t.productName}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:["Price: \u20b9",t.productPrice]}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",t.quantity]}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:["Vendor: ",t.vendorName]})]})]})]}),(0,_t.jsxs)("div",{className:"mb-6",children:[(0,_t.jsx)("h4",{className:"font-semibold mb-3",children:"Trust & Security"}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,_t.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Order Trust Score"}),(0,_t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:void 0!==t.orderTrustScore?Number(t.orderTrustScore).toFixed(2):""})]}),(0,_t.jsxs)("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Fraud Risk"}),(0,_t.jsx)("p",{className:"text-lg font-bold text-yellow-600",children:t.fraudRisk})]}),(0,_t.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Vendor Trust"}),(0,_t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:void 0!==t.vendorTrustScore?Number(t.vendorTrustScore).toFixed(2):""})]})]})]}),(0,_t.jsxs)("div",{className:"mb-6",children:[(0,_t.jsx)("h4",{className:"font-semibold mb-3",children:"Order Timeline"}),(0,_t.jsx)("div",{className:"space-y-3",children:t.timeline&&t.timeline.length>0?t.timeline.map(((e,t)=>(0,_t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_t.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full mt-1"}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsx)("p",{className:"font-medium",children:e.status}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,_t.jsxs)("p",{className:"text-xs text-gray-500",children:[n(e.timestamp)," \u2022 Updated by ",e.updatedBy]})]})]},t))):(0,_t.jsx)("p",{className:"text-gray-600",children:"No timeline events available"})})]}),(0,_t.jsx)("div",{className:"flex justify-end",children:(0,_t.jsx)("button",{onClick:r,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition",children:"Close"})})]})}):(console.log("No order provided to modal"),null)}function Ps(){var e,t,r,n;const{productId:s}=xe(),i=ge(),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!0),[f,m]=(0,a.useState)(""),[p,g]=(0,a.useState)(0);(0,a.useEffect)((()=>{x(),y()}),[s]);const x=async()=>{try{const e=await vs.getProductById(s);l(e.data),h(!1)}catch(e){m("Failed to load product details"),h(!1)}},y=async()=>{try{const e=await vs.getReviewsByProduct(s);d(e.data)}catch(e){console.error("Failed to load reviews:",e)}},b=e=>e>=80?"text-green-600 bg-green-100":e>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return u?(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,_t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading product details..."})]})}):f||!o?(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("p",{className:"text-red-600 mb-4",children:f||"Product not found"}),(0,_t.jsx)("button",{onClick:()=>i("/customer/products"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Back to Products"})]})}):(0,_t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,_t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,_t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_t.jsx)("div",{className:"flex justify-between items-center py-4",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("button",{onClick:()=>i("/customer/products"),className:"text-blue-600 hover:text-blue-800 mr-4",children:"\u2190 Back to Products"}),(0,_t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Details"})]})})})}),(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,_t.jsx)("img",{src:o.images[p],alt:o.name,className:"w-full h-96 object-cover"})}),o.images.length>1&&(0,_t.jsx)("div",{className:"flex space-x-2 mt-4",children:o.images.map(((e,t)=>(0,_t.jsx)("button",{onClick:()=>g(t),className:"w-20 h-20 rounded border-2 overflow-hidden ".concat(p===t?"border-blue-500":"border-gray-300"),children:(0,_t.jsx)("img",{src:e,alt:"".concat(o.name," ").concat(t+1),className:"w-full h-full object-cover"})},t)))})]}),(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,_t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:o.name}),(0,_t.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,_t.jsxs)("span",{className:"text-4xl font-bold text-green-600",children:["\u20b9",o.price]}),o.originalPrice&&o.originalPrice>o.price&&(0,_t.jsxs)("span",{className:"text-xl text-gray-500 line-through",children:["\u20b9",o.originalPrice]})]}),(0,_t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,_t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Vendor Information"}),(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("p",{className:"font-medium",children:(null===(e=o.seller)||void 0===e?void 0:e.name)||"Unknown Vendor"}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:["Rating: ",(null===(t=o.seller)||void 0===t?void 0:t.rating)||"N/A"," \u2b50"]})]}),(0,_t.jsx)("div",{className:"text-right",children:(0,_t.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(b((null===(r=o.seller)||void 0===r?void 0:r.trustScore)||50)),children:["Trust: ",void 0!==(null===(n=o.seller)||void 0===n?void 0:n.trustScore)?Number(o.seller.trustScore).toFixed(2):"50.00"]})})]})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,_t.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Authenticity Score"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[o.authenticityScore||85,"%"]})]}),(0,_t.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Return Rate"}),(0,_t.jsxs)("p",{className:"text-lg font-bold ".concat((v=o.returnRate||8,v<=5?"text-green-600 bg-green-100":v<=15?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100")),children:[o.returnRate||8,"%"]})]})]}),(0,_t.jsx)("div",{className:"mb-6",children:(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("span",{className:"text-gray-700",children:"Stock:"}),(0,_t.jsx)("span",{className:"font-medium ".concat(o.quantity>0?"text-green-600":"text-red-600"),children:o.quantity>0?"".concat(o.quantity," available"):"Out of stock"})]})})]})]}),(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,_t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Description"}),(0,_t.jsx)("p",{className:"text-gray-700 leading-relaxed",children:o.description||"No description available for this product."}),(0,_t.jsxs)("div",{className:"mt-6 flex flex-wrap gap-2",children:[(0,_t.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:o.category}),o.tags&&o.tags.map(((e,t)=>(0,_t.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:e},t)))]})]}),(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,_t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Customer Reviews"}),0===c.length?(0,_t.jsx)("div",{className:"text-center py-8",children:(0,_t.jsx)("p",{className:"text-gray-600",children:"No reviews yet. Be the first to review this product!"})}):(0,_t.jsx)("div",{className:"space-y-6",children:c.map((e=>{var t,r,n;return(0,_t.jsxs)("div",{className:"border-b border-gray-200 pb-6 last:border-b-0",children:[(0,_t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_t.jsx)("span",{className:"font-medium text-gray-900",children:(null===(t=e.reviewer)||void 0===t?void 0:t.username)||"Anonymous"}),(0,_t.jsx)("span",{className:"text-yellow-500",children:(n=e.rating,"\u2605".repeat(Math.floor(n))+"\u2606".repeat(5-Math.floor(n)))}),(0,_t.jsxs)("span",{className:"text-sm text-gray-600",children:["(",e.rating,"/5)"]})]}),(0,_t.jsx)("p",{className:"text-sm text-gray-500",children:(r=e.createdAt,new Date(r).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}))})]}),e.authenticityScore&&(0,_t.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(b(e.authenticityScore)),children:[e.authenticityScore,"% Authentic"]})]}),(0,_t.jsx)("p",{className:"text-gray-700 mb-3",children:e.content}),e.images&&e.images.length>0&&(0,_t.jsx)("div",{className:"flex space-x-2",children:e.images.map(((e,t)=>(0,_t.jsx)("img",{src:e,alt:"Review ".concat(t+1),className:"w-16 h-16 object-cover rounded"},t)))}),(0,_t.jsxs)("div",{className:"flex items-center space-x-4 mt-3 text-sm text-gray-600",children:[(0,_t.jsxs)("button",{className:"hover:text-blue-600",children:["\ud83d\udc4d Helpful (",e.helpfulVotes||0,")"]}),(0,_t.jsx)("button",{className:"hover:text-red-600",children:"\ud83d\udc4e Not helpful"})]})]},e._id)}))})]})]})]});var v}function Ts(){const e=ge(),[t,r]=(0,a.useState)({name:"",companyEmail:"",password:"",contactName:"",contactEmail:"",contactPhone:"",street:"",city:"",state:"",country:"",postalCode:"",addressPhone:""}),[n,s]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),l=e=>{r(h(h({},t),{},{[e.target.name]:e.target.value}))};return(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,_t.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),o(!0),s("");try{const r={name:t.name,companyEmail:t.companyEmail,password:t.password,contactPerson:{name:t.contactName,email:t.contactEmail,phone:t.contactPhone},addresses:[{operationType:"office",street:t.street,city:t.city,state:t.state,country:t.country,postalCode:t.postalCode,phone:t.addressPhone}]},n=await(e=>ps.post("/vendor/vendor/signup",e))(r);localStorage.setItem("token",n.data.token),localStorage.setItem("userRole","vendor"),localStorage.setItem("vendorId",n.data.vendor._id),e("/vendor/dashboard")}catch(i){var n,a;s((null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Signup failed")}finally{o(!1)}},className:"w-full max-w-2xl bg-white p-8 rounded-lg shadow-lg",children:[(0,_t.jsx)("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Vendor Registration"}),n&&(0,_t.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:n}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,_t.jsx)("div",{className:"md:col-span-2",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Company Information"})}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name *"}),(0,_t.jsx)("input",{name:"name",type:"text",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.name,onChange:l,required:!0,placeholder:"Your Store Name"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Email *"}),(0,_t.jsx)("input",{name:"companyEmail",type:"email",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.companyEmail,onChange:l,required:!0,placeholder:"company@example.com"})]}),(0,_t.jsxs)("div",{className:"md:col-span-2",children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,_t.jsx)("input",{name:"password",type:"password",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.password,onChange:l,required:!0,placeholder:"Enter secure password"})]}),(0,_t.jsx)("div",{className:"md:col-span-2",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-700 mt-6",children:"Contact Person"})}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name *"}),(0,_t.jsx)("input",{name:"contactName",type:"text",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.contactName,onChange:l,required:!0,placeholder:"John Doe"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),(0,_t.jsx)("input",{name:"contactEmail",type:"email",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.contactEmail,onChange:l,required:!0,placeholder:"contact@example.com"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone"}),(0,_t.jsx)("input",{name:"contactPhone",type:"tel",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.contactPhone,onChange:l,placeholder:"+1 (555) 123-4567"})]}),(0,_t.jsx)("div",{className:"md:col-span-2",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-700 mt-6",children:"Business Address"})}),(0,_t.jsxs)("div",{className:"md:col-span-2",children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),(0,_t.jsx)("input",{name:"street",type:"text",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.street,onChange:l,required:!0,placeholder:"123 Business Street"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,_t.jsx)("input",{name:"city",type:"text",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.city,onChange:l,required:!0,placeholder:"New York"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,_t.jsx)("input",{name:"state",type:"text",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.state,onChange:l,required:!0,placeholder:"NY"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),(0,_t.jsx)("input",{name:"country",type:"text",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.country,onChange:l,required:!0,placeholder:"United States"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),(0,_t.jsx)("input",{name:"postalCode",type:"text",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.postalCode,onChange:l,placeholder:"10001"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Phone *"}),(0,_t.jsx)("input",{name:"addressPhone",type:"tel",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.addressPhone,onChange:l,required:!0,placeholder:"+1 (555) 987-6543"})]})]}),(0,_t.jsx)("button",{type:"submit",disabled:i,className:"w-full mt-8 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white py-3 px-4 rounded-lg font-semibold transition duration-200",children:i?"Creating Account...":"Register as Vendor"}),(0,_t.jsxs)("p",{className:"text-center mt-4 text-gray-600",children:["Already have an account?"," ",(0,_t.jsx)("a",{href:"/vendor/login",className:"text-green-600 hover:text-green-700 font-medium",children:"Login here"})]})]})})}function Rs(){const e=ge(),[t,r]=(0,a.useState)({companyEmail:"",password:""}),[n,s]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),l=e=>{r(h(h({},t),{},{[e.target.name]:e.target.value}))};return(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,_t.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),o(!0),s("");try{const r=await(e=>ps.post("/vendor/vendor/login",e))(t);localStorage.setItem("token",r.data.token),localStorage.setItem("userRole","vendor"),localStorage.setItem("vendorId",r.data.vendor._id),e("/vendor/dashboard")}catch(i){var n,a;s((null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Login failed")}finally{o(!1)}},className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[(0,_t.jsx)("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Vendor Login"}),n&&(0,_t.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:n}),(0,_t.jsxs)("div",{className:"mb-6",children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Email"}),(0,_t.jsx)("input",{name:"companyEmail",type:"email",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.companyEmail,onChange:l,required:!0,placeholder:"company@example.com"})]}),(0,_t.jsxs)("div",{className:"mb-6",children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,_t.jsx)("input",{name:"password",type:"password",className:"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:t.password,onChange:l,required:!0,placeholder:"Enter your password"})]}),(0,_t.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white py-3 px-4 rounded-lg font-semibold transition duration-200",children:i?"Signing In...":"Login"}),(0,_t.jsxs)("p",{className:"text-center mt-6 text-gray-600",children:["Don't have an account?"," ",(0,_t.jsx)("a",{href:"/vendor/signup",className:"text-green-600 hover:text-green-700 font-medium",children:"Register here"})]})]})})}function Os(){const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(""),[u,f]=(0,a.useState)("products"),[m,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(null),[y,b]=(0,a.useState)({status:"",category:"",sortBy:"createdAt",order:"desc"}),v=localStorage.getItem("vendorId");(0,a.useEffect)((()=>{v&&w()}),[v,y]);const w=async()=>{try{l(!0);const[e,r,s]=await Promise.all([gs(v,y),xs(v),ys(v)]);t(e.data.products),n(r.data),i(s.data.categories)}catch(e){d("Failed to fetch data"),console.error("Error fetching vendor data:",e)}finally{l(!1)}},k=()=>{x(null),p(!0)},j=e=>{x(e),p(!0)},N=async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{await((e,t)=>ps.delete("/vendor/vendors/".concat(e,"/products/").concat(t)))(v,e),w()}catch(t){d("Failed to delete product")}},S=(e,t)=>{b((r=>h(h({},r),{},{[e]:t})))};return o?(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,_t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500"})}):(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,_t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Management"}),(0,_t.jsx)("button",{onClick:k,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold transition duration-200",children:"+ Add New Product"})]}),c&&(0,_t.jsx)("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),(0,_t.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,_t.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"products",name:"Products"},{id:"analytics",name:"Analytics"},{id:"inventory",name:"Inventory"}].map((e=>(0,_t.jsx)("button",{onClick:()=>f(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(u===e.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.name},e.id)))})}),"products"===u&&(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,_t.jsxs)("select",{value:y.status,onChange:e=>S("status",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,_t.jsx)("option",{value:"",children:"All Status"}),(0,_t.jsx)("option",{value:"Listed",children:"Listed"}),(0,_t.jsx)("option",{value:"Sold",children:"Sold"}),(0,_t.jsx)("option",{value:"Flagged",children:"Flagged"}),(0,_t.jsx)("option",{value:"Under Review",children:"Under Review"})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,_t.jsxs)("select",{value:y.category,onChange:e=>S("category",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,_t.jsx)("option",{value:"",children:"All Categories"}),s.map((e=>(0,_t.jsx)("option",{value:e,children:e},e)))]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,_t.jsxs)("select",{value:y.sortBy,onChange:e=>S("sortBy",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,_t.jsx)("option",{value:"createdAt",children:"Date Created"}),(0,_t.jsx)("option",{value:"name",children:"Name"}),(0,_t.jsx)("option",{value:"price",children:"Price"}),(0,_t.jsx)("option",{value:"authenticityScore",children:"Authenticity Score"})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),(0,_t.jsxs)("select",{value:y.order,onChange:e=>S("order",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,_t.jsx)("option",{value:"desc",children:"Descending"}),(0,_t.jsx)("option",{value:"asc",children:"Ascending"})]})]})]})}),(0,_t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e=>(0,_t.jsx)(Ms,{product:e,onEdit:()=>j(e),onDelete:()=>N(e._id)},e._id)))}),0===e.length&&(0,_t.jsxs)("div",{className:"text-center py-12",children:[(0,_t.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udce6"}),(0,_t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),(0,_t.jsx)("p",{className:"text-gray-500 mb-6",children:"Get started by adding your first product"}),(0,_t.jsx)("button",{onClick:k,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold transition duration-200",children:"Add Your First Product"})]})]}),"analytics"===u&&r&&(0,_t.jsx)(Ls,{analytics:r}),"inventory"===u&&(0,_t.jsx)(Ds,{products:e,vendorId:v,onUpdate:w,onEditProduct:j}),m&&(0,_t.jsx)(Is,{product:g,vendorId:v,onClose:()=>p(!1),onSave:w})]})}function Ms(e){let{product:t,onEdit:r,onDelete:n}=e;return(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[(0,_t.jsx)("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:t.images&&t.images.length>0?(0,_t.jsx)("img",{src:t.images[0],alt:t.name,className:"h-full w-full object-cover"}):(0,_t.jsx)("div",{className:"text-gray-400 text-4xl",children:"\ud83d\udcf7"})}),(0,_t.jsxs)("div",{className:"p-4",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,_t.jsx)("h3",{className:"font-semibold text-lg text-gray-900 truncate",children:t.name}),(0,_t.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat((e=>{switch(e){case"Listed":return"bg-green-100 text-green-800";case"Sold":return"bg-blue-100 text-blue-800";case"Flagged":return"bg-red-100 text-red-800";case"Under Review":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(t.status)),children:t.status})]}),(0,_t.jsx)("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:t.description}),(0,_t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,_t.jsxs)("span",{className:"text-xl font-bold text-green-600",children:["\u20b9",t.price]}),(0,_t.jsx)("span",{className:"text-sm text-gray-500",children:t.category})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 mb-3",children:[(0,_t.jsxs)("div",{children:["Stock: ",t.totalInventory||0]}),(0,_t.jsxs)("div",{children:["Score: ",t.authenticityScore,"%"]})]}),(0,_t.jsx)("div",{className:"flex gap-2",children:(0,_t.jsx)("button",{onClick:n,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded text-sm font-medium transition duration-200",children:"Delete"})})]})]})}function Ls(e){let{analytics:t}=e;return(0,_t.jsxs)("div",{className:"space-y-6",children:[(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,_t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,_t.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total Products"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:t.totalProducts})]}),(0,_t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,_t.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Listed Products"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-green-600",children:t.listedProducts})]}),(0,_t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,_t.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total Sold"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:t.totalSold})]}),(0,_t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,_t.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Return Rate"}),(0,_t.jsxs)("p",{className:"text-3xl font-bold text-yellow-600",children:[t.avgReturnRate,"%"]})]})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,_t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Performance Metrics"}),(0,_t.jsxs)("div",{className:"space-y-3",children:[(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{children:"Authenticity Score:"}),(0,_t.jsxs)("span",{className:"font-semibold",children:[t.avgAuthenticityScore,"%"]})]}),(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{children:"Average Rating:"}),(0,_t.jsxs)("span",{className:"font-semibold",children:[t.avgRating,"/5"]})]}),(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{children:"Trust Score:"}),(0,_t.jsxs)("span",{className:"font-semibold",children:[Number(t.vendorTrustScore).toFixed(2),"/100"]})]}),(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{children:"Total Inventory:"}),(0,_t.jsx)("span",{className:"font-semibold",children:t.totalInventory})]})]})]}),(0,_t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Category Breakdown"}),(0,_t.jsx)("div",{className:"space-y-2",children:Object.entries(t.categoryBreakdown).map((e=>{let[t,r]=e;return(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsxs)("span",{children:[t,":"]}),(0,_t.jsxs)("span",{className:"font-semibold",children:[r," products"]})]},t)}))})]})]})]})}function Ds(e){let{products:t,vendorId:r,onUpdate:n,onEditProduct:s}=e;const a=t.filter((e=>(e.totalInventory||0)<10)),i=t.filter((e=>0===(e.totalInventory||0)));return(0,_t.jsxs)("div",{className:"space-y-6",children:[(a.length>0||i.length>0)&&(0,_t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Inventory Alerts"}),i.length>0&&(0,_t.jsxs)("p",{className:"text-red-600 mb-1",children:[i.length," products are out of stock"]}),a.length>0&&(0,_t.jsxs)("p",{className:"text-yellow-600",children:[a.length," products have low stock (less than 10 items)"]})]}),(0,_t.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,_t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,_t.jsx)("thead",{className:"bg-gray-50",children:(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Level"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,_t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e=>(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:e.images&&e.images.length>0?(0,_t.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.images[0],alt:""}):(0,_t.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:"\ud83d\udce6"})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,_t.jsxs)("div",{className:"text-sm text-gray-500",children:["\u20b9",e.price]})]})]})}),(0,_t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.category}),(0,_t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,_t.jsxs)("span",{className:"font-medium ".concat(0===(e.totalInventory||0)?"text-red-600":(e.totalInventory||0)<10?"text-yellow-600":"text-green-600"),children:[e.totalInventory||0," units"]})}),(0,_t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,_t.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("In Stock"===e.stockStatus?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.stockStatus})}),(0,_t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium"})]},e._id)))})]})})]})}function Is(e){let{product:t,vendorId:r,onClose:n,onSave:s}=e;const[i,o]=(0,a.useState)({name:(null===t||void 0===t?void 0:t.name)||"",description:(null===t||void 0===t?void 0:t.description)||"",price:(null===t||void 0===t?void 0:t.price)||"",category:(null===t||void 0===t?void 0:t.category)||"",inventory:(null===t||void 0===t?void 0:t.inventory)||[{address:{},quantity:0}],quantity:(null===t||void 0===t?void 0:t.quantity)||"",images:null!==t&&void 0!==t&&t.images&&t.images.length>0?t.images:[""]});return(0,_t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,_t.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,_t.jsxs)("div",{className:"mt-3",children:[(0,_t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:t?"Edit Product":"Add New Product"}),(0,_t.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=h({name:i.name,description:i.description,price:Number(i.price),category:i.category,quantity:Number(i.quantity),images:i.images},i.inventory?{inventory:i.inventory}:{});t?await((e,t,r)=>{const n=new FormData;return Object.keys(r).forEach((e=>{"images"===e&&Array.isArray(r[e])?r[e].every((e=>"string"===typeof e))?n.append("images",JSON.stringify(r[e])):r[e].forEach((e=>{n.append("images",e)})):"inventory"===e&&"object"===typeof r[e]?n.append(e,JSON.stringify(r[e])):n.append(e,r[e])})),ps.put("/vendor/vendors/".concat(e,"/products/").concat(t),n,{headers:{"Content-Type":"multipart/form-data"}})})(r,t._id,e):await((e,t)=>{const r=new FormData;return Object.keys(t).forEach((e=>{"images"===e&&Array.isArray(t[e])?t[e].every((e=>"string"===typeof e))?r.append("images",JSON.stringify(t[e])):t[e].forEach((e=>{r.append("images",e)})):"inventory"===e&&"object"===typeof t[e]?r.append(e,JSON.stringify(t[e])):r.append(e,t[e])})),ps.post("/vendor/vendors/".concat(e,"/products"),r,{headers:{"Content-Type":"multipart/form-data"}})})(r,e),s(),n()}catch(a){console.error("Error saving product:",a)}},className:"space-y-4",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),(0,_t.jsx)("input",{type:"text",value:i.name,onChange:e=>o(h(h({},i),{},{name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,_t.jsx)("textarea",{value:i.description,onChange:e=>o(h(h({},i),{},{description:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",rows:"3",required:!0})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price (\u20b9)"}),(0,_t.jsx)("input",{type:"number",value:i.price,onChange:e=>o(h(h({},i),{},{price:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,_t.jsxs)("select",{value:i.category,onChange:e=>o(h(h({},i),{},{category:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[(0,_t.jsx)("option",{value:"",children:"Select Category"}),(0,_t.jsx)("option",{value:"Electronics",children:"Electronics"}),(0,_t.jsx)("option",{value:"Clothing",children:"Clothing"}),(0,_t.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),(0,_t.jsx)("option",{value:"Sports",children:"Sports"}),(0,_t.jsx)("option",{value:"Books",children:"Books"}),(0,_t.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),(0,_t.jsx)("input",{type:"number",value:i.quantity||"",onChange:e=>o(h(h({},i),{},{quantity:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",min:0,required:!0})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Image URLs (1\u20136)"}),i.images.map(((e,t)=>(0,_t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,_t.jsx)("input",{type:"url",value:e,onChange:e=>((e,t)=>{const r=[...i.images];r[e]=t,o(h(h({},i),{},{images:r}))})(t,e.target.value),placeholder:"Image URL ".concat(t+1),className:"w-full border px-3 py-2 rounded",required:0===t}),i.images.length>1&&(0,_t.jsx)("button",{type:"button",onClick:()=>(e=>{if(i.images.length>1){const t=i.images.filter(((t,r)=>r!==e));o(h(h({},i),{},{images:t}))}})(t),className:"text-red-600",children:"\u2715"})]},t))),i.images.length<6&&(0,_t.jsx)("button",{type:"button",onClick:()=>{i.images.length<6&&o(h(h({},i),{},{images:[...i.images,""]}))},className:"mt-1 text-blue-600 text-sm",children:"+ Add Another Image"})]}),(0,_t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,_t.jsxs)("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md font-medium transition duration-200",children:[t?"Update":"Create"," Product"]}),(0,_t.jsx)("button",{type:"button",onClick:n,className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md font-medium transition duration-200",children:"Cancel"})]})]})]})})})}function Fs(){const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)({status:"",sortBy:"createdAt",order:"desc"}),c=localStorage.getItem("vendorId"),d=(0,a.useCallback)((async()=>{try{n(!0);const e="https://trustlens-production-backend.up.railway.app/api",r=await fetch("".concat(e,"/orders/vendor/").concat(c),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(r.ok){const e=await r.json();t(e.orders||[])}else i("Failed to fetch orders")}catch(e){i("Error loading orders"),console.error("Error fetching orders:",e)}finally{n(!1)}}),[c,o]);(0,a.useEffect)((()=>{c&&d()}),[c,d]);const u=async(e,t)=>{try{const r="https://trustlens-production-backend.up.railway.app/api";(await fetch("".concat(r,"/orders/").concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({status:t,updatedBy:"Vendor"})})).ok?d():i("Failed to update order status")}catch(r){i("Error updating order status"),console.error("Error updating order:",r)}},f=(e,t)=>{l((r=>h(h({},r),{},{[e]:t})))};return r?(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,_t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-500"})}):(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,_t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Order Management"}),(0,_t.jsx)("div",{className:"flex space-x-2",children:(0,_t.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["Total Orders: ",e.length]})})]}),s&&(0,_t.jsx)("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:s}),(0,_t.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,_t.jsxs)("select",{value:o.status,onChange:e=>f("status",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,_t.jsx)("option",{value:"",children:"All Status"}),(0,_t.jsx)("option",{value:"Pending",children:"Pending"}),(0,_t.jsx)("option",{value:"Confirmed",children:"Confirmed"}),(0,_t.jsx)("option",{value:"Processing",children:"Processing"}),(0,_t.jsx)("option",{value:"Shipped",children:"Shipped"}),(0,_t.jsx)("option",{value:"Delivered",children:"Delivered"}),(0,_t.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,_t.jsxs)("select",{value:o.sortBy,onChange:e=>f("sortBy",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,_t.jsx)("option",{value:"createdAt",children:"Date Created"}),(0,_t.jsx)("option",{value:"totalAmount",children:"Total Amount"}),(0,_t.jsx)("option",{value:"status",children:"Status"})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),(0,_t.jsxs)("select",{value:o.order,onChange:e=>f("order",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,_t.jsx)("option",{value:"desc",children:"Newest First"}),(0,_t.jsx)("option",{value:"asc",children:"Oldest First"})]})]})]})}),(0,_t.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:0===e.length?(0,_t.jsxs)("div",{className:"text-center py-12",children:[(0,_t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,_t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,_t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No orders"}),(0,_t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No orders have been placed yet."})]}):(0,_t.jsx)("div",{className:"overflow-x-auto",children:(0,_t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,_t.jsx)("thead",{className:"bg-gray-50",children:(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,_t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>(0,_t.jsx)(zs,{order:e,onStatusUpdate:u},e._id)))})]})})})]})}function zs(e){var t,r,n;let{order:s,onStatusUpdate:a}=e;return(0,_t.jsxs)("tr",{children:[(0,_t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",(null===(t=s._id)||void 0===t?void 0:t.slice(-8))||"N/A"]}),(0,_t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"font-medium",children:(null===(r=s.customer)||void 0===r?void 0:r.name)||"Unknown Customer"}),(0,_t.jsx)("div",{className:"text-gray-500",children:(null===(n=s.customer)||void 0===n?void 0:n.email)||""})]})}),(0,_t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["\u20b9",s.totalAmount||0]}),(0,_t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,_t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((e=>{switch(e){case"Pending":return"bg-yellow-100 text-yellow-800";case"Confirmed":return"bg-blue-100 text-blue-800";case"Processing":return"bg-indigo-100 text-indigo-800";case"Shipped":return"bg-purple-100 text-purple-800";case"Delivered":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";case"Returned":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}})(s.status)),children:s.status||"Unknown"})}),(0,_t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.createdAt?new Date(s.createdAt).toLocaleDateString():"N/A"}),(0,_t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,_t.jsxs)("select",{value:s.status||"",onChange:e=>{return t=e.target.value,void a(s._id,t);var t},className:"border border-gray-300 rounded-md px-2 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,_t.jsx)("option",{value:"Pending",children:"Pending"}),(0,_t.jsx)("option",{value:"Confirmed",children:"Confirmed"}),(0,_t.jsx)("option",{value:"Processing",children:"Processing"}),(0,_t.jsx)("option",{value:"Shipped",children:"Shipped"}),(0,_t.jsx)("option",{value:"Delivered",children:"Delivered"}),(0,_t.jsx)("option",{value:"Cancelled",children:"Cancelled"}),(0,_t.jsx)("option",{value:"Returned",children:"Returned"})]})})]})}function Bs(e){return e+.5|0}const Vs=(e,t,r)=>Math.max(Math.min(e,r),t);function Us(e){return Vs(Bs(2.55*e),0,255)}function Hs(e){return Vs(Bs(255*e),0,255)}function Ws(e){return Vs(Bs(e/2.55)/100,0,1)}function qs(e){return Vs(Bs(100*e),0,100)}const $s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ys=[..."0123456789ABCDEF"],Ks=e=>Ys[15&e],Qs=e=>Ys[(240&e)>>4]+Ys[15&e],Js=e=>(240&e)>>4===(15&e);function Xs(e){var t=(e=>Js(e.r)&&Js(e.g)&&Js(e.b)&&Js(e.a))(e)?Ks:Qs;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Gs=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Zs(e,t,r){const n=t*Math.min(r,1-r),s=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return r-n*Math.max(Math.min(s-3,9-s,1),-1)};return[s(0),s(8),s(4)]}function ea(e,t,r){const n=function(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return r-r*t*Math.max(Math.min(s,4-s,1),0)};return[n(5),n(3),n(1)]}function ta(e,t,r){const n=Zs(e,1,.5);let s;for(t+r>1&&(s=1/(t+r),t*=s,r*=s),s=0;s<3;s++)n[s]*=1-t-r,n[s]+=t;return n}function ra(e){const t=e.r/255,r=e.g/255,n=e.b/255,s=Math.max(t,r,n),a=Math.min(t,r,n),i=(s+a)/2;let o,l,c;return s!==a&&(c=s-a,l=i>.5?c/(2-s-a):c/(s+a),o=function(e,t,r,n,s){return e===s?(t-r)/n+(t<r?6:0):t===s?(r-e)/n+2:(e-t)/n+4}(t,r,n,c,s),o=60*o+.5),[0|o,l||0,i]}function na(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(Hs)}function sa(e,t,r){return na(Zs,e,t,r)}function aa(e){return(e%360+360)%360}function ia(e){const t=Gs.exec(e);let r,n=255;if(!t)return;t[5]!==r&&(n=t[6]?Us(+t[5]):Hs(+t[5]));const s=aa(+t[2]),a=+t[3]/100,i=+t[4]/100;return r="hwb"===t[1]?function(e,t,r){return na(ta,e,t,r)}(s,a,i):"hsv"===t[1]?function(e,t,r){return na(ea,e,t,r)}(s,a,i):sa(s,a,i),{r:r[0],g:r[1],b:r[2],a:n}}const oa={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},la={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ca;function da(e){ca||(ca=function(){const e={},t=Object.keys(la),r=Object.keys(oa);let n,s,a,i,o;for(n=0;n<t.length;n++){for(i=o=t[n],s=0;s<r.length;s++)a=r[s],o=o.replace(a,oa[a]);a=parseInt(la[i],16),e[o]=[a>>16&255,a>>8&255,255&a]}return e}(),ca.transparent=[0,0,0,0]);const t=ca[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const ua=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const ha=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,fa=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ma(e,t,r){if(e){let n=ra(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,0===t?360:1)),n=sa(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function pa(e,t){return e?Object.assign(t||{},e):e}function ga(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Hs(e[3]))):(t=pa(e,{r:0,g:0,b:0,a:1})).a=Hs(t.a),t}function xa(e){return"r"===e.charAt(0)?function(e){const t=ua.exec(e);let r,n,s,a=255;if(t){if(t[7]!==r){const e=+t[7];a=t[8]?Us(e):Vs(255*e,0,255)}return r=+t[1],n=+t[3],s=+t[5],r=255&(t[2]?Us(r):Vs(r,0,255)),n=255&(t[4]?Us(n):Vs(n,0,255)),s=255&(t[6]?Us(s):Vs(s,0,255)),{r:r,g:n,b:s,a:a}}}(e):ia(e)}class ya{constructor(e){if(e instanceof ya)return e;const t=typeof e;let r;"object"===t?r=ga(e):"string"===t&&(r=function(e){var t,r=e.length;return"#"===e[0]&&(4===r||5===r?t={r:255&17*$s[e[1]],g:255&17*$s[e[2]],b:255&17*$s[e[3]],a:5===r?17*$s[e[4]]:255}:7!==r&&9!==r||(t={r:$s[e[1]]<<4|$s[e[2]],g:$s[e[3]]<<4|$s[e[4]],b:$s[e[5]]<<4|$s[e[6]],a:9===r?$s[e[7]]<<4|$s[e[8]]:255})),t}(e)||da(e)||xa(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=pa(this._rgb);return e&&(e.a=Ws(e.a)),e}set rgb(e){this._rgb=ga(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Ws(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?Xs(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=ra(e),r=t[0],n=qs(t[1]),s=qs(t[2]);return e.a<255?"hsla(".concat(r,", ").concat(n,"%, ").concat(s,"%, ").concat(Ws(e.a),")"):"hsl(".concat(r,", ").concat(n,"%, ").concat(s,"%)")}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,n=e.rgb;let s;const a=t===s?.5:t,i=2*a-1,o=r.a-n.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;s=1-l,r.r=255&l*r.r+s*n.r+.5,r.g=255&l*r.g+s*n.g+.5,r.b=255&l*r.b+s*n.b+.5,r.a=a*r.a+(1-a)*n.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){const n=fa(Ws(e.r)),s=fa(Ws(e.g)),a=fa(Ws(e.b));return{r:Hs(ha(n+r*(fa(Ws(t.r))-n))),g:Hs(ha(s+r*(fa(Ws(t.g))-s))),b:Hs(ha(a+r*(fa(Ws(t.b))-a))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new ya(this.rgb)}alpha(e){return this._rgb.a=Hs(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Bs(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ma(this._rgb,2,e),this}darken(e){return ma(this._rgb,2,-e),this}saturate(e){return ma(this._rgb,1,e),this}desaturate(e){return ma(this._rgb,1,-e),this}rotate(e){return function(e,t){var r=ra(e);r[0]=aa(r[0]+t),r=sa(r),e.r=r[0],e.g=r[1],e.b=r[2]}(this._rgb,e),this}}function ba(){}const va=(()=>{let e=0;return()=>e++})();function wa(e){return null===e||void 0===e}function ka(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ja(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Na(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Sa(e,t){return Na(e)?e:t}function _a(e,t){return"undefined"===typeof e?t:e}const Ca=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ea(e,t,r){if(e&&"function"===typeof e.call)return e.apply(r,t)}function Aa(e,t,r,n){let s,a,i;if(ka(e))if(a=e.length,n)for(s=a-1;s>=0;s--)t.call(r,e[s],s);else for(s=0;s<a;s++)t.call(r,e[s],s);else if(ja(e))for(i=Object.keys(e),a=i.length,s=0;s<a;s++)t.call(r,e[i[s]],i[s])}function Pa(e,t){let r,n,s,a;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(s=e[r],a=t[r],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Ta(e){if(ka(e))return e.map(Ta);if(ja(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let s=0;for(;s<n;++s)t[r[s]]=Ta(e[r[s]]);return t}return e}function Ra(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Oa(e,t,r,n){if(!Ra(e))return;const s=t[e],a=r[e];ja(s)&&ja(a)?Ma(s,a,n):t[e]=Ta(a)}function Ma(e,t,r){const n=ka(t)?t:[t],s=n.length;if(!ja(e))return e;const a=(r=r||{}).merger||Oa;let i;for(let o=0;o<s;++o){if(i=n[o],!ja(i))continue;const t=Object.keys(i);for(let n=0,s=t.length;n<s;++n)a(t[n],e,i,r)}return e}function La(e,t){return Ma(e,t,{merger:Da})}function Da(e,t,r){if(!Ra(e))return;const n=t[e],s=r[e];ja(n)&&ja(s)?La(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ta(s))}const Ia={"":e=>e,x:e=>e.x,y:e=>e.y};function Fa(e,t){const r=Ia[t]||(Ia[t]=function(e){const t=function(e){const t=e.split("."),r=[];let n="";for(const s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}(e);return e=>{for(const r of t){if(""===r)break;e=e&&e[r]}return e}}(t));return r(e)}function za(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ba=e=>"undefined"!==typeof e,Va=e=>"function"===typeof e,Ua=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};const Ha=Math.PI,Wa=2*Ha,qa=Wa+Ha,$a=Number.POSITIVE_INFINITY,Ya=Ha/180,Ka=Ha/2,Qa=Ha/4,Ja=2*Ha/3,Xa=Math.log10,Ga=Math.sign;function Za(e,t,r){return Math.abs(e-t)<r}function ei(e){const t=Math.round(e);e=Za(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(Xa(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function ti(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function ri(e,t,r){let n,s,a;for(n=0,s=e.length;n<s;n++)a=e[n][r],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function ni(e){return e*(Ha/180)}function si(e){return e*(180/Ha)}function ai(e){if(!Na(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function ii(e,t){const r=t.x-e.x,n=t.y-e.y,s=Math.sqrt(r*r+n*n);let a=Math.atan2(n,r);return a<-.5*Ha&&(a+=Wa),{angle:a,distance:s}}function oi(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function li(e,t){return(e-t+qa)%Wa-Ha}function ci(e){return(e%Wa+Wa)%Wa}function di(e,t,r,n){const s=ci(e),a=ci(t),i=ci(r),o=ci(a-s),l=ci(i-s),c=ci(s-a),d=ci(s-i);return s===a||s===i||n&&a===i||o>l&&c<d}function ui(e,t,r){return Math.max(t,Math.min(r,e))}function hi(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function fi(e,t,r){r=r||(r=>e[r]<t);let n,s=e.length-1,a=0;for(;s-a>1;)n=a+s>>1,r(n)?a=n:s=n;return{lo:a,hi:s}}const mi=(e,t,r,n)=>fi(e,r,n?n=>{const s=e[n][t];return s<r||s===r&&e[n+1][t]===r}:n=>e[n][t]<r),pi=(e,t,r)=>fi(e,r,(n=>e[n][t]>=r));const gi=["push","pop","shift","splice","unshift"];function xi(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(t);-1!==s&&n.splice(s,1),n.length>0||(gi.forEach((t=>{delete e[t]})),delete e._chartjs)}function yi(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const bi="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function vi(e,t){let r=[],n=!1;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];r=a,n||(n=!0,bi.call(window,(()=>{n=!1,e.apply(t,r)})))}}const wi=e=>"start"===e?"left":"end"===e?"right":"center",ki=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2;function ji(e,t,r){const n=t.length;let s=0,a=n;if(e._sorted){const{iScale:i,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:h,minDefined:f,maxDefined:m}=i.getUserBounds();if(f){if(s=Math.min(mi(l,d,u).lo,r?n:mi(t,d,i.getPixelForValue(u)).lo),c){const e=l.slice(0,s+1).reverse().findIndex((e=>!wa(e[o.axis])));s-=Math.max(0,e)}s=ui(s,0,n-1)}if(m){let e=Math.max(mi(l,i.axis,h,!0).hi+1,r?0:mi(t,d,i.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!wa(e[o.axis])));e+=Math.max(0,t)}a=ui(e,s,n)-s}else a=n-s}return{start:s,count:a}}function Ni(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,s={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=s,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),a}const Si=e=>0===e||1===e,_i=(e,t,r)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Wa/r),Ci=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*Wa/r)+1,Ei={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Ka),easeOutSine:e=>Math.sin(e*Ka),easeInOutSine:e=>-.5*(Math.cos(Ha*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Si(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Si(e)?e:_i(e,.075,.3),easeOutElastic:e=>Si(e)?e:Ci(e,.075,.3),easeInOutElastic(e){const t=.1125;return Si(e)?e:e<.5?.5*_i(2*e,t,.45):.5+.5*Ci(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Ei.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},easeInOutBounce:e=>e<.5?.5*Ei.easeInBounce(2*e):.5*Ei.easeOutBounce(2*e-1)+.5};function Ai(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Pi(e){return Ai(e)?e:new ya(e)}function Ti(e){return Ai(e)?e:new ya(e).saturate(.5).darken(.1).hexString()}const Ri=["x","y","borderWidth","radius","tension"],Oi=["color","borderColor","backgroundColor"];const Mi=new Map;function Li(e,t,r){return function(e,t){t=t||{};const r=e+JSON.stringify(t);let n=Mi.get(r);return n||(n=new Intl.NumberFormat(e,t),Mi.set(r,n)),n}(t,r).format(e)}const Di={values:e=>ka(e)?e:""+e,numeric(e,t,r){if(0===e)return"0";const n=this.chart.options.locale;let s,a=e;if(r.length>1){const t=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),a=function(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e));return r}(e,r)}const i=Xa(Math.abs(a)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Li(e,n,l)},logarithmic(e,t,r){if(0===e)return"0";const n=r[t].significand||e/Math.pow(10,Math.floor(Xa(e)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?Di.numeric.call(this,e,t,r):""}};var Ii={formatters:Di};const Fi=Object.create(null),zi=Object.create(null);function Bi(e,t){if(!t)return e;const r=t.split(".");for(let n=0,s=r.length;n<s;++n){const t=r[n];e=e[t]||(e[t]=Object.create(null))}return e}function Vi(e,t,r){return"string"===typeof t?Ma(Bi(e,t),r):Ma(Bi(e,""),t)}class Ui{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Ti(t.backgroundColor),this.hoverBorderColor=(e,t)=>Ti(t.borderColor),this.hoverColor=(e,t)=>Ti(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Vi(this,e,t)}get(e){return Bi(this,e)}describe(e,t){return Vi(zi,e,t)}override(e,t){return Vi(Fi,e,t)}route(e,t,r,n){const s=Bi(this,e),a=Bi(this,r),i="_"+t;Object.defineProperties(s,{[i]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=a[n];return ja(e)?Object.assign({},t,e):_a(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach((e=>e(this)))}}var Hi=new Ui({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Oi},numbers:{type:"number",properties:Ri}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ii.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Wi(e,t,r,n,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,r.push(s)),a>n&&(n=a),n}function qi(e,t,r,n){let s=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},a=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let i=0;const o=r.length;let l,c,d,u,h;for(l=0;l<o;l++)if(u=r[l],void 0===u||null===u||ka(u)){if(ka(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||ka(h)||(i=Wi(e,s,a,i,h))}else i=Wi(e,s,a,i,u);e.restore();const f=a.length/2;if(f>r.length){for(l=0;l<f;l++)delete s[a[l]];a.splice(0,f)}return i}function $i(e,t,r){const n=e.currentDevicePixelRatio,s=0!==r?Math.max(r/2,.5):0;return Math.round((t-s)*n)/n+s}function Yi(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ki(e,t,r,n){Qi(e,t,r,n,null)}function Qi(e,t,r,n,s){let a,i,o,l,c,d,u,h;const f=t.pointStyle,m=t.rotation,p=t.radius;let g=(m||0)*Ya;if(f&&"object"===typeof f&&(a=f.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(r,n),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:s?e.ellipse(r,n,s/2,p,0,0,Wa):e.arc(r,n,p,0,Wa),e.closePath();break;case"triangle":d=s?s/2:p,e.moveTo(r+Math.sin(g)*d,n-Math.cos(g)*p),g+=Ja,e.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*p),g+=Ja,e.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,i=Math.cos(g+Qa)*l,u=Math.cos(g+Qa)*(s?s/2-c:l),o=Math.sin(g+Qa)*l,h=Math.sin(g+Qa)*(s?s/2-c:l),e.arc(r-u,n-o,c,g-Ha,g-Ka),e.arc(r+h,n-i,c,g-Ka,g),e.arc(r+u,n+o,c,g,g+Ka),e.arc(r-h,n+i,c,g+Ka,g+Ha),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,d=s?s/2:l,e.rect(r-d,n-l,2*d,2*l);break}g+=Qa;case"rectRot":u=Math.cos(g)*(s?s/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(s?s/2:p),e.moveTo(r-u,n-o),e.lineTo(r+h,n-i),e.lineTo(r+u,n+o),e.lineTo(r-h,n+i),e.closePath();break;case"crossRot":g+=Qa;case"cross":u=Math.cos(g)*(s?s/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(s?s/2:p),e.moveTo(r-u,n-o),e.lineTo(r+u,n+o),e.moveTo(r+h,n-i),e.lineTo(r-h,n+i);break;case"star":u=Math.cos(g)*(s?s/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(s?s/2:p),e.moveTo(r-u,n-o),e.lineTo(r+u,n+o),e.moveTo(r+h,n-i),e.lineTo(r-h,n+i),g+=Qa,u=Math.cos(g)*(s?s/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(s?s/2:p),e.moveTo(r-u,n-o),e.lineTo(r+u,n+o),e.moveTo(r+h,n-i),e.lineTo(r-h,n+i);break;case"line":i=s?s/2:Math.cos(g)*p,o=Math.sin(g)*p,e.moveTo(r-i,n-o),e.lineTo(r+i,n+o);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(g)*(s?s/2:p),n+Math.sin(g)*p);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Ji(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function Xi(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Gi(e){e.restore()}function Zi(e,t,r,n,s){if(!t)return e.lineTo(r.x,r.y);if("middle"===s){const n=(t.x+r.x)/2;e.lineTo(n,t.y),e.lineTo(n,r.y)}else"after"===s!==!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function eo(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function to(e,t,r,n,s){if(s.strikethrough||s.underline){const a=e.measureText(n),i=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=r-a.actualBoundingBoxAscent,c=r+a.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(i,d),e.lineTo(o,d),e.stroke()}}function ro(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function no(e,t,r,n,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=ka(t)?t:[t],o=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),wa(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<i.length;++l)c=i[l],a.backdrop&&ro(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),wa(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,r,n,a.maxWidth)),e.fillText(c,r,n,a.maxWidth),to(e,r,n,c,a),n+=Number(s.lineHeight);e.restore()}function so(e,t){const{x:r,y:n,w:s,h:a,radius:i}=t;e.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*Ha,Ha,!0),e.lineTo(r,n+a-i.bottomLeft),e.arc(r+i.bottomLeft,n+a-i.bottomLeft,i.bottomLeft,Ha,Ka,!0),e.lineTo(r+s-i.bottomRight,n+a),e.arc(r+s-i.bottomRight,n+a-i.bottomRight,i.bottomRight,Ka,0,!0),e.lineTo(r+s,n+i.topRight),e.arc(r+s-i.topRight,n+i.topRight,i.topRight,0,-Ka,!0),e.lineTo(r+i.topLeft,n)}const ao=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,io=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function oo(e,t){const r=(""+e).match(ao);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}function lo(e,t){const r={},n=ja(t),s=n?Object.keys(t):t,a=ja(e)?n?r=>_a(e[r],e[t[r]]):t=>e[t]:()=>e;for(const i of s)r[i]=+a(i)||0;return r}function co(e){return lo(e,{top:"y",right:"x",bottom:"y",left:"x"})}function uo(e){return lo(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ho(e){const t=co(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fo(e,t){e=e||{},t=t||Hi.font;let r=_a(e.size,t.size);"string"===typeof r&&(r=parseInt(r,10));let n=_a(e.style,t.style);n&&!(""+n).match(io)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:_a(e.family,t.family),lineHeight:oo(_a(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:_a(e.weight,t.weight),string:""};return s.string=function(e){return!e||wa(e.size)||wa(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function mo(e,t,r,n){let s,a,i,o=!0;for(s=0,a=e.length;s<a;++s)if(i=e[s],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),o=!1),void 0!==r&&ka(i)&&(i=i[r%i.length],o=!1),void 0!==i))return n&&!o&&(n.cacheable=!1),i}function po(e,t){return Object.assign(Object.create(e),t)}function go(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const s=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=Co("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:n,override:n=>go([n,...e],t,s,r)};return new Proxy(a,{deleteProperty:(t,r)=>(delete t[r],delete t._keys,delete e[0][r],!0),get:(r,n)=>wo(r,n,(()=>function(e,t,r,n){let s;for(const a of t)if(s=Co(bo(a,e),r),"undefined"!==typeof s)return vo(e,s)?So(r,n,e,s):s}(n,t,e,r))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Eo(e).includes(t),ownKeys:e=>Eo(e),set(e,t,r){const s=e._storage||(e._storage=n());return e[t]=s[t]=r,delete e._keys,!0}})}function xo(e,t,r,n){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:yo(e,n),setContext:t=>xo(e,t,r,n),override:s=>xo(e.override(s),t,r,n)};return new Proxy(s,{deleteProperty:(t,r)=>(delete t[r],delete e[r],!0),get:(e,t,r)=>wo(e,t,(()=>function(e,t,r){const{_proxy:n,_context:s,_subProxy:a,_descriptors:i}=e;let o=n[t];Va(o)&&i.isScriptable(t)&&(o=function(e,t,r,n){const{_proxy:s,_context:a,_subProxy:i,_stack:o}=r;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,i||n);o.delete(e),vo(e,l)&&(l=So(s._scopes,s,e,l));return l}(t,o,e,r));ka(o)&&o.length&&(o=function(e,t,r,n){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=r;if("undefined"!==typeof a.index&&n(e))return t[a.index%t.length];if(ja(t[0])){const r=t,n=s._scopes.filter((e=>e!==r));t=[];for(const l of r){const r=So(n,s,e,l);t.push(xo(r,a,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));vo(t,o)&&(o=xo(o,s,a&&a[t],i));return o}(e,t,r))),getOwnPropertyDescriptor:(t,r)=>t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(t,r,n)=>(e[r]=n,delete t[r],!0)})}function yo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:r,indexable:n,isScriptable:Va(r)?r:()=>r,isIndexable:Va(n)?n:()=>n}}const bo=(e,t)=>e?e+za(t):t,vo=(e,t)=>ja(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function wo(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=r();return e[t]=n,n}function ko(e,t,r){return Va(e)?e(t,r):e}const jo=(e,t)=>!0===e?t:"string"===typeof e?Fa(t,e):void 0;function No(e,t,r,n,s){for(const a of t){const t=jo(r,a);if(t){e.add(t);const a=ko(t._fallback,r,s);if("undefined"!==typeof a&&a!==r&&a!==n)return a}else if(!1===t&&"undefined"!==typeof n&&r!==n)return null}return!1}function So(e,t,r,n){const s=t._rootScopes,a=ko(t._fallback,r,n),i=[...e,...s],o=new Set;o.add(n);let l=_o(o,i,r,a||r,n);return null!==l&&(("undefined"===typeof a||a===r||(l=_o(o,i,a,l,n),null!==l))&&go(Array.from(o),[""],s,a,(()=>function(e,t,r){const n=e._getTarget();t in n||(n[t]={});const s=n[t];if(ka(s)&&ja(r))return r;return s||{}}(t,r,n))))}function _o(e,t,r,n,s){for(;r;)r=No(e,t,r,n,s);return r}function Co(e,t){for(const r of t){if(!r)continue;const t=r[e];if("undefined"!==typeof t)return t}}function Eo(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const r of e)for(const e of Object.keys(r).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Ao(e,t,r,n){const{iScale:s}=e,{key:a="r"}=this._parsing,i=new Array(n);let o,l,c,d;for(o=0,l=n;o<l;++o)c=o+r,d=t[c],i[o]={r:s.parse(Fa(d,a),c)};return i}const Po=Number.EPSILON||1e-14,To=(e,t)=>t<e.length&&!e[t].skip&&e[t],Ro=e=>"x"===e?"y":"x";function Oo(e,t,r,n){const s=e.skip?t:e,a=t,i=r.skip?t:r,o=oi(a,s),l=oi(i,a);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,h=n*d;return{previous:{x:a.x-u*(i.x-s.x),y:a.y-u*(i.y-s.y)},next:{x:a.x+h*(i.x-s.x),y:a.y+h*(i.y-s.y)}}}function Mo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const r=Ro(t),n=e.length,s=Array(n).fill(0),a=Array(n);let i,o,l,c=To(e,0);for(i=0;i<n;++i)if(o=l,l=c,c=To(e,i+1),l){if(c){const e=c[t]-l[t];s[i]=0!==e?(c[r]-l[r])/e:0}a[i]=o?c?Ga(s[i-1])!==Ga(s[i])?0:(s[i-1]+s[i])/2:s[i-1]:s[i]}!function(e,t,r){const n=e.length;let s,a,i,o,l,c=To(e,0);for(let d=0;d<n-1;++d)l=c,c=To(e,d+1),l&&c&&(Za(t[d],0,Po)?r[d]=r[d+1]=0:(s=r[d]/t[d],a=r[d+1]/t[d],o=Math.pow(s,2)+Math.pow(a,2),o<=9||(i=3/Math.sqrt(o),r[d]=s*i*t[d],r[d+1]=a*i*t[d])))}(e,s,a),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=Ro(r),s=e.length;let a,i,o,l=To(e,0);for(let c=0;c<s;++c){if(i=o,o=l,l=To(e,c+1),!o)continue;const s=o[r],d=o[n];i&&(a=(s-i[r])/3,o["cp1".concat(r)]=s-a,o["cp1".concat(n)]=d-a*t[c]),l&&(a=(l[r]-s)/3,o["cp2".concat(r)]=s+a,o["cp2".concat(n)]=d+a*t[c])}}(e,a,t)}function Lo(e,t,r){return Math.max(Math.min(e,r),t)}function Do(e,t,r,n,s){let a,i,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Mo(e,s);else{let r=n?e[e.length-1]:e[0];for(a=0,i=e.length;a<i;++a)o=e[a],l=Oo(r,o,e[Math.min(a+1,i-(n?0:1))%i],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,r=o}t.capBezierPoints&&function(e,t){let r,n,s,a,i,o=Ji(e[0],t);for(r=0,n=e.length;r<n;++r)i=a,a=o,o=r<n-1&&Ji(e[r+1],t),a&&(s=e[r],i&&(s.cp1x=Lo(s.cp1x,t.left,t.right),s.cp1y=Lo(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=Lo(s.cp2x,t.left,t.right),s.cp2y=Lo(s.cp2y,t.top,t.bottom)))}(e,r)}function Io(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Fo(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function zo(e,t,r){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[r])):n=e,n}const Bo=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const Vo=["top","right","bottom","left"];function Uo(e,t,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const a=Vo[s];n[a]=parseFloat(e[t+"-"+a+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Ho(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,s=Bo(r),a="border-box"===s.boxSizing,i=Uo(s,"padding"),o=Uo(s,"border","width"),{x:l,y:c,box:d}=function(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:s,offsetY:a}=n;let i,o,l=!1;if(((e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot))(s,a,e.target))i=s,o=a;else{const e=t.getBoundingClientRect();i=n.clientX-e.left,o=n.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,r),u=i.left+(d&&o.left),h=i.top+(d&&o.top);let{width:f,height:m}=t;return a&&(f-=i.width+o.width,m-=i.height+o.height),{x:Math.round((l-u)/f*r.width/n),y:Math.round((c-h)/m*r.height/n)}}const Wo=e=>Math.round(10*e)/10;function qo(e,t,r,n){const s=Bo(e),a=Uo(s,"margin"),i=zo(s.maxWidth,e,"clientWidth")||$a,o=zo(s.maxHeight,e,"clientHeight")||$a,l=function(e,t,r){let n,s;if(void 0===t||void 0===r){const a=e&&Fo(e);if(a){const e=a.getBoundingClientRect(),i=Bo(a),o=Uo(i,"border","width"),l=Uo(i,"padding");t=e.width-l.width-o.width,r=e.height-l.height-o.height,n=zo(i.maxWidth,a,"clientWidth"),s=zo(i.maxHeight,a,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:n||$a,maxHeight:s||$a}}(e,t,r);let{width:c,height:d}=l;if("content-box"===s.boxSizing){const e=Uo(s,"border","width"),t=Uo(s,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-a.width),d=Math.max(0,n?c/n:d-a.height),c=Wo(Math.min(c,i,l.maxWidth)),d=Wo(Math.min(d,o,l.maxHeight)),c&&!d&&(d=Wo(c/2));return(void 0!==t||void 0!==r)&&n&&l.height&&d>l.height&&(d=l.height,c=Wo(Math.floor(d*n))),{width:c,height:d}}function $o(e,t,r){const n=t||1,s=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const i=e.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==n||i.height!==s||i.width!==a)&&(e.currentDevicePixelRatio=n,i.height=s,i.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}const Yo=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Io()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(km){}return e}();function Ko(e,t){const r=function(e,t){return Bo(e).getPropertyValue(t)}(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Qo(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function Jo(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:"middle"===n?r<.5?e.y:t.y:"after"===n?r<1?e.y:t.y:r>0?t.y:e.y}}function Xo(e,t,r,n){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},i=Qo(e,s,r),o=Qo(s,a,r),l=Qo(a,t,r),c=Qo(i,o,r),d=Qo(o,l,r);return Qo(c,d,r)}function Go(e,t,r){return e?function(e,t){return{x:r=>e+e+t-r,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,r):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Zo(e,t){let r,n;"ltr"!==t&&"rtl"!==t||(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function el(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function tl(e){return"angle"===e?{between:di,compare:li,normalize:ci}:{between:hi,compare:(e,t)=>e-t,normalize:e=>e}}function rl(e){let{start:t,end:r,count:n,loop:s,style:a}=e;return{start:t%n,end:r%n,loop:s&&(r-t+1)%n===0,style:a}}function nl(e,t,r){if(!r)return[e];const{property:n,start:s,end:a}=r,i=t.length,{compare:o,between:l,normalize:c}=tl(n),{start:d,end:u,loop:h,style:f}=function(e,t,r){const{property:n,start:s,end:a}=r,{between:i,normalize:o}=tl(n),l=t.length;let c,d,{start:u,end:h,loop:f}=e;if(f){for(u+=l,h+=l,c=0,d=l;c<d&&i(o(t[u%l][n]),s,a);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:f,style:e.style}}(e,t,r),m=[];let p,g,x,y=!1,b=null;const v=()=>y||l(s,x,p)&&0!==o(s,x),w=()=>!y||0===o(a,p)||l(a,x,p);for(let k=d,j=d;k<=u;++k)g=t[k%i],g.skip||(p=c(g[n]),p!==x&&(y=l(p,s,a),null===b&&v()&&(b=0===o(p,s)?k:j),null!==b&&w()&&(m.push(rl({start:b,end:k,loop:h,count:i,style:f})),b=null),j=k,x=p));return null!==b&&m.push(rl({start:b,end:u,loop:h,count:i,style:f})),m}function sl(e,t){const r=[],n=e.segments;for(let s=0;s<n.length;s++){const a=nl(n[s],e.points,t);a.length&&r.push(...a)}return r}function al(e,t,r,n){return n&&n.setContext&&r?function(e,t,r,n){const s=e._chart.getContext(),a=il(e.options),{_datasetIndex:i,options:{spanGaps:o}}=e,l=r.length,c=[];let d=a,u=t[0].start,h=u;function f(e,t,n,s){const a=o?-1:1;if(e!==t){for(e+=l;r[e%l].skip;)e-=a;for(;r[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:n,style:s}),d=s,u=t%l)}}for(const m of t){u=o?u:m.start;let e,t=r[u%l];for(h=u+1;h<=m.end;h++){const a=r[h%l];e=il(n.setContext(po(s,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:i}))),ol(e,d)&&f(u,h-1,m.loop,d),t=a,d=e}u<h-1&&f(u,h-1,m.loop,d)}return c}(e,t,r,n):t}function il(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ol(e,t){if(!t)return!1;const r=[],n=function(e,t){return Ai(t)?(r.includes(t)||r.push(t),r.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function ll(e,t,r){return e.options.clip?e[r]:t[r]}function cl(e,t){const r=t._clip;if(r.disabled)return!1;const n=function(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:ll(r,t,"left"),right:ll(r,t,"right"),top:ll(n,t,"top"),bottom:ll(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===r.left?0:n.left-(!0===r.left?0:r.left),right:!1===r.right?e.width:n.right+(!0===r.right?0:r.right),top:!1===r.top?0:n.top-(!0===r.top?0:r.top),bottom:!1===r.bottom?e.height:n.bottom+(!0===r.bottom?0:r.bottom)}}class dl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,n){const s=t.listeners[n],a=t.duration;s.forEach((n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=bi.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((r,n)=>{if(!r.running||!r.items.length)return;const s=r.items;let a,i=s.length-1,o=!1;for(;i>=0;--i)a=s[i],a._active?(a._total>r.duration&&(r.duration=a._total),a.tick(e),o=!0):(s[i]=s[s.length-1],s.pop());o&&(n.draw(),this._notify(n,r,e,"progress")),s.length||(r.running=!1,this._notify(n,r,e,"complete"),r.initial=!1),t+=s.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ul=new dl;const hl="transparent",fl={boolean:(e,t,r)=>r>.5?t:e,color(e,t,r){const n=Pi(e||hl),s=n.valid&&Pi(t||hl);return s&&s.valid?s.mix(n,r).hexString():t},number:(e,t,r)=>e+(t-e)*r};class ml{constructor(e,t,r,n){const s=t[r];n=mo([e.to,n,s,e.from]);const a=mo([e.from,s,n]);this._active=!0,this._fn=e.fn||fl[e.type||typeof a],this._easing=Ei[e.easing]||Ei.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const n=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=mo([e.to,t,n,e.from]),this._from=mo([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,n=this._prop,s=this._from,a=this._loop,i=this._to;let o;if(this._active=s!==i&&(a||t<r),!this._active)return this._target[n]=i,void this._notify(!0);t<0?this._target[n]=s:(o=t/r%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[n]=this._fn(s,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,r)=>{e.push({res:t,rej:r})}))}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][t]()}}class pl{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ja(e))return;const t=Object.keys(Hi.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const s=e[n];if(!ja(s))return;const a={};for(const e of t)a[e]=s[e];(ka(s.properties)&&s.properties||[n]).forEach((e=>{e!==n&&r.has(e)||r.set(e,a)}))}))}_animateOptions(e,t){const r=t.options,n=function(e,t){if(!t)return;let r=e.options;if(!r)return void(e.options=t);r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}}));return r}(e,r);if(!n)return[];const s=this._createAnimations(n,r);return r.$shared&&function(e,t){const r=[],n=Object.keys(t);for(let s=0;s<n.length;s++){const t=e[n[s]];t&&t.active()&&r.push(t.wait())}return Promise.all(r)}(e.options.$animations,r).then((()=>{e.options=r}),(()=>{})),s}_createAnimations(e,t){const r=this._properties,n=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),i=Date.now();let o;for(o=a.length-1;o>=0;--o){const l=a[o];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let d=s[l];const u=r.get(l);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(s[l]=d=new ml(u,e,l,c),n.push(d)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(ul.add(this._chart,r),!0):void 0}}function gl(e,t){const r=e&&e.options||{},n=r.reverse,s=void 0===r.min?t:0,a=void 0===r.max?t:0;return{start:n?a:s,end:n?s:a}}function xl(e,t){const r=[],n=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=n.length;s<a;++s)r.push(n[s].index);return r}function yl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=e.keys,a="single"===n.mode;let i,o,l,c;if(null===t)return;let d=!1;for(i=0,o=s.length;i<o;++i){if(l=+s[i],l===r){if(d=!0,n.all)continue;break}c=e.values[l],Na(c)&&(a||0===t||Ga(t)===Ga(c))&&(t+=c)}return d||n.all?t:0}function bl(e,t){const r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function vl(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function wl(e,t,r,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const t=e[s.index];if(r&&t>0||!r&&t<0)return s.index}return null}function kl(e,t){const{chart:r,_cachedMeta:n}=e,s=r._stacks||(r._stacks={}),{iScale:a,vScale:i,index:o}=n,l=a.axis,c=i.axis,d=function(e,t,r){return"".concat(e.id,".").concat(t.id,".").concat(r.stack||r.type)}(a,i,n),u=t.length;let h;for(let f=0;f<u;++f){const e=t[f],{[l]:r,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=vl(s,d,r),h[o]=a,h._top=wl(h,i,!0,n.type),h._bottom=wl(h,i,!1,n.type);(h._visualValues||(h._visualValues={}))[o]=a}}function jl(e,t){const r=e.scales;return Object.keys(r).filter((e=>r[e].axis===t)).shift()}function Nl(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][r])return;delete t[n][r],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[r]&&delete t[n]._visualValues[r]}}}const Sl=e=>"reset"===e||"none"===e,_l=(e,t)=>t?e:Object.assign({},e);class Cl{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=bl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Nl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),n=(e,t,r,n)=>"x"===e?t:"r"===e?n:r,s=t.xAxisID=_a(r.xAxisID,jl(e,"x")),a=t.yAxisID=_a(r.yAxisID,jl(e,"y")),i=t.rAxisID=_a(r.rAxisID,jl(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,s,a,i),c=t.vAxisID=n(o,a,s,i);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xi(this._data,this),e._stacked&&Nl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(ja(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:r,vScale:n}=t,s="x"===r.axis?"x":"y",a="x"===n.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,c,d;for(l=0,c=i.length;l<c;++l)d=i[l],o[l]={[s]:d,[a]:e[d]};return o}(t,e)}else if(r!==t){if(r){xi(r,this);const e=this._cachedMeta;Nl(e),e._parsed=[]}t&&Object.isExtensible(t)&&(s=this,(n=t)._chartjs?n._chartjs.listeners.push(s):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),gi.forEach((e=>{const t="_onData"+za(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];const i=r.apply(this,s);return n._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...s)})),i}})})))),this._syncList=[],this._data=t}var n,s}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const s=t._stacked;t._stacked=bl(t.vScale,t),t.stack!==r.stack&&(n=!0,Nl(t),t.stack=r.stack),this._resyncElements(e),(n||s!==t._stacked)&&(kl(this,t._parsed),t._stacked=bl(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:n}=this,{iScale:s,_stacked:a}=r,i=s.axis;let o,l,c,d=0===e&&t===n.length||r._sorted,u=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=n,r._sorted=!0,c=n;else{c=ka(n[e])?this.parseArrayData(r,n,e,t):ja(n[e])?this.parseObjectData(r,n,e,t):this.parsePrimitiveData(r,n,e,t);const s=()=>null===l[i]||u&&l[i]<u[i];for(o=0;o<t;++o)r._parsed[o+e]=l=c[o],d&&(s()&&(d=!1),u=l);r._sorted=d}a&&kl(this,c)}parsePrimitiveData(e,t,r,n){const{iScale:s,vScale:a}=e,i=s.axis,o=a.axis,l=s.getLabels(),c=s===a,d=new Array(n);let u,h,f;for(u=0,h=n;u<h;++u)f=u+r,d[u]={[i]:c||s.parse(l[f],f),[o]:a.parse(t[f],f)};return d}parseArrayData(e,t,r,n){const{xScale:s,yScale:a}=e,i=new Array(n);let o,l,c,d;for(o=0,l=n;o<l;++o)c=o+r,d=t[c],i[o]={x:s.parse(d[0],c),y:a.parse(d[1],c)};return i}parseObjectData(e,t,r,n){const{xScale:s,yScale:a}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(n);let c,d,u,h;for(c=0,d=n;c<d;++c)u=c+r,h=t[u],l[c]={x:s.parse(Fa(h,i),u),y:a.parse(Fa(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const n=this.chart,s=this._cachedMeta,a=t[e.axis];return yl({keys:xl(n,!0),values:t._stacks[e.axis]._visualValues},a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,n){const s=r[t.axis];let a=null===s?NaN:s;const i=n&&r._stacks[t.axis];n&&i&&(n.values=i,a=yl(n,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,n=r._parsed,s=r._sorted&&e===r.iScale,a=n.length,i=this._getOtherScale(e),o=((e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:xl(r,!0),values:null})(t,r,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:r,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}(i);let u,h;function f(){h=n[u];const t=h[i.axis];return!Na(h[e.axis])||c>t||d<t}for(u=0;u<a&&(f()||(this.updateRangeFromParsed(l,e,h,o),!s));++u);if(s)for(u=a-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n][e.axis],Na(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,n=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,r,n,s;return ja(e)?(t=e.top,r=e.right,n=e.bottom,s=e.left):t=r=n=s=e,{top:t,right:r,bottom:n,left:s,disabled:!1===e}}(_a(this.options.clip,function(e,t,r){if(!1===r)return!1;const n=gl(e,r),s=gl(t,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,n=r.data||[],s=t.chartArea,a=[],i=this._drawStart||0,o=this._drawCount||n.length-i,l=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,s,i,o),c=i;c<i+o;++c){const t=n[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,s))}for(c=0;c<a.length;++c)a[c].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const n=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,r){return po(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=n.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return po(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=n,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0;const n="active"===t,s=this._cachedDataOpts,a=e+"-"+t,i=s[a],o=this.enableOptionSharing&&Ba(r);if(i)return _l(i,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=n?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(Hi.elements[e]),f=l.resolveNamedOptions(u,h,(()=>this.getContext(r,n,t)),d);return f.$shared&&(f.$shared=o,s[a]=Object.freeze(_l(f,o))),f}_resolveAnimations(e,t,r){const n=this.chart,s=this._cachedDataOpts,a="animation-".concat(t),i=s[a];if(i)return i;let o;if(!1!==n.options.animation){const n=this.chart.config,s=n.datasetAnimationScopeKeys(this._type,t),a=n.getOptionScopes(this.getDataset(),s);o=n.createResolver(a,this.getContext(e,r,t))}const l=new pl(n,o&&o.animations);return o&&o._cacheable&&(s[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Sl(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),n=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==n;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,n){Sl(n)?Object.assign(e,r):this._resolveAnimations(t,n).update(e,r)}updateSharedOptions(e,t,r){e&&!Sl(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,n){e.active=n;const s=this.getStyle(t,n);this._resolveAnimations(t,r,n).update(e,{options:!n&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const n=r.length,s=t.length,a=Math.min(s,n);a&&this.parse(0,a),s>n?this._insertElements(n,s-n,e):s<n&&this._removeElements(s,n-s)}_insertElements(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,s=n.data,a=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=a;i--)e[i]=e[i-t]};for(o(s),i=e;i<a;++i)s[i]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,n){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(e,t);r._stacked&&Nl(r,n)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,n]=e;this[t](r,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function El(e){const t=e.iScale,r=function(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,s=r.length;t<s;t++)n=n.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=yi(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let n,s,a,i,o=t._length;const l=()=>{32767!==a&&-32768!==a&&(Ba(i)&&(o=Math.min(o,Math.abs(a-i)||o)),i=a)};for(n=0,s=r.length;n<s;++n)a=t.getPixelForValue(r[n]),l();for(i=void 0,n=0,s=t.ticks.length;n<s;++n)a=t.getPixelForTick(n),l();return o}function Al(e,t,r,n){return ka(e)?function(e,t,r,n){const s=r.parse(e[0],n),a=r.parse(e[1],n),i=Math.min(s,a),o=Math.max(s,a);let l=i,c=o;Math.abs(i)>Math.abs(o)&&(l=o,c=i),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:a,min:i,max:o}}(e,t,r,n):t[r.axis]=r.parse(e,n),t}function Pl(e,t,r,n){const s=e.iScale,a=e.vScale,i=s.getLabels(),o=s===a,l=[];let c,d,u,h;for(c=r,d=r+n;c<d;++c)h=t[c],u={},u[s.axis]=o||s.parse(i[c],c),l.push(Al(h,u,a,c));return l}function Tl(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Rl(e,t,r,n){let s=t.borderSkipped;const a={};if(!s)return void(e.borderSkipped=a);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:o,reverse:l,top:c,bottom:d}=function(e){let t,r,n,s,a;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(s="end",a="start"):(s="start",a="end"),{start:r,end:n,reverse:t,top:s,bottom:a}}(e);"middle"===s&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?s=c:(r._bottom||0)===n?s=d:(a[Ol(d,i,o,l)]=!0,s=c)),a[Ol(s,i,o,l)]=!0,e.borderSkipped=a}function Ol(e,t,r,n){var s,a,i;return n?(i=r,e=Ml(e=(s=e)===(a=t)?i:s===i?a:s,r,t)):e=Ml(e,t,r),e}function Ml(e,t,r){return"start"===e?t:"end"===e?r:e}function Ll(e,t,r){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===r?.33:0:n}d(Cl,"defaults",{}),d(Cl,"datasetElementType",null),d(Cl,"dataElementType",null);class Dl extends Cl{parsePrimitiveData(e,t,r,n){return Pl(e,t,r,n)}parseArrayData(e,t,r,n){return Pl(e,t,r,n)}parseObjectData(e,t,r,n){const{iScale:s,vScale:a}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l="x"===s.axis?i:o,c="x"===a.axis?i:o,d=[];let u,h,f,m;for(u=r,h=r+n;u<h;++u)m=t[u],f={},f[s.axis]=s.parse(Fa(m,l),u),d.push(Al(Fa(m,c),f,a,u));return d}updateRangeFromParsed(e,t,r,n){super.updateRangeFromParsed(e,t,r,n);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:n}=t,s=this.getParsed(e),a=s._custom,i=Tl(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(s[n.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,n){const s="reset"===n,{index:a,_cachedMeta:{vScale:i}}=this,o=i.getBasePixel(),l=i.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let h=t;h<t+r;h++){const t=this.getParsed(h),r=s||wa(t[i.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),f=this._calculateBarIndexPixels(h,c),m=(t._stacks||{})[i.axis],p={horizontal:l,base:r.base,enableBorderRadius:!m||Tl(t._custom)||a===m._top||a===m._bottom,x:l?r.head:f.center,y:l?f.center:r.head,height:l?f.size:Math.abs(r.size),width:l?Math.abs(r.size):f.size};u&&(p.options=d||this.resolveDataElementOptions(h,e[h].active?"active":n));const g=p.options||e[h].options;Rl(p,g,m,a),Ll(p,g,c.ratio),this.updateElement(e[h],h,p,n)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),s=r.options.stacked,a=[],i=this._cachedMeta.controller.getParsed(t),o=i&&i[r.axis],l=e=>{const t=e._parsed.find((e=>e[r.axis]===o)),n=t&&t[e.vScale.axis];if(wa(n)||isNaN(n))return!0};for(const c of n)if((void 0===t||!l(c))&&((!1===s||-1===a.indexOf(c.stack)||void 0===s&&void 0===c.stack)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter((r=>e[r].axis===t)).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[_a("x"===this.chart.options.indexAxis?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const n=this._getStacks(e,r),s=void 0!==t?n.indexOf(t):-1;return-1===s?n.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,n=[];let s,a;for(s=0,a=t.data.length;s<a;++s)n.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const i=e.barThickness;return{min:i||El(t),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:n},options:{base:s,minBarLength:a}}=this,i=s||0,o=this.getParsed(e),l=o._custom,c=Tl(l);let d,u,h=o[t.axis],f=0,m=r?this.applyStack(t,o,r):h;m!==h&&(f=m-h,m=h),c&&(h=l.barStart,m=l.barEnd-l.barStart,0!==h&&Ga(h)!==Ga(l.barEnd)&&(f=0),f+=h);const p=wa(s)||c?f:s;let g=t.getPixelForValue(p);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(f+m):g,u=d-g,Math.abs(u)<a){u=function(e,t,r){return 0!==e?Ga(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}(u,t,i)*a,h===i&&(g-=u/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),f=Math.max(e,s);g=Math.max(Math.min(g,f),l),d=g+u,r&&!c&&(o._stacks[t.axis]._visualValues[n]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(i)){const e=Ga(u)*t.getLineWidthForValue(i)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const r=t.scale,n=this.options,s=n.skipNull,a=_a(n.maxBarThickness,1/0);let i,o;const l=this._getAxisCount();if(t.grouped){const r=s?this._getStackCount(e):t.stackCount,c="flex"===n.barThickness?function(e,t,r,n){const s=t.pixels,a=s[e];let i=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=r.categoryPercentage;null===i&&(i=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-i);const c=a-(a-Math.min(i,o))/2*l;return{chunk:Math.abs(o-i)/2*l/n,ratio:r.barPercentage,start:c}}(e,t,n,r*l):function(e,t,r,n){const s=r.barThickness;let a,i;return wa(s)?(a=t.min*r.categoryPercentage,i=r.barPercentage):(a=s*n,i=1),{chunk:a/n,ratio:i,start:t.pixels[e]-a/2}}(e,t,n,r*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(_a(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+u;i=c.start+c.chunk*h+c.chunk/2,o=Math.min(a,c.chunk*c.ratio)}else i=r.getPixelForValue(this.getParsed(e)[r.axis],e),o=Math.min(a,t.min*t.ratio);return{base:i-o/2,head:i+o/2,center:i,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,n=r.length;let s=0;for(;s<n;++s)null===this.getParsed(s)[t.axis]||r[s].hidden||r[s].draw(this._ctx)}}d(Dl,"id","bar"),d(Dl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),d(Dl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Il extends Cl{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,n){const s=super.parsePrimitiveData(e,t,r,n);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,t,r,n){const s=super.parseArrayData(e,t,r,n);for(let a=0;a<s.length;a++){const e=t[r+a];s[a]._custom=_a(e[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(e,t,r,n){const s=super.parseObjectData(e,t,r,n);for(let a=0;a<s.length;a++){const e=t[r+a];s[a]._custom=_a(e&&e.r&&+e.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:s}=t,a=this.getParsed(e),i=n.getLabelForValue(a.x),o=s.getLabelForValue(a.y),l=a._custom;return{label:r[e]||"",value:"("+i+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,n){const s="reset"===n,{iScale:a,vScale:i}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,n),c=a.axis,d=i.axis;for(let u=t;u<t+r;u++){const t=e[u],r=!s&&this.getParsed(u),h={},f=h[c]=s?a.getPixelForDecimal(.5):a.getPixelForValue(r[c]),m=h[d]=s?i.getBasePixel():i.getPixelForValue(r[d]);h.skip=isNaN(f)||isNaN(m),l&&(h.options=o||this.resolveDataElementOptions(u,t.active?"active":n),s&&(h.options.radius=0)),this.updateElement(t,u,h,n)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const s=n.radius;return"active"!==t&&(n.radius=0),n.radius+=_a(r&&r._custom,s),n}}d(Il,"id","bubble"),d(Il,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),d(Il,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Fl extends Cl{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=r;else{let s,a,i=e=>+r[e];if(ja(r[e])){const{key:e="value"}=this._parsing;i=t=>+Fa(r[t],e)}for(s=e,a=e+t;s<a;++s)n._parsed[s]=i(s)}}_getRotation(){return ni(this.options.rotation-90)}_getCircumference(){return ni(this.options.circumference)}_getRotationExtents(){let e=Wa,t=-Wa;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,s=n._getRotation(),a=n._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,n=this._cachedMeta,s=n.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,i=Math.max((Math.min(r.width,r.height)-a)/2,0),o=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,i),1),l=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:u,ratioY:h,offsetX:f,offsetY:m}=function(e,t,r){let n=1,s=1,a=0,i=0;if(t<Wa){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),f=(e,t,n)=>di(e,o,l,!0)?1:Math.max(t,t*r,n,n*r),m=(e,t,n)=>di(e,o,l,!0)?-1:Math.min(t,t*r,n,n*r),p=f(0,c,u),g=f(Ka,d,h),x=m(Ha,c,u),y=m(Ha+Ka,d,h);n=(p-x)/2,s=(g-y)/2,a=-(p+x)/2,i=-(g+y)/2}return{ratioX:n,ratioY:s,offsetX:a,offsetY:i}}(d,c,o),p=(r.width-a)/u,g=(r.height-a)/h,x=Math.max(Math.min(p,g)/2,0),y=Ca(this.options.radius,x),b=(y-Math.max(y*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=m*y,n.total=this.calculateTotal(),this.outerRadius=y-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*l,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,n=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*s/Wa)}updateElements(e,t,r,n){const s="reset"===n,a=this.chart,i=a.chartArea,o=a.options.animation,l=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=s&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,n);let p,g=this._getRotation();for(p=0;p<t;++p)g+=this._circumference(p,s);for(p=t;p<t+r;++p){const t=this._circumference(p,s),r=e[p],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};m&&(a.options=f||this.resolveDataElementOptions(p,r.active?"active":n)),g+=t,this.updateElement(r,p,a,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r,n=0;for(r=0;r<t.length;r++){const s=e._parsed[r];null===s||isNaN(s)||!this.chart.getDataVisibility(r)||t[r].hidden||(n+=Math.abs(s))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Wa*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],s=Li(t._parsed[e],r.options.locale);return{label:n[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let n,s,a,i,o;if(!e)for(n=0,s=r.data.datasets.length;n<s;++n)if(r.isDatasetVisible(n)){a=r.getDatasetMeta(n),e=a.data,i=a.controller;break}if(!e)return 0;for(n=0,s=e.length;n<s;++n)o=i.resolveDataElementOptions(n),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,n=e.length;r<n;++r){const e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(_a(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}d(Fl,"id","doughnut"),d(Fl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),d(Fl,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),d(Fl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map(((t,s)=>{const a=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}}))}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class zl extends Cl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:n=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:i,count:o}=ji(t,n,a);this._drawStart=i,this._drawCount=o,Ni(t)&&(i=0,o=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:l},e),this.updateElements(n,i,o,e)}updateElements(e,t,r,n){const s="reset"===n,{iScale:a,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=a.axis,h=i.axis,{spanGaps:f,segment:m}=this.options,p=ti(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||"none"===n,x=t+r,y=e.length;let b=t>0&&this.getParsed(t-1);for(let v=0;v<y;++v){const r=e[v],f=g?r:{};if(v<t||v>=x){f.skip=!0;continue}const y=this.getParsed(v),w=wa(y[h]),k=f[u]=a.getPixelForValue(y[u],v),j=f[h]=s||w?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,y,o):y[h],v);f.skip=isNaN(k)||isNaN(j)||w,f.stop=v>0&&Math.abs(y[u]-b[u])>p,m&&(f.parsed=y,f.raw=l.data[v]),d&&(f.options=c||this.resolveDataElementOptions(v,r.active?"active":n)),g||this.updateElement(r,v,f,n),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}d(zl,"id","line"),d(zl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),d(zl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Bl extends Cl{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],s=Li(t._parsed[e].r,r.options.locale);return{label:n[e]||"",value:s}}parseObjectData(e,t,r,n){return Ao.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,r)=>{const n=this.getParsed(r).r;!isNaN(n)&&this.chart.getDataVisibility(r)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(n/2,0),a=(s-Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,r,n){const s="reset"===n,a=this.chart,i=a.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,d=o.getIndexAngle(0)-.5*Ha;let u,h=d;const f=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,n,f);for(u=t;u<t+r;u++){const t=e[u];let r=h,m=h+this._computeAngle(u,n,f),p=a.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=m,s&&(i.animateScale&&(p=0),i.animateRotate&&(r=m=d));const g={x:l,y:c,innerRadius:0,outerRadius:p,startAngle:r,endAngle:m,options:this.resolveDataElementOptions(u,t.active?"active":n)};this.updateElement(t,u,g,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++})),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?ni(this.resolveDataElementOptions(e,t).angle||r):0}}d(Bl,"id","polarArea"),d(Bl,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),d(Bl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map(((t,s)=>{const a=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}}))}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Vl extends Fl{}d(Vl,"id","pie"),d(Vl,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ul extends Cl{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,n){return Ao.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta,r=t.dataset,n=t.data||[],s=t.iScale.getLabels();if(r.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===n.length,options:t};this.updateElement(r,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,r,n){const s=this._cachedMeta.rScale,a="reset"===n;for(let i=t;i<t+r;i++){const t=e[i],r=this.resolveDataElementOptions(i,t.active?"active":n),o=s.getPointPositionForValue(i,this.getParsed(i).r),l=a?s.xCenter:o.x,c=a?s.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:r};this.updateElement(t,i,d,n)}}}d(Ul,"id","radar"),d(Ul,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),d(Ul,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Hl extends Cl{getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:s}=t,a=this.getParsed(e),i=n.getLabelForValue(a.x),o=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+i+", "+o+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,n=this.chart._animationsDisabled;let{start:s,count:a}=ji(t,r,n);if(this._drawStart=s,this._drawCount=a,Ni(t)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:a}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=r;const i=this.resolveDatasetElementOptions(e);i.segment=this.options.segment,this.updateElement(s,void 0,{animated:!n,options:i},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,n){const s="reset"===n,{iScale:a,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),h=a.axis,f=i.axis,{spanGaps:m,segment:p}=this.options,g=ti(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||"none"===n;let y=t>0&&this.getParsed(t-1);for(let b=t;b<t+r;++b){const t=e[b],r=this.getParsed(b),c=x?t:{},m=wa(r[f]),v=c[h]=a.getPixelForValue(r[h],b),w=c[f]=s||m?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,r,o):r[f],b);c.skip=isNaN(v)||isNaN(w)||m,c.stop=b>0&&Math.abs(r[h]-y[h])>g,p&&(c.parsed=r,c.raw=l.data[b]),u&&(c.options=d||this.resolveDataElementOptions(b,t.active?"active":n)),x||this.updateElement(t,b,c,n),y=r}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}const r=e.dataset,n=r.options&&r.options.borderWidth||0;if(!t.length)return n;const s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,s,a)/2}}d(Hl,"id","scatter"),d(Hl,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),d(Hl,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Wl=Object.freeze({__proto__:null,BarController:Dl,BubbleController:Il,DoughnutController:Fl,LineController:zl,PieController:Vl,PolarAreaController:Bl,RadarController:Ul,ScatterController:Hl});function ql(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $l{static override(e){Object.assign($l.prototype,e)}constructor(e){d(this,"options",void 0),this.options=e||{}}init(){}formats(){return ql()}parse(){return ql()}format(){return ql()}add(){return ql()}diff(){return ql()}startOf(){return ql()}endOf(){return ql()}}var Yl=$l;function Kl(e,t,r,n){const{controller:s,data:a,_sorted:i}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&a.length){const i=o._reversePixels?pi:mi;if(!n){const n=i(a,t,r);if(l){const{vScale:t}=s._cachedMeta,{_parsed:r}=e,a=r.slice(0,n.lo+1).reverse().findIndex((e=>!wa(e[t.axis])));n.lo-=Math.max(0,a);const i=r.slice(n.hi).findIndex((e=>!wa(e[t.axis])));n.hi+=Math.max(0,i)}return n}if(s._sharedOptions){const e=a[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=i(a,t,r-n),s=i(a,t,r+n);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}function Ql(e,t,r,n,s){const a=e.getSortedVisibleDatasetMetas(),i=r[t];for(let o=0,l=a.length;o<l;++o){const{index:e,data:r}=a[o],{lo:l,hi:c}=Kl(a[o],t,i,s);for(let t=l;t<=c;++t){const s=r[t];s.skip||n(s,e,t)}}}function Jl(e,t,r,n,s){const a=[];if(!s&&!e.isPointInArea(t))return a;return Ql(e,r,t,(function(r,i,o){(s||Ji(r,e.chartArea,0))&&r.inRange(t.x,t.y,n)&&a.push({element:r,datasetIndex:i,index:o})}),!0),a}function Xl(e,t,r,n,s,a){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,n){const s=t?Math.abs(e.x-n.x):0,a=r?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(r);let l=Number.POSITIVE_INFINITY;return Ql(e,r,t,(function(r,c,d){const u=r.inRange(t.x,t.y,s);if(n&&!u)return;const h=r.getCenterPoint(s);if(!(!!a||e.isPointInArea(h))&&!u)return;const f=o(t,h);f<l?(i=[{element:r,datasetIndex:c,index:d}],l=f):f===l&&i.push({element:r,datasetIndex:c,index:d})})),i}function Gl(e,t,r,n,s,a){return a||e.isPointInArea(t)?"r"!==r||n?Xl(e,t,r,n,s,a):function(e,t,r,n){let s=[];return Ql(e,r,t,(function(e,r,a){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],n),{angle:l}=ii(e,{x:t.x,y:t.y});di(l,i,o)&&s.push({element:e,datasetIndex:r,index:a})})),s}(e,t,r,s):[]}function Zl(e,t,r,n,s){const a=[],i="x"===r?"inXRange":"inYRange";let o=!1;return Ql(e,r,t,((e,n,l)=>{e[i]&&e[i](t[r],s)&&(a.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,s))})),n&&!o?[]:a}var ec={evaluateInteractionItems:Ql,modes:{index(e,t,r,n){const s=Ho(t,e),a=r.axis||"x",i=r.includeInvisible||!1,o=r.intersect?Jl(e,s,a,n,i):Gl(e,s,a,!1,n,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,r=e.data[t];r&&!r.skip&&l.push({element:r,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,r,n){const s=Ho(t,e),a=r.axis||"xy",i=r.includeInvisible||!1;let o=r.intersect?Jl(e,s,a,n,i):Gl(e,s,a,!1,n,i);if(o.length>0){const t=o[0].datasetIndex,r=e.getDatasetMeta(t).data;o=[];for(let e=0;e<r.length;++e)o.push({element:r[e],datasetIndex:t,index:e})}return o},point:(e,t,r,n)=>Jl(e,Ho(t,e),r.axis||"xy",n,r.includeInvisible||!1),nearest(e,t,r,n){const s=Ho(t,e),a=r.axis||"xy",i=r.includeInvisible||!1;return Gl(e,s,a,r.intersect,n,i)},x:(e,t,r,n)=>Zl(e,Ho(t,e),"x",r.intersect,n),y:(e,t,r,n)=>Zl(e,Ho(t,e),"y",r.intersect,n)}};const tc=["left","top","right","bottom"];function rc(e,t){return e.filter((e=>e.pos===t))}function nc(e,t){return e.filter((e=>-1===tc.indexOf(e.pos)&&e.box.axis===t))}function sc(e,t){return e.sort(((e,r)=>{const n=t?r:e,s=t?e:r;return n.weight===s.weight?n.index-s.index:n.weight-s.weight}))}function ac(e,t){const r=function(e){const t={};for(const r of e){const{stack:e,pos:n,stackWeight:s}=r;if(!e||!tc.includes(n))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let a,i,o;for(a=0,i=e.length;a<i;++a){o=e[a];const{fullSize:i}=o.box,l=r[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*n:i&&t.availableWidth,o.height=s):(o.width=n,o.height=c?c*s:i&&t.availableHeight)}return r}function ic(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function oc(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function lc(e,t,r,n){const{pos:s,box:a}=r,i=e.maxPadding;if(!ja(s)){r.size&&(e[s]-=r.size);const t=n[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?a.height:a.width),r.size=t.size/t.count,e[s]+=r.size}a.getPadding&&oc(i,a.getPadding());const o=Math.max(0,t.outerWidth-ic(i,e,"left","right")),l=Math.max(0,t.outerHeight-ic(i,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,r.horizontal?{same:c,other:d}:{same:d,other:c}}function cc(e,t){const r=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],r[e])})),n}return n(e?["left","right"]:["top","bottom"])}function dc(e,t,r,n){const s=[];let a,i,o,l,c,d;for(a=0,i=e.length,c=0;a<i;++a){o=e[a],l=o.box,l.update(o.width||t.w,o.height||t.h,cc(o.horizontal,t));const{same:i,other:u}=lc(t,r,o,n);c|=i&&s.length,d=d||u,l.fullSize||s.push(o)}return c&&dc(s,t,r,n)||d}function uc(e,t,r,n,s){e.top=r,e.left=t,e.right=t+n,e.bottom=r+s,e.width=n,e.height=s}function hc(e,t,r,n){const s=r.padding;let{x:a,y:i}=t;for(const o of e){const e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const n=t.w*c,a=l.size||e.height;Ba(l.start)&&(i=l.start),e.fullSize?uc(e,s.left,i,r.outerWidth-s.right-s.left,a):uc(e,t.left+l.placed,i,n,a),l.start=i,l.placed+=n,i=e.bottom}else{const n=t.h*c,i=l.size||e.width;Ba(l.start)&&(a=l.start),e.fullSize?uc(e,a,s.top,i,r.outerHeight-s.bottom-s.top):uc(e,a,t.top+l.placed,i,n),l.start=a,l.placed+=n,a=e.right}}t.x=a,t.y=i}var fc={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const s=ho(e.options.layout.padding),a=Math.max(t-s.width,0),i=Math.max(r-s.height,0),o=function(e){const t=function(e){const t=[];let r,n,s,a,i,o;for(r=0,n=(e||[]).length;r<n;++r)s=e[r],({position:a,options:{stack:i,stackWeight:o=1}}=s),t.push({index:r,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:i&&a+i,stackWeight:o});return t}(e),r=sc(t.filter((e=>e.box.fullSize)),!0),n=sc(rc(t,"left"),!0),s=sc(rc(t,"right")),a=sc(rc(t,"top"),!0),i=sc(rc(t,"bottom")),o=nc(t,"x"),l=nc(t,"y");return{fullSize:r,leftAndTop:n.concat(a),rightAndBottom:s.concat(l).concat(i).concat(o),chartArea:rc(t,"chartArea"),vertical:n.concat(s).concat(l),horizontal:a.concat(i).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;Aa(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:r,padding:s,availableWidth:a,availableHeight:i,vBoxMaxWidth:a/2/d,hBoxMaxHeight:i/2}),h=Object.assign({},s);oc(h,ho(n));const f=Object.assign({maxPadding:h,w:a,h:i,x:s.left,y:s.top},s),m=ac(l.concat(c),u);dc(o.fullSize,f,u,m),dc(l,f,u,m),dc(c,f,u,m)&&dc(l,f,u,m),function(e){const t=e.maxPadding;function r(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}(f),hc(o.leftAndTop,f,u,m),f.x+=f.w,f.y+=f.h,hc(o.rightAndBottom,f,u,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Aa(o.chartArea,(t=>{const r=t.box;Object.assign(r,e.chartArea),r.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class mc{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,n){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):r)}}isAttached(e){return!0}updateConfig(e){}}class pc extends mc{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const gc="$chartjs",xc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yc=e=>null===e||""===e;const bc=!!Yo&&{passive:!0};function vc(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,bc)}function wc(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function kc(e,t,r){const n=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const r of e)t=t||wc(r.addedNodes,n),t=t&&!wc(r.removedNodes,n);t&&r()}));return s.observe(document,{childList:!0,subtree:!0}),s}function jc(e,t,r){const n=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const r of e)t=t||wc(r.removedNodes,n),t=t&&!wc(r.addedNodes,n);t&&r()}));return s.observe(document,{childList:!0,subtree:!0}),s}const Nc=new Map;let Sc=0;function _c(){const e=window.devicePixelRatio;e!==Sc&&(Sc=e,Nc.forEach(((t,r)=>{r.currentDevicePixelRatio!==e&&t()})))}function Cc(e,t,r){const n=e.canvas,s=n&&Fo(n);if(!s)return;const a=vi(((e,t)=>{const n=s.clientWidth;r(e,t),n<s.clientWidth&&r()}),window),i=new ResizeObserver((e=>{const t=e[0],r=t.contentRect.width,n=t.contentRect.height;0===r&&0===n||a(r,n)}));return i.observe(s),function(e,t){Nc.size||window.addEventListener("resize",_c),Nc.set(e,t)}(e,a),i}function Ec(e,t,r){r&&r.disconnect(),"resize"===t&&function(e){Nc.delete(e),Nc.size||window.removeEventListener("resize",_c)}(e)}function Ac(e,t,r){const n=e.canvas,s=vi((t=>{null!==e.ctx&&r(function(e,t){const r=xc[e.type]||e.type,{x:n,y:s}=Ho(e,t);return{type:r,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==s?s:null}}(t,e))}),e);return function(e,t,r){e&&e.addEventListener(t,r,bc)}(n,t,s),s}class Pc extends mc{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(e,t){const r=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[gc]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",yc(s)){const t=Ko(e,"width");void 0!==t&&(e.width=t)}if(yc(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Ko(e,"height");void 0!==t&&(e.height=t)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[gc])return!1;const r=t[gc].initial;["height","width"].forEach((e=>{const n=r[e];wa(n)?t.removeAttribute(e):t.setAttribute(e,n)}));const n=r.style||{};return Object.keys(n).forEach((e=>{t.style[e]=n[e]})),t.width=t.width,delete t[gc],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),s={attach:kc,detach:jc,resize:Cc}[t]||Ac;n[t]=s(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),n=r[t];if(!n)return;({attach:Ec,detach:Ec,resize:Ec}[t]||vc)(e,t,n),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,n){return qo(e,t,r,n)}isAttached(e){const t=e&&Fo(e);return!(!t||!t.isConnected)}}class Tc{constructor(){d(this,"x",void 0),d(this,"y",void 0),d(this,"active",!1),d(this,"options",void 0),d(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return ti(this.x)&&ti(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const n={};return e.forEach((e=>{n[e]=r[e]&&r[e].active()?r[e]._to:this[e]})),n}}function Rc(e,t){const r=e.options.ticks,n=function(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),s=e._maxLength/r;return Math.floor(Math.min(n,s))}(e),s=Math.min(r.maxTicksLimit||n,n),a=r.major.enabled?function(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}(t):[],i=a.length,o=a[0],l=a[i-1],c=[];if(i>s)return function(e,t,r,n){let s,a=0,i=r[0];for(n=Math.ceil(n),s=0;s<e.length;s++)s===i&&(t.push(e[s]),a++,i=r[a*n])}(t,c,a,i/s),c;const d=function(e,t,r){const n=function(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}(e),s=t.length/r;if(!n)return Math.max(s,1);const a=function(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(0|r)&&t.push(r),t.sort(((e,t)=>e-t)).pop(),t}(n);for(let i=0,o=a.length-1;i<o;i++){const e=a[i];if(e>s)return e}return Math.max(s,1)}(a,t,s);if(i>0){let e,r;const n=i>1?Math.round((l-o)/(i-1)):null;for(Oc(t,c,d,wa(n)?0:o-n,o),e=0,r=i-1;e<r;e++)Oc(t,c,d,a[e],a[e+1]);return Oc(t,c,d,l,wa(n)?t.length:l+n),c}return Oc(t,c,d),c}function Oc(e,t,r,n,s){const a=_a(n,0),i=Math.min(_a(s,e.length),e.length);let o,l,c,d=0;for(r=Math.ceil(r),s&&(o=s-n,r=o/Math.floor(o/r)),c=a;c<0;)d++,c=Math.round(a+d*r);for(l=Math.max(a,0);l<i;l++)l===c&&(t.push(e[l]),d++,c=Math.round(a+d*r))}d(Tc,"defaults",{}),d(Tc,"defaultRoutes",void 0);const Mc=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r,Lc=(e,t)=>Math.min(t||e,e);function Dc(e,t){const r=[],n=e.length/t,s=e.length;let a=0;for(;a<s;a+=n)r.push(e[Math.floor(a)]);return r}function Ic(e,t,r){const n=e.ticks.length,s=Math.min(t,n-1),a=e._startPixel,i=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(s);if(!(r&&(l=1===n?Math.max(c-a,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<a-o||c>i+o)))return c}function Fc(e){return e.drawTicks?e.tickLength:0}function zc(e,t){if(!e.display)return 0;const r=fo(e.font,t),n=ho(e.padding);return(ka(e.text)?e.text.length:1)*r.lineHeight+n.height}function Bc(e,t,r){let n=wi(e);return(r&&"right"!==t||!r&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class Vc extends Tc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:n}=this;return e=Sa(e,Number.POSITIVE_INFINITY),t=Sa(t,Number.NEGATIVE_INFINITY),r=Sa(r,Number.POSITIVE_INFINITY),n=Sa(n,Number.NEGATIVE_INFINITY),{min:Sa(e,r),max:Sa(t,n),minDefined:Na(e),maxDefined:Na(t)}}getMinMax(e){let t,{min:r,max:n,minDefined:s,maxDefined:a}=this.getUserBounds();if(s&&a)return{min:r,max:n};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),s||(r=Math.min(r,t.min)),a||(n=Math.max(n,t.max));return r=a&&r>n?n:r,n=s&&r>n?r:n,{min:Sa(r,Sa(n,r)),max:Sa(n,Sa(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ea(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:n,grace:s,ticks:a}=this.options,i=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,r){const{min:n,max:s}=e,a=Ca(t,(s-n)/2),i=(e,t)=>r&&0===e?0:e+t;return{min:i(n,-Math.abs(a)),max:i(s,a)}}(this,s,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?Dc(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Rc(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ea(this.options.afterUpdate,[this])}beforeSetDimensions(){Ea(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ea(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ea(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ea(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,n,s;for(r=0,n=e.length;r<n;r++)s=e[r],s.label=Ea(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ea(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ea(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Lc(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,s=t.maxRotation;let a,i,o,l=n;if(!this._isVisible()||!t.display||n>=s||r<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=ui(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:h/(r-1),d+6>a&&(a=h/(r-(e.offset?.5:1)),i=this.maxHeight-Fc(e.grid)-t.padding-zc(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=si(Math.min(Math.asin(ui((c.highest.height+6)/a,-1,1)),Math.asin(ui(i/o,-1,1))-Math.asin(ui(u/o,-1,1)))),l=Math.max(n,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ea(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ea(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:n,grid:s}}=this,a=this._isVisible(),i=this.isHorizontal();if(a){const a=zc(n,t.options.font);if(i?(e.width=this.maxWidth,e.height=Fc(s)+a):(e.height=this.maxHeight,e.width=Fc(s)+a),r.display&&this.ticks.length){const{first:t,last:n,widest:s,highest:a}=this._getLabelSizes(),o=2*r.padding,l=ni(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(i){const t=r.mirror?0:d*s.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=r.mirror?0:c*s.width+d*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,n){const{ticks:{align:s,padding:a},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=n*e.width,u=r*t.height):(d=r*e.height,u=n*t.width):"start"===s?u=t.width:"end"===s?d=e.width:"inner"!==s&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+a)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+a)*this.width/(this.width-c),0)}else{let r=t.height/2,n=e.height/2;"start"===s?(r=0,n=e.height):"end"===s&&(r=t.height,n=0),this.paddingTop=r+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ea(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)wa(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Dc(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:n,_longestTextCache:s}=this,a=[],i=[],o=Math.floor(t/Lc(t,r));let l,c,d,u,h,f,m,p,g,x,y,b=0,v=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),n.font=f=h.string,m=s[f]=s[f]||{data:{},gc:[]},p=h.lineHeight,g=x=0,wa(u)||ka(u)){if(ka(u))for(c=0,d=u.length;c<d;++c)y=u[c],wa(y)||ka(y)||(g=Wi(n,m.data,m.gc,g,y),x+=p)}else g=Wi(n,m.data,m.gc,g,u),x=p;a.push(g),i.push(x),b=Math.max(g,b),v=Math.max(x,v)}!function(e,t){Aa(e,(e=>{const r=e.gc,n=r.length/2;let s;if(n>t){for(s=0;s<n;++s)delete e.data[r[s]];r.splice(0,n)}}))}(s,t);const w=a.indexOf(b),k=i.indexOf(v),j=e=>({width:a[e]||0,height:i[e]||0});return{first:j(0),last:j(t-1),widest:j(w),highest:j(k),widths:a,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return ui(e,-32768,32767)}(this._alignToPixels?$i(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function(e,t,r){return po(e,{tick:r,index:t,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=po(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=ni(this.labelRotation),r=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,i=s?s.widest.width+a:0,o=s?s.highest.height+a:0;return this.isHorizontal()?o*r>i*n?i/r:o/n:o*n<i*r?o/r:i/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,n=this.options,{grid:s,position:a,border:i}=n,o=s.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=Fc(s),u=[],h=i.setContext(this.getContext()),f=h.display?h.width:0,m=f/2,p=function(e){return $i(r,e,f)};let g,x,y,b,v,w,k,j,N,S,_,C;if("top"===a)g=p(this.bottom),w=this.bottom-d,j=g-m,S=p(e.top)+m,C=e.bottom;else if("bottom"===a)g=p(this.top),S=e.top,C=p(e.bottom)-m,w=g+m,j=this.top+d;else if("left"===a)g=p(this.right),v=this.right-d,k=g-m,N=p(e.left)+m,_=e.right;else if("right"===a)g=p(this.left),N=e.left,_=p(e.right)-m,v=g+m,k=this.left+d;else if("x"===t){if("center"===a)g=p((e.top+e.bottom)/2+.5);else if(ja(a)){const e=Object.keys(a)[0],t=a[e];g=p(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,w=g+m,j=w+d}else if("y"===t){if("center"===a)g=p((e.left+e.right)/2);else if(ja(a)){const e=Object.keys(a)[0],t=a[e];g=p(this.chart.scales[e].getPixelForValue(t))}v=g-m,k=v-d,N=e.left,_=e.right}const E=_a(n.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/E));for(x=0;x<c;x+=A){const e=this.getContext(x),t=s.setContext(e),n=i.setContext(e),a=t.lineWidth,c=t.color,d=n.dash||[],h=n.dashOffset,f=t.tickWidth,m=t.tickColor,p=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=Ic(this,x,o),void 0!==y&&(b=$i(r,y,a),l?v=k=N=_=b:w=j=S=C=b,u.push({tx1:v,ty1:w,tx2:k,ty2:j,x1:N,y1:S,x2:_,y2:C,width:a,color:c,borderDash:d,borderDashOffset:h,tickWidth:f,tickColor:m,tickBorderDash:p,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,r=this.options,{position:n,ticks:s}=r,a=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=s,u=Fc(r.grid),h=u+c,f=d?-c:h,m=-ni(this.labelRotation),p=[];let g,x,y,b,v,w,k,j,N,S,_,C,E="middle";if("top"===n)w=this.bottom-f,k=this._getXAxisLabelAlignment();else if("bottom"===n)w=this.top+f,k=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);k=e.textAlign,v=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);k=e.textAlign,v=e.x}else if("x"===t){if("center"===n)w=(e.top+e.bottom)/2+h;else if(ja(n)){const e=Object.keys(n)[0],t=n[e];w=this.chart.scales[e].getPixelForValue(t)+h}k=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)v=(e.left+e.right)/2-h;else if(ja(n)){const e=Object.keys(n)[0],t=n[e];v=this.chart.scales[e].getPixelForValue(t)}k=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?E="top":"end"===o&&(E="bottom"));const A=this._getLabelSizes();for(g=0,x=i.length;g<x;++g){y=i[g],b=y.label;const e=s.setContext(this.getContext(g));j=this.getPixelForTick(g)+s.labelOffset,N=this._resolveTickFontOptions(g),S=N.lineHeight,_=ka(b)?b.length:1;const t=_/2,r=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=k;if(a?(v=j,"inner"===k&&(h=g===x-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===n?"near"===l||0!==m?-_*S+S/2:"center"===l?-A.highest.height/2-t*S+S:-A.highest.height+S/2:"near"===l||0!==m?S/2:"center"===l?A.highest.height/2-t*S:A.highest.height-_*S,d&&(C*=-1),0===m||e.showLabelBackdrop||(v+=S/2*Math.sin(m))):(w=j,C=(1-_)*S/2),e.showLabelBackdrop){const t=ho(e.backdropPadding),r=A.heights[g],n=A.widths[g];let s=C-t.top,a=0-t.left;switch(E){case"middle":s-=r/2;break;case"bottom":s-=r}switch(k){case"center":a-=n/2;break;case"right":a-=n;break;case"inner":g===x-1?a-=n:g>0&&(a-=n/2)}u={left:a,top:s,width:n+t.width,height:r+t.height,color:e.backdropColor}}p.push({label:b,font:N,textOffset:C,options:{rotation:m,color:r,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:E,translation:[v,w],backdrop:u}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ni(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:n,padding:s}}=this.options,a=e+s,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?n?(l=this.right+s,"near"===r?o="left":"center"===r?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-a,"near"===r?o="right":"center"===r?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?n?(l=this.left+s,"near"===r?o="right":"center"===r?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+a,"near"===r?o="left":"center"===r?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:n,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,n,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex((t=>t.value===e));if(r>=0){return t.setContext(this.getContext(r)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const i=(e,t,n)=>{n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(t.display)for(s=0,a=n.length;s<a;++s){const e=n[s];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:n}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const i=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=$i(e,this.left,a)-a/2,c=$i(e,this.right,i)+i/2,d=u=o):(d=$i(e,this.top,a)-a/2,u=$i(e,this.bottom,i)+i/2,l=c=o),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,r=this._computeLabelArea();r&&Xi(t,r);const n=this.getLabelItems(e);for(const s of n){const e=s.options,r=s.font;no(t,s.label,0,s.textOffset,r,e)}r&&Gi(t)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:n}}=this;if(!r.display)return;const s=fo(r.font),a=ho(r.padding),i=r.align;let o=s.lineHeight/2;"bottom"===t||"center"===t||ja(t)?(o+=a.bottom,ka(r.text)&&(o+=s.lineHeight*(r.text.length-1))):o+=a.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,r,n){const{top:s,left:a,bottom:i,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,f,m=0;const p=i-s,g=o-a;if(e.isHorizontal()){if(h=ki(n,a,o),ja(r)){const e=Object.keys(r)[0],n=r[e];f=d[e].getPixelForValue(n)+p-t}else f="center"===r?(c.bottom+c.top)/2+p-t:Mc(e,r,t);u=o-a}else{if(ja(r)){const e=Object.keys(r)[0],n=r[e];h=d[e].getPixelForValue(n)-g+t}else h="center"===r?(c.left+c.right)/2-g+t:Mc(e,r,t);f=ki(n,i,s),m="left"===r?-Ka:Ka}return{titleX:h,titleY:f,maxWidth:u,rotation:m}}(this,o,t,i);no(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:u,textAlign:Bc(i,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=_a(e.grid&&e.grid.z,-1),n=_a(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Vc.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let s,a;for(s=0,a=t.length;s<a;++s){const a=t[s];a[r]!==this.id||e&&a.type!==e||n.push(a)}return n}_resolveTickFontOptions(e){return fo(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Uc{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function(e){return"id"in e&&"defaults"in e})(t)&&(r=this.register(t));const n=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in n||(n[s]=e,function(e,t,r){const n=Ma(Object.create(null),[r?Hi.get(r):{},Hi.get(t),e.defaults]);Hi.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((r=>{const n=r.split("."),s=n.pop(),a=[e].concat(n).join("."),i=t[r].split("."),o=i.pop(),l=i.join(".");Hi.route(a,s,l,o)}))}(t,e.defaultRoutes);e.descriptors&&Hi.describe(t,e.descriptors)}(e,a,r),this.override&&Hi.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,n=this.scope;r in t&&delete t[r],n&&r in Hi[n]&&(delete Hi[n][r],this.override&&delete Fi[r])}}class Hc{constructor(){this.controllers=new Uc(Cl,"datasets",!0),this.elements=new Uc(Tc,"elements"),this.plugins=new Uc(Object,"plugins"),this.scales=new Uc(Vc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.scales)}_each(e,t,r){[...t].forEach((t=>{const n=r||this._getRegistryForType(t);r||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):Aa(t,(t=>{const n=r||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,r){const n=za(e);Ea(r["before"+n],[],r),t[e](r),Ea(r["after"+n],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+r+".");return n}}var Wc=new Hc;class qc{constructor(){this._init=[]}notify(e,t,r,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(s,e,t,r);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,n){n=n||{};for(const s of e){const e=s.plugin;if(!1===Ea(e[r],[t,n,s.options],e)&&n.cancelable)return!1}return!0}invalidate(){wa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,n=_a(r.options&&r.options.plugins,{}),s=function(e){const t={},r=[],n=Object.keys(Wc.plugins.items);for(let a=0;a<n.length;a++)r.push(Wc.getPlugin(n[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const e=s[a];-1===r.indexOf(e)&&(r.push(e),t[e.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==n||t?function(e,t,r,n){let{plugins:s,localIds:a}=t;const i=[],o=e.getContext();for(const l of s){const t=l.id,s=$c(r[t],n);null!==s&&i.push({plugin:l,options:Yc(e.config,{plugin:l,local:a[t]},s,o)})}return i}(e,s,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,r),e,"stop"),this._notify(n(r,t),e,"start")}}function $c(e,t){return t||!1!==e?!0===e?{}:e:null}function Yc(e,t,r,n){let{plugin:s,local:a}=t;const i=e.pluginScopeKeys(s),o=e.getOptionScopes(r,i);return a&&s.defaults&&o.push(s.defaults),e.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Kc(e,t){const r=Hi.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function Qc(e){if("x"===e||"y"===e||"r"===e)return e}function Jc(e){if(Qc(e))return e;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(const a of r){const t=a.axis||("top"===(s=a.position)||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0)||e.length>1&&Qc(e[0].toLowerCase());if(t)return t}var s;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function Xc(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function Gc(e,t){const r=Fi[e.type]||{scales:{}},n=t.scales||{},s=Kc(e.type,t),a=Object.create(null);return Object.keys(n).forEach((t=>{const i=n[t];if(!ja(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=Jc(t,i,function(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(r.length)return Xc(e,"x",r[0])||Xc(e,"y",r[0])}return{}}(t,e),Hi.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,s),c=r.scales||{};a[t]=La(Object.create(null),[{axis:o},i,c[o],c[l]])})),e.data.datasets.forEach((r=>{const s=r.type||e.type,i=r.indexAxis||Kc(s,t),o=(Fi[s]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let r=e;return"_index_"===e?r=t:"_value_"===e&&(r="x"===t?"y":"x"),r}(e,i),s=r[t+"AxisID"]||t;a[s]=a[s]||Object.create(null),La(a[s],[{axis:t},n[s],o[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];La(t,[Hi.scales[t.type],Hi.scale])})),a}function Zc(e){const t=e.options||(e.options={});t.plugins=_a(t.plugins,{}),t.scales=Gc(e,t)}function ed(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const td=new Map,rd=new Set;function nd(e,t){let r=td.get(e);return r||(r=t(),td.set(e,r),rd.add(r)),r}const sd=(e,t,r)=>{const n=Fa(t,r);void 0!==n&&e.add(n)};class ad{constructor(e){this._config=function(e){return(e=e||{}).data=ed(e.data),Zc(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ed(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Zc(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return nd(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return nd("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return nd("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,r=this.type;return nd("".concat(r,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const r=this._scopeCache;let n=r.get(e);return n&&!t||(n=new Map,r.set(e,n)),n}getOptionScopes(e,t,r){const{options:n,type:s}=this,a=this._cachedScopes(e,r),i=a.get(t);if(i)return i;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>sd(o,e,t)))),t.forEach((e=>sd(o,n,e))),t.forEach((e=>sd(o,Fi[s]||{},e))),t.forEach((e=>sd(o,Hi,e))),t.forEach((e=>sd(o,zi,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),rd.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Fi[t]||{},Hi.datasets[t]||{},{type:t},Hi,zi]}resolveNamedOptions(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const s={$shared:!0},{resolver:a,subPrefixes:i}=id(this._resolverCache,e,n);let o=a;if(function(e,t){const{isScriptable:r,isIndexable:n}=yo(e);for(const s of t){const t=r(s),a=n(s),i=(a||t)&&e[s];if(t&&(Va(i)||od(i))||a&&ka(i))return!0}return!1}(a,t)){s.$shared=!1;o=xo(a,r=Va(r)?r():r,this.createResolver(e,r,i))}for(const l of t)s[l]=o[l];return s}createResolver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:s}=id(this._resolverCache,e,r);return ja(t)?xo(s,t,void 0,n):s}}function id(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const s=r.join();let a=n.get(s);if(!a){a={resolver:go(t,r),subPrefixes:r.filter((e=>!e.toLowerCase().includes("hover")))},n.set(s,a)}return a}const od=e=>ja(e)&&Object.getOwnPropertyNames(e).some((t=>Va(e[t])));const ld=["top","bottom","left","right","chartArea"];function cd(e,t){return"top"===e||"bottom"===e||-1===ld.indexOf(e)&&"x"===t}function dd(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function ud(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Ea(r&&r.onComplete,[e],t)}function hd(e){const t=e.chart,r=t.options.animation;Ea(r&&r.onProgress,[e],t)}function fd(e){return Io()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const md={},pd=e=>{const t=fd(e);return Object.values(md).filter((e=>e.canvas===t)).pop()};function gd(e,t,r){const n=Object.keys(e);for(const s of n){const n=+s;if(n>=t){const a=e[s];delete e[s],(r>0||n>t)&&(e[n+r]=a)}}}class xd{static register(){Wc.add(...arguments),yd()}static unregister(){Wc.remove(...arguments),yd()}constructor(e,t){const r=this.config=new ad(t),n=fd(e),s=pd(n);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(e){return!Io()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?pc:Pc}(n)),this.platform.updateConfig(r);const i=this.platform.acquireContext(n,a.aspectRatio),o=i&&i.canvas,l=o&&o.height,c=o&&o.width;this.id=va(),this.ctx=i,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let r;return function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t?(clearTimeout(r),r=setTimeout(e,t,s)):e.apply(this,s),t}}((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],md[this.id]=this,i&&o?(ul.listen(this,"complete",ud),ul.listen(this,"progress",hd),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:n,_aspectRatio:s}=this;return wa(e)?t&&s?s:n?r/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$o(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Yi(this.canvas,this.ctx),this}stop(){return ul.stop(this),this}resize(e,t){ul.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,n=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,s),i=r.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,$o(this,i,!0)&&(this.notifyPlugins("resize",{size:a}),Ea(r.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){Aa(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,n=Object.keys(r).reduce(((e,t)=>(e[t]=!1,e)),{});let s=[];t&&(s=s.concat(Object.keys(t).map((e=>{const r=t[e],n=Jc(e,r),s="r"===n,a="x"===n;return{options:r,dposition:s?"chartArea":a?"bottom":"left",dtype:s?"radialLinear":a?"category":"linear"}})))),Aa(s,(t=>{const s=t.options,a=s.id,i=Jc(a,s),o=_a(s.type,t.dtype);void 0!==s.position&&cd(s.position,i)===cd(t.dposition)||(s.position=t.dposition),n[a]=!0;let l=null;if(a in r&&r[a].type===o)l=r[a];else{l=new(Wc.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),r[l.id]=l}l.init(s,e)})),Aa(n,((e,t)=>{e||delete r[t]})),Aa(r,(e=>{fc.configure(this,e,e.options),fc.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort(((e,t)=>e.index-t.index)),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(dd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,r)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(r)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=t.length;r<n;r++){const n=t[r];let s=this.getDatasetMeta(r);const a=n.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=a,s.indexAxis=n.indexAxis||Kc(a,this.options),s.order=n.order||0,s.index=r,s.label=""+n.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{const t=Wc.getController(a),{datasetElementType:n,dataElementType:i}=Hi.datasets[a];Object.assign(t,{dataElementType:Wc.getElement(i),datasetElementType:n&&Wc.getElement(n)}),s.controller=new t(this,r),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){Aa(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!n&&-1===s.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),n||Aa(s,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(dd("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){Aa(this.scales,(e=>{fc.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);Ua(t,r)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:s}of t){gd(e,n,"_removeElements"===r?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),n=r(0);for(let s=1;s<t;s++)if(!Ua(n,r(s)))return;return Array.from(n).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;fc.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Aa(this.boxes,(e=>{r&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Va(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),n={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(r.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ul.has(this)?this.attached&&!ul.running(this)&&ul.start(this):(this.draw(),ud({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let n,s;for(n=0,s=t.length;n<s;++n){const s=t[n];e&&!s.visible||r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},n=cl(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(n&&Xi(t,n),e.controller.draw(),n&&Gi(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ji(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,n){const s=ec.modes[t];return"function"===typeof s?s(this,e,r,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let n=r.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=po(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"===typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const n=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,n);Ba(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update((t=>t.datasetIndex===e?n:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ul.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Yi(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete md[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};Aa(this.options.events,(e=>r(e,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(r,n)=>{e[r]&&(t.removeEventListener(this,r,n),delete e[r])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const i=()=>{n("attach",i),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,n("resize",s),this._stop(),this._resize(0,0),r("attach",i)},t.isAttached(this.canvas)?i():a()}unbindEvents(){Aa(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Aa(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const n=r?"set":"remove";let s,a,i,o;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+n+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){a=e[i];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map((e=>{let{datasetIndex:t,index:r}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[r],index:r}}));!Pa(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,r){const n=this.options.hover,s=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),a=s(t,e),i=r?e:s(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),i.length&&n.mode&&this.updateHoverStyle(i,n.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,n))return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:n=[],options:s}=this,a=t,i=this._getActiveElements(e,n,r,a),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,r,n){return r&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,r,o);r&&(this._lastEvent=null,Ea(s.onHover,[e,i,this],this),o&&Ea(s.onClick,[e,i,this],this));const c=!Pa(i,n);return(c||t)&&(this._active=i,this._updateHoverStyles(i,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,r,n){if("mouseout"===e.type)return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,n)}}function yd(){return Aa(xd.instances,(e=>e._plugins.invalidate()))}function bd(e,t,r,n){const s=function(e){return lo(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),a=(r-t)/2,i=Math.min(a,n*t/2),o=e=>{const t=(r-Math.min(a,e))*n/2;return ui(e,0,Math.min(a,t))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:ui(s.innerStart,0,i),innerEnd:ui(s.innerEnd,0,i)}}function vd(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function wd(e,t,r,n,s,a){const{x:i,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+r-c,0),h=d>0?d+n+r+c:0;let f=0;const m=s-l;if(n){const e=((d>0?d-n:0)+(u>0?u-n:0))/2;f=(m-(0!==e?m*e/(e+n):m))/2}const p=(m-Math.max(.001,m*u-r/Ha)/u)/2,g=l+p+f,x=s-p-f,{outerStart:y,outerEnd:b,innerStart:v,innerEnd:w}=bd(t,h,u,x-g),k=u-y,j=u-b,N=g+y/k,S=x-b/j,_=h+v,C=h+w,E=g+v/_,A=x-w/C;if(e.beginPath(),a){const t=(N+S)/2;if(e.arc(i,o,u,N,t),e.arc(i,o,u,t,S),b>0){const t=vd(j,S,i,o);e.arc(t.x,t.y,b,S,x+Ka)}const r=vd(C,x,i,o);if(e.lineTo(r.x,r.y),w>0){const t=vd(C,A,i,o);e.arc(t.x,t.y,w,x+Ka,A+Math.PI)}const n=(x-w/h+(g+v/h))/2;if(e.arc(i,o,h,x-w/h,n,!0),e.arc(i,o,h,n,g+v/h,!0),v>0){const t=vd(_,E,i,o);e.arc(t.x,t.y,v,E+Math.PI,g-Ka)}const s=vd(k,g,i,o);if(e.lineTo(s.x,s.y),y>0){const t=vd(k,N,i,o);e.arc(t.x,t.y,y,g-Ka,N)}}else{e.moveTo(i,o);const t=Math.cos(N)*u+i,r=Math.sin(N)*u+o;e.lineTo(t,r);const n=Math.cos(S)*u+i,s=Math.sin(S)*u+o;e.lineTo(n,s)}e.closePath()}function kd(e,t,r,n,s){const{fullCircles:a,startAngle:i,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:f}=l,m="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,m?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let p=t.endAngle;if(a){wd(e,t,r,n,p,s);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(p=i+(o%Wa||Wa))}m&&function(e,t,r){const{startAngle:n,pixelMargin:s,x:a,y:i,outerRadius:o,innerRadius:l}=t;let c=s/o;e.beginPath(),e.arc(a,i,o,n-c,r+c),l>s?(c=s/l,e.arc(a,i,l,r+c,n-c,!0)):e.arc(a,i,s,r+Ka,n-Ka),e.closePath(),e.clip()}(e,t,p),l.selfJoin&&p-i>=Ha&&0===f&&"miter"!==d&&function(e,t,r){const{startAngle:n,x:s,y:a,outerRadius:i,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/i,ci(n-r));if(e.beginPath(),e.arc(s,a,i-c/2,n+u/2,r-u/2),o>0){const t=Math.min(c/o,ci(n-r));e.arc(s,a,o+c/2,r-t/2,n+t/2,!0)}else{const t=Math.min(c/2,i*ci(n-r));if("round"===d)e.arc(s,a,t,r-Ha/2,n+Ha/2,!0);else if("bevel"===d){const i=2*t*t,o=-i*Math.cos(r+Ha/2)+s,l=-i*Math.sin(r+Ha/2)+a,c=i*Math.cos(n+Ha/2)+s,d=i*Math.sin(n+Ha/2)+a;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,p),a||(wd(e,t,r,n,p,s),e.stroke())}d(xd,"defaults",Hi),d(xd,"instances",md),d(xd,"overrides",Fi),d(xd,"registry",Wc),d(xd,"version","4.5.0"),d(xd,"getChart",pd);class jd extends Tc{constructor(e){super(),d(this,"circumference",void 0),d(this,"endAngle",void 0),d(this,"fullCircles",void 0),d(this,"innerRadius",void 0),d(this,"outerRadius",void 0),d(this,"pixelMargin",void 0),d(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.getProps(["x","y"],r),{angle:s,distance:a}=ii(n,{x:e,y:t}),{startAngle:i,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),u=(this.options.spacing+this.options.borderWidth)/2,h=_a(d,o-i),f=di(s,i,o)&&i!==o,m=h>=Wa||f,p=hi(a,l+u,c+u);return m&&p}getCenterPoint(e){const{x:t,y:r,startAngle:n,endAngle:s,innerRadius:a,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(n+s)/2,d=(a+i+l+o)/2;return{x:t+Math.cos(c)*d,y:r+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,n=(t.offset||0)/4,s=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>Wa?Math.floor(r/Wa):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*n,Math.sin(i)*n);const o=n*(1-Math.sin(Math.min(Ha,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,r,n,s){const{fullCircles:a,startAngle:i,circumference:o}=t;let l=t.endAngle;if(a){wd(e,t,r,n,l,s);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=i+(o%Wa||Wa))}wd(e,t,r,n,l,s),e.fill()}(e,this,o,s,a),kd(e,this,o,s,a),e.restore()}}function Nd(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=_a(r.borderCapStyle,t.borderCapStyle),e.setLineDash(_a(r.borderDash,t.borderDash)),e.lineDashOffset=_a(r.borderDashOffset,t.borderDashOffset),e.lineJoin=_a(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=_a(r.borderWidth,t.borderWidth),e.strokeStyle=_a(r.borderColor,t.borderColor)}function Sd(e,t,r){e.lineTo(r.x,r.y)}function _d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:s=0,end:a=n-1}=r,{start:i,end:o}=t,l=Math.max(s,i),c=Math.min(a,o),d=s<i&&a<i||s>o&&a>o;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function Cd(e,t,r,n){const{points:s,options:a}=t,{count:i,start:o,loop:l,ilen:c}=_d(s,r,n),d=function(e){return e.stepped?Zi:e.tension||"monotone"===e.cubicInterpolationMode?eo:Sd}(a);let u,h,f,{move:m=!0,reverse:p}=n||{};for(u=0;u<=c;++u)h=s[(o+(p?c-u:u))%i],h.skip||(m?(e.moveTo(h.x,h.y),m=!1):d(e,f,h,p,a.stepped),f=h);return l&&(h=s[(o+(p?c:0))%i],d(e,f,h,p,a.stepped)),!!l}function Ed(e,t,r,n){const s=t.points,{count:a,start:i,ilen:o}=_d(s,r,n),{move:l=!0,reverse:c}=n||{};let d,u,h,f,m,p,g=0,x=0;const y=e=>(i+(c?o-e:e))%a,b=()=>{f!==m&&(e.lineTo(g,m),e.lineTo(g,f),e.lineTo(g,p))};for(l&&(u=s[y(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=s[y(d)],u.skip)continue;const t=u.x,r=u.y,n=0|t;n===h?(r<f?f=r:r>m&&(m=r),g=(x*g+t)/++x):(b(),e.lineTo(t,r),h=n,x=0,f=m=r),p=r}b()}function Ad(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!r?Ed:Cd}d(jd,"id","arc"),d(jd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),d(jd,"defaultRoutes",{backgroundColor:"backgroundColor"}),d(jd,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Pd="function"===typeof Path2D;function Td(e,t,r,n){Pd&&!t.options.segment?function(e,t,r,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,r,n)&&s.closePath()),Nd(e,t.options),e.stroke(s)}(e,t,r,n):function(e,t,r,n){const{segments:s,options:a}=t,i=Ad(t);for(const o of s)Nd(e,a,o.style),e.beginPath(),i(e,t,o,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}(e,t,r,n)}class Rd extends Tc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;Do(this._points,r,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const r=e.points,n=e.options.spanGaps,s=r.length;if(!s)return[];const a=!!e._loop,{start:i,end:o}=function(e,t,r,n){let s=0,a=t-1;if(r&&!n)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,r&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}(r,s,a,n);return al(e,!0===n?[{start:i,end:o,loop:a}]:function(e,t,r,n){const s=e.length,a=[];let i,o=t,l=e[t];for(i=t+1;i<=r;++i){const r=e[i%s];r.skip||r.stop?l.skip||(n=!1,a.push({start:t%s,end:(i-1)%s,loop:n}),t=o=r.stop?i:null):(o=i,l.skip&&(t=i)),l=r}return null!==o&&a.push({start:t%s,end:o%s,loop:n}),a}(r,i,o<i?o+s:o,!!e._fullLoop&&0===i&&o===s-1),r,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,n=e[t],s=this.points,a=sl(this,{property:t,start:n,end:n});if(!a.length)return;const i=[],o=function(e){return e.stepped?Jo:e.tension||"monotone"===e.cubicInterpolationMode?Xo:Qo}(r);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:d}=a[l],u=s[c],h=s[d];if(u===h){i.push(u);continue}const f=o(u,h,Math.abs((n-u[t])/(h[t]-u[t])),r.stepped);f[t]=e[t],i.push(f)}return 1===i.length?i[0]:i}pathSegment(e,t,r){return Ad(this)(e,this,t,r)}path(e,t,r){const n=this.segments,s=Ad(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const i of n)a&=s(e,this,i,{start:t,end:t+r-1});return!!a}draw(e,t,r,n){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Td(e,this,r,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Od(e,t,r,n){const s=e.options,{[r]:a}=e.getProps([r],n);return Math.abs(t-a)<s.radius+s.hitRadius}d(Rd,"id","line"),d(Rd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),d(Rd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),d(Rd,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Md extends Tc{constructor(e){super(),d(this,"parsed",void 0),d(this,"skip",void 0),d(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return Od(this,e,"x",t)}inYRange(e,t){return Od(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const r=this.options;this.skip||r.radius<.1||!Ji(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Ki(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Ld(e,t){const{x:r,y:n,base:s,width:a,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=i/2,o=Math.min(r,s),l=Math.max(r,s),c=n-u,d=n+u):(u=a/2,o=r-u,l=r+u,c=Math.min(n,s),d=Math.max(n,s)),{left:o,top:c,right:l,bottom:d}}function Dd(e,t,r,n){return e?0:ui(t,r,n)}function Id(e){const t=Ld(e),r=t.right-t.left,n=t.bottom-t.top,s=function(e,t,r){const n=e.options.borderWidth,s=e.borderSkipped,a=co(n);return{t:Dd(s.top,a.top,0,r),r:Dd(s.right,a.right,0,t),b:Dd(s.bottom,a.bottom,0,r),l:Dd(s.left,a.left,0,t)}}(e,r/2,n/2),a=function(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=uo(s),i=Math.min(t,r),o=e.borderSkipped,l=n||ja(s);return{topLeft:Dd(!l||o.top||o.left,a.topLeft,0,i),topRight:Dd(!l||o.top||o.right,a.topRight,0,i),bottomLeft:Dd(!l||o.bottom||o.left,a.bottomLeft,0,i),bottomRight:Dd(!l||o.bottom||o.right,a.bottomRight,0,i)}}(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Fd(e,t,r,n){const s=null===t,a=null===r,i=e&&!(s&&a)&&Ld(e,n);return i&&(s||hi(t,i.left,i.right))&&(a||hi(r,i.top,i.bottom))}function zd(e,t){e.rect(t.x,t.y,t.w,t.h)}function Bd(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==r.x?-t:0,s=e.y!==r.y?-t:0,a=(e.x+e.w!==r.x+r.w?t:0)-n,i=(e.y+e.h!==r.y+r.h?t:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+a,h:e.h+i,radius:e.radius}}d(Md,"id","point"),d(Md,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),d(Md,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Vd extends Tc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:n}}=this,{inner:s,outer:a}=Id(this),i=(o=a.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?so:zd;var o;e.save(),a.w===s.w&&a.h===s.h||(e.beginPath(),i(e,Bd(a,t,s)),e.clip(),i(e,Bd(s,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),i(e,Bd(s,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,r){return Fd(this,e,t,r)}inXRange(e,t){return Fd(this,e,null,t)}inYRange(e,t){return Fd(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:n,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+n)/2:t,y:s?r:(r+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}d(Vd,"id","bar"),d(Vd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),d(Vd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Ud=Object.freeze({__proto__:null,ArcElement:jd,BarElement:Vd,LineElement:Rd,PointElement:Md});const Hd=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Wd=Hd.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function qd(e){return Hd[e%Hd.length]}function $d(e){return Wd[e%Wd.length]}function Yd(e){let t=0;return(r,n)=>{const s=e.getDatasetMeta(n).controller;s instanceof Fl?t=function(e,t){return e.backgroundColor=e.data.map((()=>qd(t++))),t}(r,t):s instanceof Bl?t=function(e,t){return e.backgroundColor=e.data.map((()=>$d(t++))),t}(r,t):s&&(t=function(e,t){return e.borderColor=qd(t),e.backgroundColor=$d(t),++t}(r,t))}}function Kd(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var Qd={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,r){if(!r.enabled)return;const{data:{datasets:n},options:s}=e.config,{elements:a}=s,i=Kd(n)||(o=s)&&(o.borderColor||o.backgroundColor)||a&&Kd(a)||"rgba(0,0,0,0.1)"!==Hi.borderColor||"rgba(0,0,0,0.1)"!==Hi.backgroundColor;var o;if(!r.forceOverride&&i)return;const l=Yd(e);n.forEach(l)}};function Jd(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Xd(e){e.data.datasets.forEach((e=>{Jd(e)}))}var Gd={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,r)=>{if(!r.enabled)return void Xd(e);const n=e.width;e.data.datasets.forEach(((t,s)=>{const{_data:a,indexAxis:i}=t,o=e.getDatasetMeta(s),l=a||t.data;if("y"===mo([i,e.options.indexAxis]))return;if(!o.controller.supportsDecimation)return;const c=e.scales[o.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:d,count:u}=function(e,t){const r=t.length;let n,s=0;const{iScale:a}=e,{min:i,max:o,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(s=ui(mi(t,a.axis,i).lo,0,r-1)),n=c?ui(mi(t,a.axis,o).hi+1,s,r)-s:r-s,{start:s,count:n}}(o,l);if(u<=(r.threshold||4*n))return void Jd(t);let f;switch(wa(a)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),r.algorithm){case"lttb":f=function(e,t,r,n,s){const a=s.samples||n;if(a>=r)return e.slice(t,t+r);const i=[],o=(r-2)/(a-2);let l=0;const c=t+r-1;let d,u,h,f,m,p=t;for(i[l++]=e[p],d=0;d<a-2;d++){let n,s=0,a=0;const c=Math.floor((d+1)*o)+1+t,g=Math.min(Math.floor((d+2)*o)+1,r)+t,x=g-c;for(n=c;n<g;n++)s+=e[n].x,a+=e[n].y;s/=x,a/=x;const y=Math.floor(d*o)+1+t,b=Math.min(Math.floor((d+1)*o)+1,r)+t,{x:v,y:w}=e[p];for(h=f=-1,n=y;n<b;n++)f=.5*Math.abs((v-s)*(e[n].y-w)-(v-e[n].x)*(a-w)),f>h&&(h=f,u=e[n],m=n);i[l++]=u,p=m}return i[l++]=e[c],i}(l,d,u,n,r);break;case"min-max":f=function(e,t,r,n){let s,a,i,o,l,c,d,u,f,m,p=0,g=0;const x=[],y=t+r-1,b=e[t].x,v=e[y].x-b;for(s=t;s<t+r;++s){a=e[s],i=(a.x-b)/v*n,o=a.y;const t=0|i;if(t===l)o<f?(f=o,c=s):o>m&&(m=o,d=s),p=(g*p+a.x)/++g;else{const r=s-1;if(!wa(c)&&!wa(d)){const t=Math.min(c,d),n=Math.max(c,d);t!==u&&t!==r&&x.push(h(h({},e[t]),{},{x:p})),n!==u&&n!==r&&x.push(h(h({},e[n]),{},{x:p}))}s>0&&r!==u&&x.push(e[r]),x.push(a),l=t,g=0,f=m=o,c=d=u=s}}return x}(l,d,u,n);break;default:throw new Error("Unsupported decimation algorithm '".concat(r.algorithm,"'"))}t._decimated=f}))},destroy(e){Xd(e)}};function Zd(e,t,r,n){if(n)return;let s=t[e],a=r[e];return"angle"===e&&(s=ci(s),a=ci(a)),{property:e,start:s,end:a}}function eu(e,t,r){for(;t>e;t--){const e=r[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function tu(e,t,r,n){return e&&t?n(e[r],t[r]):e?e[r]:t?t[r]:0}function ru(e,t){let r=[],n=!1;return ka(e)?(n=!0,r=e):r=function(e,t){const{x:r=null,y:n=null}=e||{},s=t.points,a=[];return t.segments.forEach((e=>{let{start:t,end:i}=e;i=eu(t,i,s);const o=s[t],l=s[i];null!==n?(a.push({x:o.x,y:n}),a.push({x:l.x,y:n})):null!==r&&(a.push({x:r,y:o.y}),a.push({x:r,y:l.y}))})),a}(e,t),r.length?new Rd({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function nu(e){return e&&!1!==e.fill}function su(e,t,r){let n=e[t].fill;const s=[t];let a;if(!r)return n;for(;!1!==n&&-1===s.indexOf(n);){if(!Na(n))return n;if(a=e[n],!a)return!1;if(a.visible)return n;s.push(n),n=a.fill}return!1}function au(e,t,r){const n=function(e){const t=e.options,r=t.fill;let n=_a(r&&r.target,r);void 0===n&&(n=!!t.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(e);if(ja(n))return!isNaN(n.value)&&n;let s=parseFloat(n);return Na(s)&&Math.floor(s)===s?function(e,t,r,n){"-"!==e&&"+"!==e||(r=t+r);if(r===t||r<0||r>=n)return!1;return r}(n[0],t,s,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function iu(e,t,r){const n=[];for(let s=0;s<r.length;s++){const a=r[s],{first:i,last:o,point:l}=ou(a,t,"x");if(!(!l||i&&o))if(i)n.unshift(l);else if(e.push(l),!o)break}e.push(...n)}function ou(e,t,r){const n=e.interpolate(t,r);if(!n)return{};const s=n[r],a=e.segments,i=e.points;let o=!1,l=!1;for(let c=0;c<a.length;c++){const e=a[c],t=i[e.start][r],n=i[e.end][r];if(hi(s,t,n)){o=s===t,l=s===n;break}}return{first:o,last:l,point:n}}class lu{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:n,y:s,radius:a}=this;return t=t||{start:0,end:Wa},e.arc(n,s,a,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:n}=this,s=e.angle;return{x:t+Math.cos(s)*n,y:r+Math.sin(s)*n,angle:s}}}function cu(e){const{chart:t,fill:r,line:n}=e;if(Na(r))return function(e,t){const r=e.getDatasetMeta(t),n=r&&e.isDatasetVisible(t);return n?r.dataset:null}(t,r);if("stack"===r)return function(e){const{scale:t,index:r,line:n}=e,s=[],a=n.segments,i=n.points,o=function(e,t){const r=[],n=e.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const e=n[s];if(e.index===t)break;e.hidden||r.unshift(e.dataset)}return r}(t,r);o.push(ru({x:null,y:t.bottom},n));for(let l=0;l<a.length;l++){const e=a[l];for(let t=e.start;t<=e.end;t++)iu(s,i[t],o)}return new Rd({points:s,options:{}})}(e);if("shape"===r)return!0;const s=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:r}=e,n=t.options,s=t.getLabels().length,a=n.reverse?t.max:t.min,i=function(e,t,r){let n;return n="start"===e?r:"end"===e?t.options.reverse?t.min:t.max:ja(e)?e.value:t.getBaseValue(),n}(r,t,a),o=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,a);return new lu({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let l=0;l<s;++l)o.push(t.getPointPositionForValue(l,i));return o}(e);return function(e){const{scale:t={},fill:r}=e,n=function(e,t){let r=null;return"start"===e?r=t.bottom:"end"===e?r=t.top:ja(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}(r,t);if(Na(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return s instanceof lu?s:ru(s,n)}function du(e,t,r){const n=cu(t),{chart:s,index:a,line:i,scale:o,axis:l}=t,c=i.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:f=u}=d||{},m=s.getDatasetMeta(a),p=cl(s,m);n&&i.points.length&&(Xi(e,r),function(e,t){const{line:r,target:n,above:s,below:a,area:i,scale:o,clip:l}=t,c=r._loop?"angle":t.axis;e.save();let d=a;a!==s&&("x"===c?(uu(e,n,i.top),fu(e,{line:r,target:n,color:s,scale:o,property:c,clip:l}),e.restore(),e.save(),uu(e,n,i.bottom)):"y"===c&&(hu(e,n,i.left),fu(e,{line:r,target:n,color:a,scale:o,property:c,clip:l}),e.restore(),e.save(),hu(e,n,i.right),d=s));fu(e,{line:r,target:n,color:d,scale:o,property:c,clip:l}),e.restore()}(e,{line:i,target:n,above:h,below:f,area:r,scale:o,axis:l,clip:p}),Gi(e))}function uu(e,t,r){const{segments:n,points:s}=t;let a=!0,i=!1;e.beginPath();for(const o of n){const{start:n,end:l}=o,c=s[n],d=s[eu(n,l,s)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,r),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(d.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function hu(e,t,r){const{segments:n,points:s}=t;let a=!0,i=!1;e.beginPath();for(const o of n){const{start:n,end:l}=o,c=s[n],d=s[eu(n,l,s)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(r,c.y),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(r,d.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function fu(e,t){const{line:r,target:n,property:s,color:a,scale:i,clip:o}=t,l=function(e,t,r){const n=e.segments,s=e.points,a=t.points,i=[];for(const o of n){let{start:e,end:n}=o;n=eu(e,n,s);const l=Zd(r,s[e],s[n],o.loop);if(!t.segments){i.push({source:o,target:l,start:s[e],end:s[n]});continue}const c=sl(t,l);for(const t of c){const e=Zd(r,a[t.start],a[t.end],t.loop),n=nl(o,s,e);for(const s of n)i.push({source:s,target:t,start:{[r]:tu(l,e,"start",Math.max)},end:{[r]:tu(l,e,"end",Math.min)}})}}return i}(r,n,s);for(const{source:c,target:d,start:u,end:h}of l){const{style:{backgroundColor:t=a}={}}=c,l=!0!==n;e.save(),e.fillStyle=t,mu(e,i,o,l&&Zd(s,u,h)),e.beginPath();const f=!!r.pathSegment(e,c);let m;if(l){f?e.closePath():pu(e,n,h,s);const t=!!n.pathSegment(e,d,{move:f,reverse:!0});m=f&&t,m||pu(e,n,u,s)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function mu(e,t,r,n){const s=t.chart.chartArea,{property:a,start:i,end:o}=n||{};if("x"===a||"y"===a){let t,n,l,c;"x"===a?(t=i,n=s.top,l=o,c=s.bottom):(t=s.left,n=i,l=s.right,c=o),e.beginPath(),r&&(t=Math.max(t,r.left),l=Math.min(l,r.right),n=Math.max(n,r.top),c=Math.min(c,r.bottom)),e.rect(t,n,l-t,c-n),e.clip()}}function pu(e,t,r,n){const s=t.interpolate(r,n);s&&e.lineTo(s.x,s.y)}var gu={id:"filler",afterDatasetsUpdate(e,t,r){const n=(e.data.datasets||[]).length,s=[];let a,i,o,l;for(i=0;i<n;++i)a=e.getDatasetMeta(i),o=a.dataset,l=null,o&&o.options&&o instanceof Rd&&(l={visible:e.isDatasetVisible(i),index:i,fill:au(o,i,n),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,s.push(l);for(i=0;i<n;++i)l=s[i],l&&!1!==l.fill&&(l.fill=su(s,i,r.propagate))},beforeDraw(e,t,r){const n="beforeDraw"===r.drawTime,s=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let i=s.length-1;i>=0;--i){const t=s[i].$filler;t&&(t.line.updateControlPoints(a,t.axis),n&&t.fill&&du(e.ctx,t,a))}},beforeDatasetsDraw(e,t,r){if("beforeDatasetsDraw"!==r.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const t=n[s].$filler;nu(t)&&du(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,r){const n=t.meta.$filler;nu(n)&&"beforeDatasetDraw"===r.drawTime&&du(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const xu=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}};class yu extends Tc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ea(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,r)=>e.sort(t,r,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,n=fo(r.font),s=n.size,a=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=xu(r,s);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,s,i,o)+10):(c=this.maxHeight,l=this._fitCols(a,n,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,n){const{ctx:s,maxWidth:a,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+i;let d=e;s.textAlign="left",s.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,f)=>{const m=r+t/2+s.measureText(e.text).width;(0===f||l[l.length-1]+m+2*i>a)&&(d+=c,l[l.length-(f>0?0:1)]=0,h+=c,u++),o[f]={left:0,top:h,row:u,width:m,height:n},l[l.length-1]+=m+i})),d}_fitCols(e,t,r,n){const{ctx:s,maxHeight:a,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let d=i,u=0,h=0,f=0,m=0;return this.legendItems.forEach(((e,a)=>{const{itemWidth:p,itemHeight:g}=function(e,t,r,n,s){const a=function(e,t,r,n){let s=e.text;s&&"string"!==typeof s&&(s=s.reduce(((e,t)=>e.length>t.length?e:t)));return t+r.size/2+n.measureText(s).width}(n,e,t,r),i=function(e,t,r){let n=e;"string"!==typeof t.text&&(n=bu(t,r));return n}(s,n,t.lineHeight);return{itemWidth:a,itemHeight:i}}(r,t,s,e,n);a>0&&h+g+2*i>c&&(d+=u+i,l.push({width:u,height:h}),f+=u+i,m++,u=h=0),o[a]={left:f,top:h,col:m,width:p,height:g},u=Math.max(u,p),h+=g+i})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:n},rtl:s}}=this,a=Go(s,this.left,this.width);if(this.isHorizontal()){let s=0,i=ki(r,this.left+n,this.right-this.lineWidths[s]);for(const o of t)s!==o.row&&(s=o.row,i=ki(r,this.left+n,this.right-this.lineWidths[s])),o.top+=this.top+e+n,o.left=a.leftForLtr(a.x(i),o.width),i+=o.width+n}else{let s=0,i=ki(r,this.top+e+n,this.bottom-this.columnSizes[s].height);for(const o of t)o.col!==s&&(s=o.col,i=ki(r,this.top+e+n,this.bottom-this.columnSizes[s].height)),o.top=i,o.left+=this.left+n,o.left=a.leftForLtr(a.x(o.left),o.width),i+=o.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Xi(e,this),this._draw(),Gi(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:n}=this,{align:s,labels:a}=e,i=Hi.color,o=Go(e.rtl,this.left,this.width),l=fo(a.font),{padding:c}=a,d=l.size,u=d/2;let h;this.drawTitle(),n.textAlign=o.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:f,boxHeight:m,itemHeight:p}=xu(a,d),g=this.isHorizontal(),x=this._computeTitleHeight();h=g?{x:ki(s,this.left+c,this.right-r[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:ki(s,this.top+x+c,this.bottom-t[0].height),line:0},Zo(this.ctx,e.textDirection);const y=p+c;this.legendItems.forEach(((b,v)=>{n.strokeStyle=b.fontColor,n.fillStyle=b.fontColor;const w=n.measureText(b.text).width,k=o.textAlign(b.textAlign||(b.textAlign=a.textAlign)),j=f+u+w;let N=h.x,S=h.y;o.setWidth(this.width),g?v>0&&N+j+c>this.right&&(S=h.y+=y,h.line++,N=h.x=ki(s,this.left+c,this.right-r[h.line])):v>0&&S+y>this.bottom&&(N=h.x=N+t[h.line].width+c,h.line++,S=h.y=ki(s,this.top+x+c,this.bottom-t[h.line].height));if(function(e,t,r){if(isNaN(f)||f<=0||isNaN(m)||m<0)return;n.save();const s=_a(r.lineWidth,1);if(n.fillStyle=_a(r.fillStyle,i),n.lineCap=_a(r.lineCap,"butt"),n.lineDashOffset=_a(r.lineDashOffset,0),n.lineJoin=_a(r.lineJoin,"miter"),n.lineWidth=s,n.strokeStyle=_a(r.strokeStyle,i),n.setLineDash(_a(r.lineDash,[])),a.usePointStyle){const i={radius:m*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:s},l=o.xPlus(e,f/2);Qi(n,i,l,t+u,a.pointStyleWidth&&f)}else{const a=t+Math.max((d-m)/2,0),i=o.leftForLtr(e,f),l=uo(r.borderRadius);n.beginPath(),Object.values(l).some((e=>0!==e))?so(n,{x:i,y:a,w:f,h:m,radius:l}):n.rect(i,a,f,m),n.fill(),0!==s&&n.stroke()}n.restore()}(o.x(N),S,b),N=((e,t,r,n)=>e===(n?"left":"right")?r:"center"===e?(t+r)/2:t)(k,N+f+u,g?N+j:this.right,e.rtl),function(e,t,r){no(n,r.text,e,t+p/2,l,{strikethrough:r.hidden,textAlign:o.textAlign(r.textAlign)})}(o.x(N),S,b),g)h.x+=j+c;else if("string"!==typeof b.text){const e=l.lineHeight;h.y+=bu(b,e)+c}else h.y+=y})),el(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=fo(t.font),n=ho(t.padding);if(!t.display)return;const s=Go(e.rtl,this.left,this.width),a=this.ctx,i=t.position,o=r.size/2,l=n.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=ki(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+ki(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=ki(i,d,d+u);a.textAlign=s.textAlign(wi(i)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,no(a,t.text,h,c,r)}_computeTitleHeight(){const e=this.options.title,t=fo(e.font),r=ho(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,n,s;if(hi(e,this.left,this.right)&&hi(t,this.top,this.bottom))for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(n=s[r],hi(e,n.left,n.left+n.width)&&hi(t,n.top,n.top+n.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,i=(s=r,null!==(n=a)&&null!==s&&n.datasetIndex===s.datasetIndex&&n.index===s.index);a&&!i&&Ea(t.onLeave,[e,a,this],this),this._hoveredItem=r,r&&!i&&Ea(t.onHover,[e,r,this],this)}else r&&Ea(t.onClick,[e,r,this],this);var n,s}}function bu(e,t){return t*(e.text?e.text.length:0)}var vu={id:"legend",_element:yu,start(e,t,r){const n=e.legend=new yu({ctx:e.ctx,options:r,chart:e});fc.configure(e,n,r),fc.addBox(e,n)},stop(e){fc.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;fc.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:a,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(r?0:void 0),c=ho(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class wu extends Tc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=ka(r.text)?r.text.length:1;this._padding=ho(r.padding);const s=n*fo(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:n,right:s,options:a}=this,i=a.align;let o,l,c,d=0;return this.isHorizontal()?(l=ki(i,r,s),c=t+e,o=s-r):("left"===a.position?(l=r+e,c=ki(i,n,t),d=-.5*Ha):(l=s-e,c=ki(i,t,n),d=.5*Ha),o=n-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=fo(t.font),n=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:i,rotation:o}=this._drawArgs(n);no(e,t.text,0,0,r,{color:t.color,maxWidth:i,rotation:o,textAlign:wi(t.align),textBaseline:"middle",translation:[s,a]})}}var ku={id:"title",_element:wu,start(e,t,r){!function(e,t){const r=new wu({ctx:e.ctx,options:t,chart:e});fc.configure(e,r,t),fc.addBox(e,r),e.titleBlock=r}(e,r)},stop(e){const t=e.titleBlock;fc.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;fc.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ju=new WeakMap;var Nu={id:"subtitle",start(e,t,r){const n=new wu({ctx:e.ctx,options:r,chart:e});fc.configure(e,n,r),fc.addBox(e,n),ju.set(e,n)},stop(e){fc.removeBox(e,ju.get(e)),ju.delete(e)},beforeUpdate(e,t,r){const n=ju.get(e);fc.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Su={average(e){if(!e.length)return!1;let t,r,n=new Set,s=0,a=0;for(t=0,r=e.length;t<r;++t){const r=e[t].element;if(r&&r.hasValue()){const e=r.tooltipPosition();n.add(e.x),s+=e.y,++a}}if(0===a||0===n.size)return!1;return{x:[...n].reduce(((e,t)=>e+t))/n.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let r,n,s,a=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(r=0,n=e.length;r<n;++r){const n=e[r].element;if(n&&n.hasValue()){const e=oi(t,n.getCenterPoint());e<o&&(o=e,s=n)}}if(s){const e=s.tooltipPosition();a=e.x,i=e.y}return{x:a,y:i}}};function _u(e,t){return t&&(ka(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Cu(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Eu(e,t){const{element:r,datasetIndex:n,index:s}=t,a=e.getDatasetMeta(n).controller,{label:i,value:o}=a.getLabelAndValue(s);return{chart:e,label:i,parsed:a.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:o,dataset:a.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function Au(e,t){const r=e.chart.ctx,{body:n,footer:s,title:a}=e,{boxWidth:i,boxHeight:o}=t,l=fo(t.bodyFont),c=fo(t.titleFont),d=fo(t.footerFont),u=a.length,h=s.length,f=n.length,m=ho(t.padding);let p=m.height,g=0,x=n.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(x+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),x){p+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(x-f)*l.lineHeight+(x-1)*t.bodySpacing}h&&(p+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){g=Math.max(g,r.measureText(e).width+y)};return r.save(),r.font=c.string,Aa(e.title,b),r.font=l.string,Aa(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?i+2+t.boxPadding:0,Aa(n,(e=>{Aa(e.before,b),Aa(e.lines,b),Aa(e.after,b)})),y=0,r.font=d.string,Aa(e.footer,b),r.restore(),g+=m.width,{width:g,height:p}}function Pu(e,t,r,n){const{x:s,width:a}=r,{width:i,chartArea:{left:o,right:l}}=e;let c="center";return"center"===n?c=s<=(o+l)/2?"left":"right":s<=a/2?c="left":s>=i-a/2&&(c="right"),function(e,t,r,n){const{x:s,width:a}=n,i=r.caretSize+r.caretPadding;return"left"===e&&s+a+i>t.width||"right"===e&&s-a-i<0||void 0}(c,e,t,r)&&(c="center"),c}function Tu(e,t,r){const n=r.yAlign||t.yAlign||function(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||Pu(e,t,r,n),yAlign:n}}function Ru(e,t,r,n){const{caretSize:s,caretPadding:a,cornerRadius:i}=e,{xAlign:o,yAlign:l}=r,c=s+a,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=uo(i);let m=function(e,t){let{x:r,width:n}=e;return"right"===t?r-=n:"center"===t&&(r-=n/2),r}(t,o);const p=function(e,t,r){let{y:n,height:s}=e;return"top"===t?n+=r:n-="bottom"===t?s+r:s/2,n}(t,l,c);return"center"===l?"left"===o?m+=c:"right"===o&&(m-=c):"left"===o?m-=Math.max(d,h)+s:"right"===o&&(m+=Math.max(u,f)+s),{x:ui(m,0,n.width-t.width),y:ui(p,0,n.height-t.height)}}function Ou(e,t,r){const n=ho(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function Mu(e){return _u([],Cu(e))}function Lu(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const Du={beforeTitle:ba,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:ba,beforeBody:ba,beforeLabel:ba,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return wa(r)||(t+=r),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ba,afterBody:ba,beforeFooter:ba,footer:ba,afterFooter:ba};function Iu(e,t,r,n){const s=e[t].call(r,n);return"undefined"===typeof s?Du[t].call(r,n):s}class Fu extends Tc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&t.options.animation&&r.animations,s=new pl(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,r=this._tooltipItems,po(e,{tooltip:t,tooltipItems:r,type:"tooltip"})));var e,t,r}getTitle(e,t){const{callbacks:r}=t,n=Iu(r,"beforeTitle",this,e),s=Iu(r,"title",this,e),a=Iu(r,"afterTitle",this,e);let i=[];return i=_u(i,Cu(n)),i=_u(i,Cu(s)),i=_u(i,Cu(a)),i}getBeforeBody(e,t){return Mu(Iu(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,n=[];return Aa(e,(e=>{const t={before:[],lines:[],after:[]},s=Lu(r,e);_u(t.before,Cu(Iu(s,"beforeLabel",this,e))),_u(t.lines,Iu(s,"label",this,e)),_u(t.after,Cu(Iu(s,"afterLabel",this,e))),n.push(t)})),n}getAfterBody(e,t){return Mu(Iu(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,n=Iu(r,"beforeFooter",this,e),s=Iu(r,"footer",this,e),a=Iu(r,"afterFooter",this,e);let i=[];return i=_u(i,Cu(n)),i=_u(i,Cu(s)),i=_u(i,Cu(a)),i}_createItems(e){const t=this._active,r=this.chart.data,n=[],s=[],a=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(Eu(this.chart,t[i]));return e.filter&&(l=l.filter(((t,n,s)=>e.filter(t,n,s,r)))),e.itemSort&&(l=l.sort(((t,n)=>e.itemSort(t,n,r)))),Aa(l,(t=>{const r=Lu(e.callbacks,t);n.push(Iu(r,"labelColor",this,t)),s.push(Iu(r,"labelPointStyle",this,t)),a.push(Iu(r,"labelTextColor",this,t))})),this.labelColors=n,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),n=this._active;let s,a=[];if(n.length){const e=Su[r.position].call(this,n,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const t=this._size=Au(this,r),i=Object.assign({},e,t),o=Tu(this.chart,r,i),l=Ru(r,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,n){const s=this.getCaretPosition(e,r,n);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:n,yAlign:s}=this,{caretSize:a,cornerRadius:i}=r,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=uo(i),{x:u,y:h}=e,{width:f,height:m}=t;let p,g,x,y,b,v;return"center"===s?(b=h+m/2,"left"===n?(p=u,g=p-a,y=b+a,v=b-a):(p=u+f,g=p+a,y=b-a,v=b+a),x=p):(g="left"===n?u+Math.max(o,c)+a:"right"===n?u+f-Math.max(l,d)-a:this.caretX,"top"===s?(y=h,b=y-a,p=g-a,x=g+a):(y=h+m,b=y+a,p=g+a,x=g-a),v=y),{x1:p,x2:g,x3:x,y1:y,y2:b,y3:v}}drawTitle(e,t,r){const n=this.title,s=n.length;let a,i,o;if(s){const l=Go(r.rtl,this.x,this.width);for(e.x=Ou(this,r.titleAlign,r),t.textAlign=l.textAlign(r.titleAlign),t.textBaseline="middle",a=fo(r.titleFont),i=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,o=0;o<s;++o)t.fillText(n[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i,o+1===s&&(e.y+=r.titleMarginBottom-i)}}_drawColorBox(e,t,r,n,s){const a=this.labelColors[r],i=this.labelPointStyles[r],{boxHeight:o,boxWidth:l}=s,c=fo(s.bodyFont),d=Ou(this,"left",s),u=n.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(s.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},r=n.leftForLtr(u,l)+l/2,c=f+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Ki(e,t,r,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Ki(e,t,r,c)}else{e.lineWidth=ja(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=n.leftForLtr(u,l),r=n.leftForLtr(n.xPlus(u,1),l-2),i=uo(a.borderRadius);Object.values(i).some((e=>0!==e))?(e.beginPath(),e.fillStyle=s.multiKeyBackground,so(e,{x:t,y:f,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),so(e,{x:r,y:f+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=a.backgroundColor,e.fillRect(r,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:n}=this,{bodySpacing:s,bodyAlign:a,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:c}=r,d=fo(r.bodyFont);let u=d.lineHeight,h=0;const f=Go(r.rtl,this.x,this.width),m=function(r){t.fillText(r,f.x(e.x+h),e.y+u/2),e.y+=u+s},p=f.textAlign(a);let g,x,y,b,v,w,k;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=Ou(this,p,r),t.fillStyle=r.bodyColor,Aa(this.beforeBody,m),h=i&&"right"!==p?"center"===a?l/2+c:l+2+c:0,b=0,w=n.length;b<w;++b){for(g=n[b],x=this.labelTextColors[b],t.fillStyle=x,Aa(g.before,m),y=g.lines,i&&y.length&&(this._drawColorBox(t,e,b,f,r),u=Math.max(d.lineHeight,o)),v=0,k=y.length;v<k;++v)m(y[v]),u=d.lineHeight;Aa(g.after,m)}h=0,u=d.lineHeight,Aa(this.afterBody,m),e.y-=s}drawFooter(e,t,r){const n=this.footer,s=n.length;let a,i;if(s){const o=Go(r.rtl,this.x,this.width);for(e.x=Ou(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=o.textAlign(r.footerAlign),t.textBaseline="middle",a=fo(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,i=0;i<s;++i)t.fillText(n[i],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,n){const{xAlign:s,yAlign:a}=this,{x:i,y:o}=e,{width:l,height:c}=r,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=uo(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(i+d,o),"top"===a&&this.drawCaret(e,t,r,n),t.lineTo(i+l-u,o),t.quadraticCurveTo(i+l,o,i+l,o+u),"center"===a&&"right"===s&&this.drawCaret(e,t,r,n),t.lineTo(i+l,o+c-f),t.quadraticCurveTo(i+l,o+c,i+l-f,o+c),"bottom"===a&&this.drawCaret(e,t,r,n),t.lineTo(i+h,o+c),t.quadraticCurveTo(i,o+c,i,o+c-h),"center"===a&&"left"===s&&this.drawCaret(e,t,r,n),t.lineTo(i,o+d),t.quadraticCurveTo(i,o,i+d,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,n=r&&r.x,s=r&&r.y;if(n||s){const r=Su[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Au(this,e),i=Object.assign({},r,this._size),o=Tu(t,e,i),l=Ru(e,i,o,t);n._to===l.x&&s._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=ho(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,n,t),Zo(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),el(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,n=e.map((e=>{let{datasetIndex:t,index:r}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[r],index:r}})),s=!Pa(r,n),a=this._positionChanged(n,t);(s||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),i=this._positionChanged(a,e),o=t||!Pa(a,s)||i;return o&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,r,n){const s=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:n,options:s}=this,a=Su[s.position].call(this,e,t);return!1!==a&&(r!==a.x||n!==a.y)}}d(Fu,"positioners",Su);var zu={id:"tooltip",_element:Fu,positioners:Su,afterInit(e,t,r){r&&(e.tooltip=new Fu({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",h(h({},r),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Du},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Bu=Object.freeze({__proto__:null,Colors:Qd,Decimation:Gd,Filler:gu,Legend:vu,SubTitle:Nu,Title:ku,Tooltip:zu});function Vu(e,t,r,n){const s=e.indexOf(t);if(-1===s)return((e,t,r,n)=>("string"===typeof t?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r))(e,t,r,n);return s!==e.lastIndexOf(t)?r:s}function Uu(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Hu extends Vc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:r,label:n}of t)e[r]===n&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(wa(e))return null;const r=this.getLabels();return((e,t)=>null===e?null:ui(Math.round(e),0,t))(t=isFinite(t)&&r[t]===e?t:Vu(r,e,_a(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,n=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)n.push({value:a});return n}getLabelForValue(e){return Uu.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Wu(e,t){const r=[],{bounds:n,step:s,min:a,max:i,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=s||1,f=c-1,{min:m,max:p}=t,g=!wa(a),x=!wa(i),y=!wa(l),b=(p-m)/(d+1);let v,w,k,j,N=ei((p-m)/f/h)*h;if(N<1e-14&&!g&&!x)return[{value:m},{value:p}];j=Math.ceil(p/N)-Math.floor(m/N),j>f&&(N=ei(j*N/f/h)*h),wa(o)||(v=Math.pow(10,o),N=Math.ceil(N*v)/v),"ticks"===n?(w=Math.floor(m/N)*N,k=Math.ceil(p/N)*N):(w=m,k=p),g&&x&&s&&function(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}((i-a)/s,N/1e3)?(j=Math.round(Math.min((i-a)/N,c)),N=(i-a)/j,w=a,k=i):y?(w=g?a:w,k=x?i:k,j=l-1,N=(k-w)/j):(j=(k-w)/N,j=Za(j,Math.round(j),N/1e3)?Math.round(j):Math.ceil(j));const S=Math.max(ai(N),ai(w));v=Math.pow(10,wa(o)?S:o),w=Math.round(w*v)/v,k=Math.round(k*v)/v;let _=0;for(g&&(u&&w!==a?(r.push({value:a}),w<a&&_++,Za(Math.round((w+_*N)*v)/v,a,qu(a,b,e))&&_++):w<a&&_++);_<j;++_){const e=Math.round((w+_*N)*v)/v;if(x&&e>i)break;r.push({value:e})}return x&&u&&k!==i?r.length&&Za(r[r.length-1].value,i,qu(i,b,e))?r[r.length-1].value=i:r.push({value:i}):x&&k!==i||r.push({value:k}),r}function qu(e,t,r){let{horizontal:n,minRotation:s}=r;const a=ni(s),i=(n?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}d(Hu,"id","category"),d(Hu,"defaults",{ticks:{callback:Uu}});class $u extends Vc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return wa(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this;const a=e=>n=t?n:e,i=e=>s=r?s:e;if(e){const e=Ga(n),t=Ga(s);e<0&&t<0?i(0):e>0&&t>0&&a(0)}if(n===s){let t=0===s?1:Math.abs(.05*s);i(s+t),e||a(n-t)}this.min=n,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:r,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(n," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n=Wu({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&ri(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const n=(r-t)/Math.max(e.length-1,1)/2;t-=n,r+=n}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Li(e,this.chart.options.locale,this.options.ticks.format)}}class Yu extends $u{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Na(e)?e:0,this.max=Na(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=ni(this.options.ticks.minRotation),n=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}d(Yu,"id","linear"),d(Yu,"defaults",{ticks:{callback:Ii.formatters.numeric}});const Ku=e=>Math.floor(Xa(e)),Qu=(e,t)=>Math.pow(10,Ku(e)+t);function Ju(e){return 1===e/Math.pow(10,Ku(e))}function Xu(e,t,r){const n=Math.pow(10,r),s=Math.floor(e/n);return Math.ceil(t/n)-s}function Gu(e,t){let{min:r,max:n}=t;r=Sa(e.min,r);const s=[],a=Ku(r);let i=function(e,t){let r=Ku(t-e);for(;Xu(e,t,r)>10;)r++;for(;Xu(e,t,r)<10;)r--;return Math.min(r,Ku(e))}(r,n),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=a>i?Math.pow(10,a):0,d=Math.round((r-c)*o)/o,u=Math.floor((r-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,i)),f=Sa(e.min,Math.round((c+u+h*Math.pow(10,i))*o)/o);for(;f<n;)s.push({value:f,major:Ju(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),f=Math.round((c+u+h*Math.pow(10,i))*o)/o;const m=Sa(e.max,f);return s.push({value:m,major:Ju(m),significand:h}),s}class Zu extends Vc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=$u.prototype.parse.apply(this,[e,t]);if(0!==r)return Na(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Na(e)?Math.max(0,e):null,this.max=Na(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Na(this._userMin)&&(this.min=e===Qu(this.min,0)?Qu(this.min,-1):Qu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,n=this.max;const s=t=>r=e?r:t,a=e=>n=t?n:e;r===n&&(r<=0?(s(1),a(10)):(s(Qu(r,-1)),a(Qu(n,1)))),r<=0&&s(Qu(n,-1)),n<=0&&a(Qu(r,1)),this.min=r,this.max=n}buildTicks(){const e=this.options,t=Gu({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&ri(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Li(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Xa(e),this._valueRange=Xa(this.max)-Xa(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Xa(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function eh(e){const t=e.ticks;if(t.display&&e.display){const e=ho(t.backdropPadding);return _a(t.font&&t.font.size,Hi.font.size)+e.height}return 0}function th(e,t,r,n,s){return e===n||e===s?{start:t-r/2,end:t+r/2}:e<n||e>s?{start:t-r,end:t}:{start:t,end:t+r}}function rh(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),n=[],s=[],a=e._pointLabels.length,i=e.options.pointLabels,o=i.centerPointLabels?Ha/a:0;for(let u=0;u<a;u++){const a=i.setContext(e.getPointLabelContext(u));s[u]=a.padding;const h=e.getPointPosition(u,e.drawingArea+s[u],o),f=fo(a.font),m=(l=e.ctx,c=f,d=ka(d=e._pointLabels[u])?d:[d],{w:qi(l,c.string,d),h:d.length*c.lineHeight});n[u]=m;const p=ci(e.getIndexAngle(u)+o),g=Math.round(si(p));nh(r,t,p,th(g,h.x,m.w,0,180),th(g,h.y,m.h,90,270))}var l,c,d;e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=function(e,t,r){const n=[],s=e._pointLabels.length,a=e.options,{centerPointLabels:i,display:o}=a.pointLabels,l={extra:eh(a)/2,additionalAngle:i?Ha/s:0};let c;for(let d=0;d<s;d++){l.padding=r[d],l.size=t[d];const s=sh(e,d,l);n.push(s),"auto"===o&&(s.visible=ah(s,c),s.visible&&(c=s))}return n}(e,n,s)}function nh(e,t,r,n,s){const a=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let o=0,l=0;n.start<t.l?(o=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),s.start<t.t?(l=(t.t-s.start)/i,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/i,e.b=Math.max(e.b,t.b+l))}function sh(e,t,r){const n=e.drawingArea,{extra:s,additionalAngle:a,padding:i,size:o}=r,l=e.getPointPosition(t,n+s+i,a),c=Math.round(si(ci(l.angle+Ka))),d=function(e,t,r){90===r||270===r?e-=t/2:(r>270||r<90)&&(e-=t);return e}(l.y,o.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,r){"right"===r?e-=t:"center"===r&&(e-=t/2);return e}(l.x,o.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+o.w,bottom:d+o.h}}function ah(e,t){if(!t)return!0;const{left:r,top:n,right:s,bottom:a}=e;return!(Ji({x:r,y:n},t)||Ji({x:r,y:a},t)||Ji({x:s,y:n},t)||Ji({x:s,y:a},t))}function ih(e,t,r){const{left:n,top:s,right:a,bottom:i}=r,{backdropColor:o}=t;if(!wa(o)){const r=uo(t.borderRadius),l=ho(t.backdropPadding);e.fillStyle=o;const c=n-l.left,d=s-l.top,u=a-n+l.width,h=i-s+l.height;Object.values(r).some((e=>0!==e))?(e.beginPath(),so(e,{x:c,y:d,w:u,h:h,radius:r}),e.fill()):e.fillRect(c,d,u,h)}}function oh(e,t,r,n){const{ctx:s}=e;if(r)s.arc(e.xCenter,e.yCenter,t,0,Wa);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let a=1;a<n;a++)r=e.getPointPosition(a,t),s.lineTo(r.x,r.y)}}d(Zu,"id","logarithmic"),d(Zu,"defaults",{ticks:{callback:Ii.formatters.logarithmic,major:{enabled:!0}}});class lh extends $u{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ho(eh(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Na(e)&&!isNaN(e)?e:0,this.max=Na(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/eh(this.options))}generateTickLabels(e){$u.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const r=Ea(this.options.pointLabels.callback,[e,t],this);return r||0===r?r:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?rh(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,n))}getIndexAngle(e){return ci(e*(Wa/(this._pointLabels.length||1))+ni(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(wa(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(wa(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function(e,t,r){return po(e,{label:r,index:t,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getIndexAngle(e)-Ka+r;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:n,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:n,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),oh(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:n,border:s}=t,a=this._pointLabels.length;let i,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:r,options:{pointLabels:n}}=e;for(let s=t-1;s>=0;s--){const t=e._pointLabelItems[s];if(!t.visible)continue;const a=n.setContext(e.getPointLabelContext(s));ih(r,a,t);const i=fo(a.font),{x:o,y:l,textAlign:c}=t;no(r,e._pointLabels[s],o,l+i.lineHeight/2,i,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),n.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const r=this.getContext(t),i=n.setContext(r),l=s.setContext(r);!function(e,t,r,n,s){const a=e.ctx,i=t.circular,{color:o,lineWidth:l}=t;!i&&!n||!o||!l||r<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(s.dash||[]),a.lineDashOffset=s.dashOffset,a.beginPath(),oh(e,r,i,n),a.closePath(),a.stroke(),a.restore())}(this,i,o,a,l)}})),r.display){for(e.save(),i=a-1;i>=0;i--){const n=r.setContext(this.getPointLabelContext(i)),{color:s,lineWidth:a}=n;a&&s&&(e.lineWidth=a,e.strokeStyle=s,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(i,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((n,i)=>{if(0===i&&this.min>=0&&!t.reverse)return;const o=r.setContext(this.getContext(i)),l=fo(o.font);if(s=this.getDistanceFromCenterForValue(this.ticks[i].value),o.showLabelBackdrop){e.font=l.string,a=e.measureText(n.label).width,e.fillStyle=o.backdropColor;const t=ho(o.backdropPadding);e.fillRect(-a/2-t.left,-s-l.size/2-t.top,a+t.width,l.size+t.height)}no(e,n.label,0,-s,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})})),e.restore()}drawTitle(){}}d(lh,"id","radialLinear"),d(lh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ii.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),d(lh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),d(lh,"descriptors",{angleLines:{_fallback:"grid"}});const ch={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dh=Object.keys(ch);function uh(e,t){return e-t}function hh(e,t){if(wa(t))return null;const r=e._adapter,{parser:n,round:s,isoWeekday:a}=e._parseOpts;let i=t;return"function"===typeof n&&(i=n(i)),Na(i)||(i="string"===typeof n?r.parse(i,n):r.parse(i)),null===i?null:(s&&(i="week"!==s||!ti(a)&&!0!==a?r.startOf(i,s):r.startOf(i,"isoWeek",a)),+i)}function fh(e,t,r,n){const s=dh.length;for(let a=dh.indexOf(e);a<s-1;++a){const e=ch[dh[a]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(s*e.size))<=n)return dh[a]}return dh[s-1]}function mh(e,t,r){if(r){if(r.length){const{lo:n,hi:s}=fi(r,t);e[r[n]>=t?r[n]:r[s]]=!0}}else e[t]=!0}function ph(e,t,r){const n=[],s={},a=t.length;let i,o;for(i=0;i<a;++i)o=t[i],s[o]=i,n.push({value:o,major:!1});return 0!==a&&r?function(e,t,r,n){const s=e._adapter,a=+s.startOf(t[0].value,n),i=t[t.length-1].value;let o,l;for(o=a;o<=i;o=+s.add(o,1,n))l=r[o],l>=0&&(t[l].major=!0);return t}(e,n,s,r):n}class gh extends Vc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.time||(e.time={}),n=this._adapter=new Yl(e.adapters.date);n.init(t),La(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:hh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:n,max:s,minDefined:a,maxDefined:i}=this.getUserBounds();function o(e){a||isNaN(e.min)||(n=Math.min(n,e.min)),i||isNaN(e.max)||(s=Math.max(s,e.max))}a&&i||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),n=Na(n)&&!isNaN(n)?n:+t.startOf(Date.now(),r),s=Na(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(n,s-1),this.max=Math.max(n+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,n="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const s=this.min,a=function(e,t,r){let n=0,s=e.length;for(;n<s&&e[n]<t;)n++;for(;s>n&&e[s-1]>r;)s--;return n>0||s<e.length?e.slice(n,s):e}(n,s,this.max);return this._unit=t.unit||(r.autoSkip?fh(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,r,n,s){for(let a=dh.length-1;a>=dh.indexOf(r);a--){const r=dh[a];if(ch[r].common&&e._adapter.diff(s,n,r)>=t-1)return r}return dh[r?dh.indexOf(r):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=dh.indexOf(e)+1,r=dh.length;t<r;++t)if(ch[dh[t]].common)return dh[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&a.reverse(),ph(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,s=0;this.options.offset&&r.length&&(e=this.getDecimalForValue(r[0]),n=1===r.length?1-e:(this.getDecimalForValue(r[1])-e)/2,t=this.getDecimalForValue(r[r.length-1]),s=1===r.length?t:(t-this.getDecimalForValue(r[r.length-2]))/2);const a=r.length<3?.5:.25;n=ui(n,0,a),s=ui(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,t=this.min,r=this.max,n=this.options,s=n.time,a=s.unit||fh(s.minUnit,t,r,this._getLabelCapacity(t)),i=_a(n.ticks.stepSize,1),o="week"===a&&s.isoWeekday,l=ti(o)||!0===o,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":a),e.diff(r,t,a)>1e5*i)throw new Error(t+" and "+r+" are too far apart with stepSize of "+i+" "+a);const f="data"===n.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<r;d=+e.add(d,i,a),u++)mh(c,d,f);return d!==r&&"ticks"!==n.bounds&&1!==u||mh(c,d,f),Object.keys(c).sort(uh).map((e=>+e))}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,n=this._unit,s=t||r[n];return this._adapter.format(e,s)}_tickFormatFunction(e,t,r,n){const s=this.options,a=s.ticks.callback;if(a)return Ea(a,[e,t,r],this);const i=s.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&i[o],d=l&&i[l],u=r[t],h=l&&d&&u&&u.major;return this._adapter.format(e,n||(h?d:c))}generateTickLabels(e){let t,r,n;for(t=0,r=e.length;t<r;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,n=ni(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(n),a=Math.sin(n),i=this._resolveTickFontOptions(0).size;return{w:r*s+i*a,h:r*a+i*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,n=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,ph(this,[e],this._majorUnit),n),a=this._getLabelSize(s),i=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)r=r.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const n=this.getLabels();for(t=0,r=n.length;t<r;++t)e.push(hh(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yi(e.sort(uh))}}function xh(e,t,r){let n,s,a,i,o=0,l=e.length-1;r?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=mi(e,"pos",t)),({pos:n,time:a}=e[o]),({pos:s,time:i}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=mi(e,"time",t)),({time:n,pos:a}=e[o]),({time:s,pos:i}=e[l]));const c=s-n;return c?a+(i-a)*(t-n)/c:a}d(gh,"id","time"),d(gh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class yh extends gh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=xh(t,this.min),this._tableRange=xh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,n=[],s=[];let a,i,o,l,c;for(a=0,i=e.length;a<i;++a)l=e[a],l>=t&&l<=r&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,i=n.length;a<i;++a)c=n[a+1],o=n[a-1],l=n[a],Math.round((c+o)/2)!==l&&s.push({time:l,pos:a/(i-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(xh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return xh(this._table,r*this._tableRange+this._minPos,!0)}}d(yh,"id","timeseries"),d(yh,"defaults",gh.defaults);const bh=[Wl,Ud,Bu,Object.freeze({__proto__:null,CategoryScale:Hu,LinearScale:Yu,LogarithmicScale:Zu,RadialLinearScale:lh,TimeScale:gh,TimeSeriesScale:yh})],vh=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],wh="label";function kh(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function jh(e,t){e.labels=t}function Nh(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wh;const n=[];e.datasets=t.map((t=>{const s=e.datasets.find((e=>e[r]===t[r]));return s&&t.data&&!n.includes(s)?(n.push(s),Object.assign(s,t),s):h({},t)}))}function Sh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wh;const r={labels:[],datasets:[]};return jh(r,e.labels),Nh(r,e.datasets,t),r}function _h(e,t){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:l,data:c,options:d,plugins:u=[],fallbackContent:f,updateMode:m}=e,p=o(e,vh),g=(0,a.useRef)(null),x=(0,a.useRef)(null),y=()=>{g.current&&(x.current=new xd(g.current,{type:l,data:Sh(c,i),options:d&&h({},d),plugins:u}),kh(t,x.current))},b=()=>{kh(t,null),x.current&&(x.current.destroy(),x.current=null)};return(0,a.useEffect)((()=>{!s&&x.current&&d&&function(e,t){const r=e.options;r&&t&&Object.assign(r,t)}(x.current,d)}),[s,d]),(0,a.useEffect)((()=>{!s&&x.current&&jh(x.current.config.data,c.labels)}),[s,c.labels]),(0,a.useEffect)((()=>{!s&&x.current&&c.datasets&&Nh(x.current.config.data,c.datasets,i)}),[s,c.datasets]),(0,a.useEffect)((()=>{x.current&&(s?(b(),setTimeout(y)):x.current.update(m))}),[s,d,c.labels,c.datasets,m]),(0,a.useEffect)((()=>{x.current&&(b(),setTimeout(y))}),[l]),(0,a.useEffect)((()=>(y(),()=>b())),[]),a.createElement("canvas",h({ref:g,role:"img",height:r,width:n},p),f)}const Ch=(0,a.forwardRef)(_h);function Eh(e,t){return xd.register(t),(0,a.forwardRef)(((t,r)=>a.createElement(Ch,h(h({},t),{},{ref:r,type:e}))))}const Ah=Eh("line",zl),Ph=Eh("bar",Dl),Th=Eh("radar",Ul),Rh=Eh("doughnut",Fl);function Oh(){const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)("30d"),[c,d]=(0,a.useState)("overview"),u=localStorage.getItem("vendorId"),h=(0,a.useCallback)((async()=>{try{n(!0),i(null);const e="https://trustlens-production-backend.up.railway.app/api",r=await fetch("".concat(e,"/vendor/vendors/").concat(u,"/analytics/dashboard?period=").concat(o),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));const s=await r.json();t(s)}catch(s){console.error("Analytics fetch error:",s),i("Unable to load analytics data. This may be due to:\n\n\u2022 Database connection timeout\n\u2022 Server temporarily unavailable\n\u2022 Network connectivity issues\n\nPlease try refreshing the page or contact support if the issue persists.")}finally{n(!1)}}),[o,u]);(0,a.useEffect)((()=>{u&&h()}),[u,h]);if(r)return(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,_t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-500"})});if(s)return(0,_t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s});if(!e)return(0,_t.jsx)("div",{className:"text-center py-12",children:(0,_t.jsx)("p",{className:"text-gray-500",children:"No analytics data available"})});const f={labels:e.revenueChart.map((e=>new Date(e.date).toLocaleDateString())),datasets:[{label:"Revenue (\u20b9)",data:e.revenueChart.map((e=>e.revenue)),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4},{label:"Orders",data:e.revenueChart.map((e=>e.orders)),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,yAxisID:"y1"}]},m={responsive:!0,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Revenue (\u20b9)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Orders"},grid:{drawOnChartArea:!1}}},plugins:{legend:{position:"top"},title:{display:!0,text:"Revenue & Orders Trend"}}},p={labels:Object.keys(e.statusBreakdown),datasets:[{data:Object.values(e.statusBreakdown),backgroundColor:["#FEF3C7","#DBEAFE","#E0E7FF","#F3E8FF","#D1FAE5","#FEE2E2","#FED7AA"],borderColor:["#F59E0B","#3B82F6","#6366F1","#8B5CF6","#10B981","#EF4444","#F97316"],borderWidth:2}]};return(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,_t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),(0,_t.jsx)("div",{className:"flex space-x-2",children:["7d","30d","90d","1y"].map((e=>(0,_t.jsx)("button",{onClick:()=>(e=>{l(e)})(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(o===e?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"7d"===e?"7 Days":"30d"===e?"30 Days":"90d"===e?"90 Days":"1 Year"},e)))})]}),(0,_t.jsx)("div",{className:"mb-6",children:(0,_t.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",name:"Overview",icon:""},{id:"revenue",name:"Revenue",icon:""},{id:"customers",name:"Customers",icon:""}].map((e=>(0,_t.jsxs)("button",{onClick:()=>d(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(c===e.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.icon," ",e.name]},e.id)))})}),"overview"===c&&(0,_t.jsxs)("div",{className:"space-y-6",children:[(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,_t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"bg-green-100 p-3 rounded-full",children:(0,_t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["\u20b9",e.overview.totalRevenue]}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),(0,_t.jsxs)("p",{className:"text-xs ".concat(e.overview.revenueGrowth>=0?"text-green-600":"text-red-600"),children:[e.overview.revenueGrowth>=0?"+":"",e.overview.revenueGrowth.toFixed(1),"% vs prev period"]})]})]})}),(0,_t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"bg-blue-100 p-3 rounded-full",children:(0,_t.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.overview.totalOrders}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Orders"}),(0,_t.jsxs)("p",{className:"text-xs ".concat(e.overview.orderGrowth>=0?"text-green-600":"text-red-600"),children:[e.overview.orderGrowth>=0?"+":"",e.overview.orderGrowth.toFixed(1),"% vs prev period"]})]})]})}),(0,_t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"bg-purple-100 p-3 rounded-full",children:(0,_t.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["\u20b9",e.overview.avgOrderValue]}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Order Value"})]})]})}),(0,_t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"bg-yellow-100 p-3 rounded-full",children:(0,_t.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.overview.returnRate,"%"]}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Return Rate"})]})]})})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,_t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,_t.jsx)(Ah,{data:f,options:m})}),(0,_t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Order Status Distribution"}),(0,_t.jsx)(Rh,{data:p})]})]})]}),"revenue"===c&&(0,_t.jsxs)("div",{className:"space-y-6",children:[(0,_t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,_t.jsx)(Ah,{data:f,options:m})}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,_t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Revenue Growth"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold ".concat(e.overview.revenueGrowth>=0?"text-green-600":"text-red-600"),children:[e.overview.revenueGrowth>=0?"+":"",e.overview.revenueGrowth.toFixed(1),"%"]}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"vs previous period"})]}),(0,_t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Average Order Value"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["\u20b9",e.overview.avgOrderValue]})]}),(0,_t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["\u20b9",e.overview.totalRevenue]})]})]})]}),"customers"===c&&(0,_t.jsx)("div",{className:"space-y-6",children:(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,_t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold",children:"Top Customers"})}),(0,_t.jsx)("div",{className:"overflow-x-auto",children:(0,_t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,_t.jsx)("thead",{className:"bg-gray-50",children:(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Spent"}),(0,_t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Order"})]})}),(0,_t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.topCustomers.map(((e,t)=>(0,_t.jsxs)("tr",{children:[(0,_t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,_t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.customerName}),(0,_t.jsx)("div",{className:"text-sm text-gray-500",children:e.customerEmail})]}),(0,_t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.orders}),(0,_t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["\u20b9",e.totalSpent]}),(0,_t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["\u20b9",(e.totalSpent/e.orders).toFixed(2)]})]},t)))})]})})]})})]})}xd.register(Hu,Yu,Md,Rd,Vd,ku,zu,vu,jd),xd.register(Hu,Yu,Md,Rd,ku,zu,vu,jd);const Mh=e=>{let{vendorId:t}=e;const[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)("all"),[f,m]=(0,a.useState)("all"),[p,g]=(0,a.useState)({}),[x,y]=(0,a.useState)(null),[b,v]=(0,a.useState)("");(0,a.useEffect)((()=>{t&&w()}),[t]),(0,a.useEffect)((()=>{k()}),[r,u,f]);const w=async()=>{try{l(!0),d(null);const e="https://trustlens-production-backend.up.railway.app/api",r=await fetch("".concat(e,"/vendor/vendors/").concat(t,"/alerts"),{headers:{Accept:"application/json"}});if(!r.ok)throw new Error("HTTP ".concat(r.status,": ").concat(r.statusText));const s=await r.json();n(s.alerts||[]),g(s.stats||{}),v(s.vendorName||""),l(!1)}catch(c){console.error("Error fetching vendor alerts:",c),d("Failed to fetch alerts: ".concat(c.message)),l(!1)}},k=()=>{let e=r;"all"!==u&&(e=e.filter((e=>e.status===u))),"all"!==f&&(e=e.filter((e=>e.severity===f))),i(e)},j=async e=>{try{const r="https://trustlens-production-backend.up.railway.app/api",n=await fetch("".concat(r,"/vendor/vendors/").concat(t,"/alerts/").concat(e,"/resolve"),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok){const e=await n.text();throw new Error("HTTP ".concat(n.status,": ").concat(e))}await w(),y(null),alert("Alert resolved successfully!")}catch(c){console.error("Error resolving alert:",c),alert("Failed to resolve alert: ".concat(c.message))}},N=async e=>{try{const r="https://trustlens-production-backend.up.railway.app/api",n=await fetch("".concat(r,"/vendor/vendors/").concat(t,"/alerts/").concat(e,"/dismiss"),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok){const e=await n.text();throw new Error("HTTP ".concat(n.status,": ").concat(e))}await w(),y(null),alert("Alert dismissed successfully!")}catch(c){console.error("Error dismissing alert:",c),alert("Failed to dismiss alert: ".concat(c.message))}},S=e=>({Critical:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 border-purple-200 dark:border-purple-700",High:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 border-red-200 dark:border-red-700",Medium:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 border-yellow-200 dark:border-yellow-700",Low:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 border-green-200 dark:border-green-700"}[e]||"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"),_=e=>({Critical:"",High:"",Medium:"",Low:""}[e]||""),C={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}};return o?(0,_t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,_t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):c?(0,_t.jsx)("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-200 px-4 py-3 rounded mb-4",children:(0,_t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_t.jsx)("span",{children:c}),(0,_t.jsx)("button",{onClick:w,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"Retry"})]})}):(0,_t.jsxs)("div",{className:"space-y-6",children:[(0,_t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Vendor Alerts Dashboard"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:b?"Managing alerts for ".concat(b):"Loading vendor information..."})]}),(0,_t.jsxs)("div",{className:"flex gap-2",children:[(0,_t.jsx)("button",{onClick:async()=>{try{const e={type:"Bot Behavior",severity:"Medium",description:"Test alert for vendor ".concat(b," - suspicious activity detected"),data:{source:"manual_test",timestamp:(new Date).toISOString()}},r="https://trustlens-production-backend.up.railway.app/api",n=await fetch("".concat(r,"/vendor/vendors/").concat(t,"/alerts"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!n.ok){const e=await n.text();throw new Error("HTTP ".concat(n.status,": ").concat(e))}await w(),alert("Test alert created successfully!")}catch(c){console.error("Error creating test alert:",c),alert("Failed to create alert: ".concat(c.message))}},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Create Test Alert"}),(0,_t.jsx)("button",{onClick:w,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"\ud83d\udd04 Refresh"})]})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border",children:[(0,_t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p.total||0}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Alerts"})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border",children:[(0,_t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:p.active||0}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active"})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border",children:[(0,_t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:p.critical||0}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Critical"})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border",children:[(0,_t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:p.resolved||0}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Resolved"})]})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Alerts by Severity"}),(0,_t.jsx)("div",{className:"h-64",children:(0,_t.jsx)(Rh,{data:{labels:["Critical","High","Medium","Low"],datasets:[{data:[p.critical||0,p.high||0,p.medium||0,p.low||0],backgroundColor:["#8B5CF6","#EF4444","#F59E0B","#10B981"],borderWidth:2,borderColor:"#374151"}]},options:C})})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Alerts by Status"}),(0,_t.jsx)("div",{className:"h-64",children:(0,_t.jsx)(Rh,{data:{labels:["Active","Resolved","Dismissed"],datasets:[{data:[p.active||0,p.resolved||0,p.dismissed||0],backgroundColor:["#EF4444","#10B981","#6B7280"],borderWidth:2,borderColor:"#374151"}]},options:C})})]})]}),(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border",children:(0,_t.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,_t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_t.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status:"}),(0,_t.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,_t.jsx)("option",{value:"all",children:"All Status"}),(0,_t.jsx)("option",{value:"Active",children:"Active"}),(0,_t.jsx)("option",{value:"Resolved",children:"Resolved"}),(0,_t.jsx)("option",{value:"Dismissed",children:"Dismissed"})]})]}),(0,_t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_t.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Severity:"}),(0,_t.jsxs)("select",{value:f,onChange:e=>m(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,_t.jsx)("option",{value:"all",children:"All Severities"}),(0,_t.jsx)("option",{value:"Critical",children:"Critical"}),(0,_t.jsx)("option",{value:"High",children:"High"}),(0,_t.jsx)("option",{value:"Medium",children:"Medium"}),(0,_t.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,_t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",s.length," of ",r.length," alerts"]})]})}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow border",children:[(0,_t.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Alerts"})}),(0,_t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:0===s.length?(0,_t.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:0===r.length?"No alerts found for this vendor.":"No alerts match the current filters."}):s.map((e=>(0,_t.jsx)("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>y(e),children:(0,_t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,_t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_t.jsx)("div",{className:"text-2xl",children:_(e.severity)}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,_t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full border ".concat(S(e.severity)),children:e.severity}),(0,_t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.type})]}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),(0,_t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[(0,_t.jsx)("span",{children:new Date(e.createdAt).toLocaleString()}),(0,_t.jsx)("span",{className:"px-2 py-1 rounded-full ".concat("Active"===e.status?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"Resolved"===e.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),children:e.status})]})]})]}),"Active"===e.status&&(0,_t.jsxs)("div",{className:"flex gap-2",children:[(0,_t.jsx)("button",{onClick:t=>{t.stopPropagation(),j(e._id)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-medium",children:"Resolve"}),(0,_t.jsx)("button",{onClick:t=>{t.stopPropagation(),N(e._id)},className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-xs font-medium",children:"Dismiss"})]})]})},e._id)))})]}),x&&(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-96 overflow-y-auto",children:(0,_t.jsxs)("div",{className:"p-6",children:[(0,_t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,_t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,_t.jsx)("div",{className:"text-3xl",children:_(x.severity)}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:x.type}),(0,_t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,_t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full border ".concat(S(x.severity)),children:x.severity}),(0,_t.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("Active"===x.status?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"Resolved"===x.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),children:x.status})]})]})]}),(0,_t.jsx)("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\u2715"})]}),(0,_t.jsxs)("div",{className:"space-y-4",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Description"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:x.description})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Details"}),(0,_t.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded text-sm",children:(0,_t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Created:"}),(0,_t.jsx)("span",{className:"text-gray-900 dark:text-white",children:new Date(x.createdAt).toLocaleString()}),(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Target:"}),(0,_t.jsx)("span",{className:"text-gray-900 dark:text-white font-mono text-xs",children:x.target}),(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Type:"}),(0,_t.jsx)("span",{className:"text-gray-900 dark:text-white",children:x.targetType})]})})]}),x.actions&&x.actions.length>0&&(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Suggested Actions"}),(0,_t.jsx)("div",{className:"flex flex-wrap gap-2",children:x.actions.map(((e,t)=>(0,_t.jsx)("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded text-sm",children:e},t)))})]}),"Active"===x.status&&(0,_t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,_t.jsx)("button",{onClick:()=>j(x._id),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-medium",children:"\u2713 Resolve Alert"}),(0,_t.jsx)("button",{onClick:()=>N(x._id),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded font-medium",children:"Dismiss"})]})]})]})})})]})};function Lh(){var e,t,r,n;const s=ge(),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(""),[h,f]=(0,a.useState)("dashboard");(0,a.useEffect)((()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("userRole"),r=localStorage.getItem("vendorId");e&&"vendor"===t&&r?m(r):s("/vendor/login")}),[s]);const m=async e=>{try{const t="https://trustlens-production-backend.up.railway.app/api",r=await fetch("".concat(t,"/vendor/vendors/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(r.ok){const e=await r.json();o(e)}else u("Failed to fetch vendor data")}catch(t){u("Error loading vendor data"),console.error("Vendor data fetch error:",t)}finally{c(!1)}};return l?(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500 mx-auto"}),(0,_t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your dashboard..."})]})}):d?(0,_t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("p",{className:"text-red-600 mb-4",children:d}),(0,_t.jsx)("button",{onClick:()=>s("/vendor/login"),className:"bg-green-600 text-white px-4 py-2 rounded-lg",children:"Back to Login"})]})}):(0,_t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,_t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,_t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Vendor Dashboard"}),(0,_t.jsx)("span",{className:"ml-4 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:null===i||void 0===i?void 0:i.name})]}),(0,_t.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("userRole"),localStorage.removeItem("vendorId"),s("/")},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition duration-200",children:"Logout"})]})})}),(0,_t.jsxs)("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,_t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Welcome back, ",(null===i||void 0===i||null===(e=i.contactPerson)||void 0===e?void 0:e.name)||"Vendor","!"]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,_t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,_t.jsx)("h3",{className:"font-medium text-blue-900",children:"Trust Score"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[void 0!==(null===i||void 0===i?void 0:i.trustScore)?Number(i.trustScore).toFixed(2):"50.00","/100"]})]}),(0,_t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,_t.jsx)("h3",{className:"font-medium text-green-900",children:"Total Sales"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["\u20b9",(null===i||void 0===i?void 0:i.totalSales)||0]})]}),(0,_t.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,_t.jsx)("h3",{className:"font-medium text-yellow-900",children:"Return Rate"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold text-yellow-600",children:[(null===i||void 0===i?void 0:i.overallReturnRate)||0,"%"]})]})]})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,_t.jsx)("div",{onClick:()=>f("products"),className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"bg-blue-100 p-3 rounded-full",children:(0,_t.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsx)("h3",{className:"font-medium text-gray-900",children:"Products"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Manage inventory"})]})]})}),(0,_t.jsx)("div",{onClick:()=>f("orders"),className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"bg-green-100 p-3 rounded-full",children:(0,_t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsx)("h3",{className:"font-medium text-gray-900",children:"Orders"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"View & manage"})]})]})}),(0,_t.jsx)("div",{onClick:()=>f("analytics"),className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"bg-purple-100 p-3 rounded-full",children:(0,_t.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsx)("h3",{className:"font-medium text-gray-900",children:"Analytics"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Sales insights"})]})]})}),(0,_t.jsx)("div",{onClick:()=>f("alerts"),className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"bg-red-100 p-3 rounded-full",children:(0,_t.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsx)("h3",{className:"font-medium text-gray-900",children:"Alerts"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600",children:"Important notices"})]})]})})]}),"products"===h&&(0,_t.jsx)(Os,{}),"dashboard"===h&&(0,_t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vendor Information"}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Company Details"}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,_t.jsx)("span",{className:"font-medium",children:"Name:"})," ",null===i||void 0===i?void 0:i.name]}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,_t.jsx)("span",{className:"font-medium",children:"Email:"})," ",null===i||void 0===i?void 0:i.companyEmail]}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,_t.jsx)("span",{className:"font-medium",children:"Status:"}),(0,_t.jsx)("span",{className:"ml-1 px-2 py-1 text-xs rounded-full ".concat(null!==i&&void 0!==i&&i.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:null!==i&&void 0!==i&&i.isActive?"Active":"Inactive"})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Contact Person"}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,_t.jsx)("span",{className:"font-medium",children:"Name:"})," ",null===i||void 0===i||null===(t=i.contactPerson)||void 0===t?void 0:t.name]}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,_t.jsx)("span",{className:"font-medium",children:"Email:"})," ",null===i||void 0===i||null===(r=i.contactPerson)||void 0===r?void 0:r.email]}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,_t.jsx)("span",{className:"font-medium",children:"Phone:"})," ",(null===i||void 0===i||null===(n=i.contactPerson)||void 0===n?void 0:n.phone)||"Not provided"]})]})]}),(null===i||void 0===i?void 0:i.addresses)&&i.addresses.length>0&&(0,_t.jsxs)("div",{className:"mt-6",children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Business Address"}),(0,_t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,_t.jsx)("p",{children:i.addresses[0].street}),(0,_t.jsxs)("p",{children:[i.addresses[0].city,", ",i.addresses[0].state," ",i.addresses[0].postalCode]}),(0,_t.jsx)("p",{children:i.addresses[0].country}),(0,_t.jsxs)("p",{children:["Phone: ",i.addresses[0].phone]})]})]})]}),"orders"===h&&(0,_t.jsx)(Fs,{}),"analytics"===h&&(0,_t.jsx)(Oh,{}),"alerts"===h&&(0,_t.jsx)(Mh,{vendorId:null===i||void 0===i?void 0:i._id})]})]})}const Dh=()=>{const[e,t]=(0,a.useState)({email:"",password:""}),[r,n]=(0,a.useState)(!1),[s,i]=(0,a.useState)(""),o=ge();(0,a.useEffect)((()=>{const e=localStorage.getItem("adminAuth");if(e)try{const t=JSON.parse(e);if("admin@trustlens.com"===t.email&&t.loginTime){const e=new Date(t.loginTime),r=new Date;(r-e)/36e5<24?o("/admin/dashboard",{replace:!0}):localStorage.removeItem("adminAuth")}}catch(km){localStorage.removeItem("adminAuth")}}),[o]);const l=e=>{const{name:r,value:n}=e.target;t((e=>h(h({},e),{},{[r]:n}))),s&&i("")};return(0,_t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8 transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,_t.jsx)("div",{className:"flex justify-center",children:(0,_t.jsx)("div",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:"\ud83d\udee1\ufe0f"})}),(0,_t.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"TRUSTLENS Admin Portal"}),(0,_t.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Secure access to admin dashboard"})]}),(0,_t.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10 transition-colors duration-200",children:[(0,_t.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault(),n(!0),i("");try{const t="https://trustlens-production-backend.up.railway.app/api",r=await fetch("".concat(t,"/admin/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.email,password:e.password})}),n=await r.json();r.ok&&n.token?(localStorage.setItem("token",n.token),localStorage.setItem("role","admin"),localStorage.setItem("adminAuth",JSON.stringify({email:e.email,role:"admin",loginTime:(new Date).toISOString()})),o("/admin/dashboard",{replace:!0})):i(n.error||"Invalid credentials")}catch(r){i("Login failed. Please try again."),console.error("Admin login error:",r)}finally{n(!1)}},children:[s&&(0,_t.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:(0,_t.jsxs)("div",{className:"flex",children:[(0,_t.jsx)("div",{className:"flex-shrink-0",children:(0,_t.jsx)("div",{className:"text-red-400",children:"\u26a0\ufe0f"})}),(0,_t.jsx)("div",{className:"ml-3",children:(0,_t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:s})})]})}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Admin Email"}),(0,_t.jsx)("div",{className:"mt-1",children:(0,_t.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:l,className:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-colors duration-200 sm:text-sm",placeholder:"admin@trustlens.com"})})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),(0,_t.jsx)("div",{className:"mt-1",children:(0,_t.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:e.password,onChange:l,className:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-colors duration-200 sm:text-sm",placeholder:"Enter admin password"})})]}),(0,_t.jsx)("div",{children:(0,_t.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:r?(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Authenticating..."]}):"Sign in to Admin Panel"})})]}),(0,_t.jsxs)("div",{className:"mt-6",children:[(0,_t.jsxs)("div",{className:"relative",children:[(0,_t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,_t.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,_t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,_t.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Demo Credentials"})})]}),(0,_t.jsx)("div",{className:"mt-4 text-center",children:(0,_t.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,_t.jsxs)("div",{children:["Email: ",(0,_t.jsx)("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:"admin@trustlens.com"})]}),(0,_t.jsxs)("div",{children:["Password: ",(0,_t.jsx)("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:"admin123"})]})]})})]})]})}),(0,_t.jsx)("div",{className:"mt-8 text-center",children:(0,_t.jsx)("button",{onClick:()=>o("/"),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 transition-colors duration-200",children:"\u2190 Back to Home"})})]})},Ih=Object.create(null);Ih.open="0",Ih.close="1",Ih.ping="2",Ih.pong="3",Ih.message="4",Ih.upgrade="5",Ih.noop="6";const Fh=Object.create(null);Object.keys(Ih).forEach((e=>{Fh[Ih[e]]=e}));const zh={type:"error",data:"parser error"},Bh="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Vh="function"===typeof ArrayBuffer,Uh=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Hh=(e,t,r)=>{let{type:n,data:s}=e;return Bh&&s instanceof Blob?t?r(s):Wh(s,r):Vh&&(s instanceof ArrayBuffer||Uh(s))?t?r(s):Wh(new Blob([s]),r):r(Ih[n]+(s||""))},Wh=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function qh(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let $h;const Yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kh="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let Nm=0;Nm<64;Nm++)Kh[Yh.charCodeAt(Nm)]=Nm;const Qh="function"===typeof ArrayBuffer,Jh=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Gh(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:Xh(e.substring(1),t)};return Fh[r]?e.length>1?{type:Fh[r],data:e.substring(1)}:{type:Fh[r]}:zh},Xh=(e,t)=>{if(Qh){const r=(e=>{let t,r,n,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<o;t+=4)r=Kh[e.charCodeAt(t)],n=Kh[e.charCodeAt(t+1)],s=Kh[e.charCodeAt(t+2)],a=Kh[e.charCodeAt(t+3)],d[l++]=r<<2|n>>4,d[l++]=(15&n)<<4|s>>2,d[l++]=(3&s)<<6|63&a;return c})(e);return Gh(r,t)}return{base64:!0,data:e}},Gh=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Zh=String.fromCharCode(30);function ef(){return new TransformStream({transform(e,t){!function(e,t){Bh&&e.data instanceof Blob?e.data.arrayBuffer().then(qh).then(t):Vh&&(e.data instanceof ArrayBuffer||Uh(e.data))?t(qh(e.data)):Hh(e,!1,(e=>{$h||($h=new TextEncoder),t($h.encode(e))}))}(e,(r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{s=new Uint8Array(9);const e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!==typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(r)}))}})}let tf;function rf(e){return e.reduce(((e,t)=>e+t.length),0)}function nf(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function sf(e){if(e)return function(e){for(var t in sf.prototype)e[t]=sf.prototype[t];return e}(e)}sf.prototype.on=sf.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},sf.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},sf.prototype.off=sf.prototype.removeListener=sf.prototype.removeAllListeners=sf.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<n.length;s++)if((r=n[s])===t||r.fn===t){n.splice(s,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},sf.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var s=(r=r.slice(0)).length;n<s;++n)r[n].apply(this,t)}return this},sf.prototype.emitReserved=sf.prototype.emit,sf.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},sf.prototype.hasListeners=function(e){return!!this.listeners(e).length};const af="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),of="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function lf(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const cf=of.setTimeout,df=of.clearTimeout;function uf(e,t){t.useNativeTimers?(e.setTimeoutFn=cf.bind(of),e.clearTimeoutFn=df.bind(of)):(e.setTimeoutFn=of.setTimeout.bind(of),e.clearTimeoutFn=of.clearTimeout.bind(of))}function hf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class ff extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class mf extends sf{constructor(e){super(),this.writable=!1,uf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new ff(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Jh(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class pf extends mf{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(Zh),n=[];for(let s=0;s<r.length;s++){const e=Jh(r[s],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach(((e,a)=>{Hh(e,!1,(e=>{n[a]=e,++s===r&&t(n.join(Zh))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=hf()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let gf=!1;try{gf="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(jm){}const xf=gf;function yf(){}class bf extends pf{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class vf extends sf{constructor(e,t,r){super(),this.createRequest=e,uf(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=lf(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(km){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(km){}try{r.setRequestHeader("Accept","*/*")}catch(km){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof r.status?r.status:0)}),0))},r.send(this._data)}catch(km){return void this.setTimeoutFn((()=>{this._onError(km)}),0)}"undefined"!==typeof document&&(this._index=vf.requestsCount++,vf.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=yf,e)try{this._xhr.abort()}catch(km){}"undefined"!==typeof document&&delete vf.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(vf.requestsCount=0,vf.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",wf);else if("function"===typeof addEventListener){addEventListener("onpagehide"in of?"pagehide":"unload",wf,!1)}function wf(){for(let e in vf.requests)vf.requests.hasOwnProperty(e)&&vf.requests[e].abort()}const kf=function(){const e=jf({xdomain:!1});return e&&null!==e.responseType}();function jf(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||xf))return new XMLHttpRequest}catch(km){}if(!t)try{return new(of[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(km){}}const Nf="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Sf extends mf{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=Nf?{}:lf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(jm){return this.emitReserved("error",jm)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;Hh(r,this.supportsBinary,(e=>{try{this.doWrite(r,e)}catch(km){}n&&af((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=hf()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const _f=of.WebSocket||of.MozWebSocket;const Cf={websocket:class extends Sf{createSocket(e,t,r){return Nf?new _f(e,t,r):t?new _f(e,t):new _f(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends mf{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(jm){return this.emitReserved("error",jm)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){tf||(tf=new TextDecoder);const r=[];let n=0,s=-1,a=!1;return new TransformStream({transform(i,o){for(r.push(i);;){if(0===n){if(rf(r)<1)break;const e=nf(r,1);a=128===(128&e[0]),s=127&e[0],n=s<126?3:126===s?1:2}else if(1===n){if(rf(r)<2)break;const e=nf(r,2);s=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(rf(r)<8)break;const e=nf(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){o.enqueue(zh);break}s=a*Math.pow(2,32)+t.getUint32(4),n=3}else{if(rf(r)<s)break;const e=nf(r,s);o.enqueue(Jh(a?e:tf.decode(e),t)),n=0}if(0===s||s>e){o.enqueue(zh);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=ef();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const s=()=>{r.read().then((e=>{let{done:t,value:r}=e;t||(this.onPacket(r),s())})).catch((e=>{}))};s();const a={type:"open"};this.query.sid&&(a.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(a).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this._writer.write(r).then((()=>{n&&af((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends bf{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=kf&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new vf(jf,this.uri(),e)}}},Ef=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Af=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Pf(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=Ef.exec(e||""),a={},i=14;for(;i--;)a[Af[i]]=s[i]||"";return-1!=r&&-1!=n&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,a.path),a.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,a.query),a}const Tf="function"===typeof addEventListener&&"function"===typeof removeEventListener,Rf=[];Tf&&addEventListener("offline",(()=>{Rf.forEach((e=>e()))}),!1);class Of extends sf{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const r=Pf(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Pf(t.host).host);uf(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Tf&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Rf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&Of.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",Of.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(e+="string"===typeof(t=n)?function(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this._maxPayload)return this.writeBuffer.slice(0,r);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,af((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const s={type:e,data:t,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}_onError(e){if(Of.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Tf&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Rf.indexOf(this._offlineEventListener);-1!==e&&Rf.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Of.protocol=4;class Mf extends Of{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Of.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Of.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function s(){r||(r=!0,c(),t.close(),t=null)}const a=e=>{const r=new Error("probe error: "+e);r.transport=t.name,s(),this.emitReserved("upgradeError",r)};function i(){a("transport closed")}function o(){a("socket closed")}function l(e){t&&e.name!==t.name&&s()}const c=()=>{t.removeListener("open",n),t.removeListener("error",a),t.removeListener("close",i),this.off("close",o),this.off("upgrading",l)};t.once("open",n),t.once("error",a),t.once("close",i),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{r||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class Lf extends Mf{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>Cf[e])).filter((e=>!!e))),super(e,t)}}const Df="function"===typeof ArrayBuffer,If=Object.prototype.toString,Ff="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===If.call(Blob),zf="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===If.call(File);function Bf(e){return Df&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Ff&&e instanceof Blob||zf&&e instanceof File}function Vf(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(Vf(e[t]))return!0;return!1}if(Bf(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Vf(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Vf(e[r]))return!0;return!1}function Uf(e){const t=[],r=e.data,n=e;return n.data=Hf(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Hf(e,t){if(!e)return e;if(Bf(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Hf(e[n],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Hf(e[n],t));return r}return e}function Wf(e,t){return e.data=qf(e.data,t),delete e.attachments,e}function qf(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=qf(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=qf(e[r],t));return e}const $f=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Yf=5;var Kf;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Kf||(Kf={}));class Qf{constructor(e){this.replacer=e}encode(e){return e.type!==Kf.EVENT&&e.type!==Kf.ACK||!Vf(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Kf.EVENT?Kf.BINARY_EVENT:Kf.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Kf.BINARY_EVENT&&e.type!==Kf.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Uf(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function Jf(e){return"[object Object]"===Object.prototype.toString.call(e)}class Xf extends sf{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===Kf.BINARY_EVENT;r||t.type===Kf.BINARY_ACK?(t.type=r?Kf.EVENT:Kf.ACK,this.reconstructor=new Gf(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Bf(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Kf[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Kf.BINARY_EVENT||r.type===Kf.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(n,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!Xf.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(km){return!1}}static isPayloadValid(e,t){switch(e){case Kf.CONNECT:return Jf(t);case Kf.DISCONNECT:return void 0===t;case Kf.CONNECT_ERROR:return"string"===typeof t||Jf(t);case Kf.EVENT:case Kf.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===$f.indexOf(t[0]));case Kf.ACK:case Kf.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Gf{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Wf(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Zf(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const em=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tm extends sf{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Zf(e,"open",this.onopen.bind(this)),Zf(e,"packet",this.onpacket.bind(this)),Zf(e,"error",this.onerror.bind(this)),Zf(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,r,n;if(em.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const o={type:Kf.EVENT,data:a,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof a[a.length-1]){const e=this.ids++,t=a.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(r=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===r?void 0:r.writable,c=this.connected&&!(null===(n=this.io.engine)||void 0===n?void 0:n._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r,n=this;const s=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===s)return void(this.acks[e]=t);const a=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),s),i=function(){n.io.clearTimeoutFn(a);for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];t.apply(n,r)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise(((t,n)=>{const s=(e,r)=>e?n(e):t(r);s.withError=!0,r.push(s),this.emit(e,...r)}))}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(n!==t._queue[0])return;if(null!==e)n.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];r(null,...a)}return n.pending=!1,t._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Kf.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Kf.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Kf.EVENT:case Kf.BINARY_EVENT:this.onevent(e);break;case Kf.ACK:case Kf.BINARY_ACK:this.onack(e);break;case Kf.DISCONNECT:this.ondisconnect();break;case Kf.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];t.packet({type:Kf.ACK,id:e,data:s})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Kf.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function rm(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}rm.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},rm.prototype.reset=function(){this.attempts=0},rm.prototype.setMin=function(e){this.ms=e},rm.prototype.setMax=function(e){this.max=e},rm.prototype.setJitter=function(e){this.jitter=e};class nm extends sf{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,uf(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new rm({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Lf(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=Zf(t,"open",(function(){r.onopen(),e&&e()})),s=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=Zf(t,"error",s);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn((()=>{n(),s(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}return this.subs.push(n),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Zf(e,"ping",this.onping.bind(this)),Zf(e,"data",this.ondata.bind(this)),Zf(e,"error",this.onerror.bind(this)),Zf(e,"close",this.onclose.bind(this)),Zf(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(km){this.onclose("parse error",km)}}ondecoded(e){af((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new tm(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const sm={};function am(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=Pf(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,s=r.id,a=r.path,i=sm[s]&&a in sm[s].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?o=new nm(n,t):(sm[s]||(sm[s]=new nm(n,t)),o=sm[s]),r.query&&!t.query&&(t.query=r.queryKey),o.socket(r.path,t)}Object.assign(am,{Manager:nm,Socket:tm,io:am,connect:am});const im=new class{constructor(){this.socket=null,this.isConnected=!1,this.eventListeners=new Map}connect(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(null===(e="https://trustlens-production-backend.up.railway.app/api")?void 0:e.replace("/api",""))||"http://localhost:3001";if(!this.socket)return console.log("\ud83d\udd0c Connecting to WebSocket server..."),this.socket=am(t,{transports:["websocket","polling"],upgrade:!0,rememberUpgrade:!0}),this.setupEventHandlers(),this.socket;console.log("\ud83d\udd0c WebSocket already connected")}setupEventHandlers(){this.socket.on("connect",(()=>{console.log("\u2705 WebSocket connected:",this.socket.id),this.isConnected=!0,this.authenticate()})),this.socket.on("disconnect",(e=>{console.log("\u274c WebSocket disconnected:",e),this.isConnected=!1})),this.socket.on("authenticated",(e=>{console.log("\ud83d\udd10 WebSocket authenticated:",e)})),this.socket.on("real_time_alert",(e=>{console.log("\ud83d\udea8 Real-time alert received:",e),this.notifyListeners("alert",e)})),this.socket.on("trust_score_changed",(e=>{console.log("\ud83d\udcca Trust score changed:",e),this.notifyListeners("trustScoreChange",e)})),this.socket.on("marketplace_update",(e=>{console.log("\ud83d\uded2 Marketplace update:",e),this.notifyListeners("marketplaceUpdate",e)})),this.socket.on("typing_analysis_result",(e=>{console.log("\u2328\ufe0f Typing analysis result:",e),this.notifyListeners("typingAnalysis",e)})),this.socket.on("mouse_analysis_result",(e=>{console.log("\ud83d\uddb1\ufe0f Mouse analysis result:",e),this.notifyListeners("mouseAnalysis",e)})),this.socket.on("new_alert",(e=>{console.log("\ud83d\udd14 New alert:",e),this.notifyListeners("newAlert",e)}))}authenticate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"Dashboard_User",role:"admin"};this.socket&&this.isConnected&&this.socket.emit("authenticate",e)}subscribeToAlerts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.socket&&this.isConnected&&(this.socket.emit("subscribe_alerts",e),console.log("\ud83d\udd14 Subscribed to alerts with filters:",e))}sendTypingData(e,t){this.socket&&this.isConnected&&this.socket.emit("typing_data",{userId:e,typingCadence:t,timestamp:new Date})}sendMouseData(e,t){this.socket&&this.isConnected&&this.socket.emit("mouse_data",{userId:e,mouseMovements:t,timestamp:new Date})}sendMarketplaceActivity(e){this.socket&&this.isConnected&&this.socket.emit("marketplace_activity",e)}requestTrustUpdate(e){this.socket&&this.isConnected&&this.socket.emit("request_trust_update",e)}addEventListener(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(t)}removeEventListener(e,t){if(this.eventListeners.has(e)){const r=this.eventListeners.get(e),n=r.indexOf(t);n>-1&&r.splice(n,1)}}notifyListeners(e,t){this.eventListeners.has(e)&&this.eventListeners.get(e).forEach((r=>{try{r(t)}catch(n){console.error("Error in ".concat(e," listener:"),n)}}))}startBehavioralTracking(e){if(this.isConnected)return console.log("\ud83c\udfaf Behavioral tracking ready for user:",e),console.log("\ud83d\udcdd Note: Use RealTimeBehaviorTracker component to collect real behavioral data"),{typingInterval:null,mouseInterval:null};console.warn("\u26a0\ufe0f WebSocket not connected. Cannot start behavioral tracking.")}stopBehavioralTracking(){console.log("\ud83d\uded1 Behavioral tracking stopped"),this.trackingIntervals=null}getConnectionStatus(){var e,t,r,n,s;return{isConnected:this.isConnected,socketId:(null===(e=this.socket)||void 0===e?void 0:e.id)||null,transport:(null===(t=this.socket)||void 0===t||null===(r=t.io)||void 0===r||null===(n=r.engine)||void 0===n||null===(s=n.transport)||void 0===s?void 0:s.name)||null}}disconnect(){this.socket&&(this.stopBehavioralTracking(),this.socket.disconnect(),this.socket=null,this.isConnected=!1,console.log("\ud83d\udd0c WebSocket disconnected"))}},om=im,lm=e=>{let{isActive:t,onAnalysisResult:r}=e;const[n,s]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[m,p]=(0,a.useState)(""),g=(0,a.useRef)([]),x=(0,a.useRef)([]),y=(0,a.useRef)(null),b=(0,a.useRef)(null),v=(0,a.useRef)(null);(0,a.useEffect)((()=>{t&&!d?w():!t&&d&&k()}),[t]);const w=()=>{u(!0),f(Date.now()),s([]),o([]),c(null),p(""),v.current&&(clearTimeout(v.current),v.current=null),document.addEventListener("keydown",j),document.addEventListener("mousemove",N),document.addEventListener("click",S),console.log("\ud83c\udfaf Real-time behavioral tracking started")},k=()=>{u(!1),v.current&&(clearTimeout(v.current),v.current=null),document.removeEventListener("keydown",j),document.removeEventListener("mousemove",N),document.removeEventListener("click",S),console.log("\ud83d\uded1 Real-time behavioral tracking stopped")},j=e=>{if("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)return;const t=Date.now(),r=y.current?t-y.current:0,n={key:e.key,timestamp:t,interval:r,keyCode:e.keyCode,isSpecialKey:e.ctrlKey||e.altKey||e.shiftKey||e.metaKey};g.current.push(n),y.current=t,p(e.key),g.current.length>50&&(g.current=g.current.slice(-25)),v.current&&clearTimeout(v.current),v.current=setTimeout((()=>{g.current.length>=3&&_()}),150)},N=e=>{const t=Date.now(),r=b.current?t-b.current:0;if(r<10)return;const n={x:e.clientX,y:e.clientY,timestamp:t,interval:r,type:"move"};x.current.push(n),b.current=t,x.current.length>100&&(x.current=x.current.slice(-50)),x.current.length>=20&&E()},S=e=>{const t=Date.now(),r=b.current?t-b.current:0,n={x:e.clientX,y:e.clientY,timestamp:t,interval:r,type:"click"};x.current.push(n),b.current=t},_=()=>{try{if(g.current.length<3)return;const e=Math.min(g.current.length,15),t=g.current.slice(-e),n=t.map((e=>e.interval)).filter((e=>e>0&&e<5e3));if(n.length<2)return;const s={type:"keystroke",timestamp:Date.now(),data:{averageInterval:n.reduce(((e,t)=>e+t),0)/n.length,variance:A(n),consistency:P(n),specialKeyRatio:t.filter((e=>e.isSpecialKey)).length/t.length,totalKeystrokes:g.current.length},classification:T(n)};c(s),r&&r(s),C("typing",n)}catch(e){console.error("Error in keystroke analysis:",e),g.current=g.current.slice(-10)}},C=async(e,t)=>{try{const r=localStorage.getItem("token");if(!r)return;const n=JSON.parse(atob(r.split(".")[1])).id;if(!n)return;const s="https://trustlens-production-backend.up.railway.app/api";if("typing"===e){const e=await fetch("".concat(s,"/users/").concat(n,"/analyze-behavior"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({typingData:t,mouseData:[]})});if(e.ok){const t=await e.json();console.log("\u2705 Behavioral data analyzed and stored:",t)}}else if("mouse"===e){const e=x.current.map((e=>({x:e.x,y:e.y,timestamp:e.timestamp}))),t=await fetch("".concat(s,"/users/").concat(n,"/analyze-behavior"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({typingData:[],mouseData:e})});if(t.ok){const e=await t.json();console.log("\u2705 Mouse data analyzed and stored:",e)}}}catch(r){console.error("Error sending behavioral data to backend:",r)}},E=()=>{try{if(x.current.length<10)return;const e=Math.min(x.current.length,30),t=x.current.slice(-e),n=t.map((e=>e.interval)).filter((e=>e>0&&e<2e3));if(n.length<2)return;const s=[];for(let r=1;r<t.length;r++){const e=t[r].x-t[r-1].x,n=t[r].y-t[r-1].y,a=Math.sqrt(e*e+n*n);a<1e3&&s.push(a)}if(s.length<2)return;const a={type:"mouse",timestamp:Date.now(),data:{averageInterval:n.reduce(((e,t)=>e+t),0)/n.length,averageDistance:s.reduce(((e,t)=>e+t),0)/s.length,variance:A(n),consistency:P(n),clickCount:t.filter((e=>"click"===e.type)).length,totalMovements:x.current.length},classification:R(n,s)};c(a),r&&r(a),C("mouse",s)}catch(e){console.error("Error in mouse analysis:",e),x.current=x.current.slice(-20)}},A=e=>{const t=e.reduce(((e,t)=>e+t),0)/e.length;return e.map((e=>Math.pow(e-t,2))).reduce(((e,t)=>e+t),0)/e.length},P=e=>{const t=e.reduce(((e,t)=>e+t),0)/e.length,r=e.map((e=>Math.abs(e-t)/t));return 1-r.reduce(((e,t)=>e+t),0)/r.length},T=e=>{const t=e.reduce(((e,t)=>e+t),0)/e.length,r=A(e),n=P(e),s=n>.95;let a="Low",i="Human-like",o=85;return s&&r<100?(a="High",i="Bot-like (Too Consistent)",o=90):t<50?(a="High",i="Bot-like (Too Fast)",o=85):t>500&&s?(a="Medium",i="Suspicious (Slow & Consistent)",o=70):r>200&&r<2e3&&(t>=100&&t<=300)&&(n>=.3&&n<=.8)?(a="Low",i="Human-like (Natural Variation)",o=90):t<100?(a="Low",i="Human-like (Fast Typist)",o=75):t>300?(a="Low",i="Human-like (Careful Typist)",o=75):r<200?(a="Low",i="Human-like (Consistent Typist)",o=70):r>2e3?(a="Low",i="Human-like (Variable Typist)",o=70):n<.3?(a="Low",i="Human-like (Natural Rhythm)",o=75):n>.8?(a="Low",i="Human-like (Steady Typist)",o=70):(a="Low",i="Human-like (Typical Pattern)",o=65),{risk:a,type:i,confidence:o}},R=(e,t)=>{const r=e.reduce(((e,t)=>e+t),0)/e.length,n=(t.reduce(((e,t)=>e+t),0),t.length,A(e)),s=P(e),a=s>.9;let i="Low",o="Human-like",l=85;return a&&n<50?(i="High",o="Bot-like (Linear & Consistent)",l=90):r<10&&a?(i="High",o="Bot-like (Fast & Consistent)",l=85):r>200&&a?(i="Medium",o="Suspicious (Slow & Consistent)",l=70):n>100&&n<1e3&&(r>=20&&r<=100)&&(s>=.2&&s<=.7)?(i="Low",o="Human-like (Natural Movement)",l=90):r<20?(i="Low",o="Human-like (Quick Mouse)",l=75):r>100?(i="Low",o="Human-like (Deliberate Mouse)",l=75):n<100?(i="Low",o="Human-like (Smooth Movement)",l=70):n>1e3?(i="Low",o="Human-like (Dynamic Movement)",l=70):s<.2?(i="Low",o="Human-like (Natural Variation)",l=75):s>.7?(i="Low",o="Human-like (Steady Movement)",l=70):(i="Low",o="Human-like (Typical Movement)",l=65),{risk:i,type:o,confidence:l}};return(0,a.useEffect)((()=>()=>{d&&k(),v.current&&clearTimeout(v.current)}),[d]),t?(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,_t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Real-Time Behavioral Tracking"}),(0,_t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(d?"bg-green-500 animate-pulse":"bg-red-500")}),(0,_t.jsx)("span",{className:"text-sm ".concat(d?"text-green-600":"text-red-600"),children:d?"Tracking Active":"Tracking Inactive"})]})]}),(0,_t.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:[(0,_t.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"How to Test:"}),(0,_t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,_t.jsxs)("li",{children:["\u2022 ",(0,_t.jsx)("strong",{children:"Human-like:"})," Type naturally with pauses and variations"]}),(0,_t.jsxs)("li",{children:["\u2022 ",(0,_t.jsx)("strong",{children:"Bot-like:"})," Type very fast and consistently, or move mouse in straight lines"]}),(0,_t.jsx)("li",{children:"\u2022 Analysis updates every 3 keystrokes or 20 mouse movements"})]})]}),l&&(0,_t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,_t.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Current Analysis"}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium mb-2 ".concat("High"===l.classification.risk?"bg-red-100 text-red-800":"Low"===l.classification.risk?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:l.classification.type}),(0,_t.jsxs)("div",{className:"text-sm text-gray-600",children:["Confidence: ",l.classification.confidence,"%"]}),(0,_t.jsxs)("div",{className:"text-sm text-gray-600",children:["Risk Level: ",l.classification.risk]})]}),(0,_t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,_t.jsxs)("div",{children:["Type: ",l.type]}),(0,_t.jsxs)("div",{children:["Variance: ",Math.round(l.data.variance)]}),(0,_t.jsxs)("div",{children:["Consistency: ",Math.round(100*l.data.consistency),"%"]}),"keystroke"===l.type&&(0,_t.jsxs)("div",{children:["Avg Interval: ",Math.round(l.data.averageInterval),"ms"]}),"mouse"===l.type&&(0,_t.jsxs)("div",{children:["Avg Distance: ",Math.round(l.data.averageDistance),"px"]})]})]})]}),(0,_t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,_t.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Session Statistics"}),(0,_t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"text-gray-600",children:"Keystrokes"}),(0,_t.jsx)("div",{className:"font-semibold text-blue-600",children:g.current.length})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"text-gray-600",children:"Mouse Events"}),(0,_t.jsx)("div",{className:"font-semibold text-green-600",children:x.current.length})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"text-gray-600",children:"Session Time"}),(0,_t.jsxs)("div",{className:"font-semibold",children:[h?Math.round((Date.now()-h)/1e3):0,"s"]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"text-gray-600",children:"Status"}),(0,_t.jsx)("div",{className:"font-semibold text-green-600",children:"Active"})]})]}),(0,_t.jsxs)("div",{className:"mt-3 text-center",children:[(0,_t.jsx)("div",{className:"text-xs text-gray-500",children:m?'Last key: "'.concat(m,'"'):"Start typing to see analysis..."}),(0,_t.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:g.current.length>0&&"Total captured: ".concat(g.current.length)})]})]}),(0,_t.jsx)("div",{className:"mt-6 text-center",children:(0,_t.jsx)("button",{onClick:()=>{k(),r&&r({action:"close"})},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",disabled:!1,children:"Close Tracking"})})]})}):null};xd.register(Hu,Yu,Md,Rd,ku,zu,vu,jd);const cm=()=>{const[e,t]=(0,a.useState)({users:[],alerts:[],reviews:[],products:[]}),[r,n]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)({isConnected:!1}),[f,m]=(0,a.useState)([]),[p,g]=(0,a.useState)(!1);(0,a.useEffect)((()=>{x(),N();const e=setInterval(N,3e4);return()=>{clearInterval(e),om.disconnect()}}),[]);const x=()=>{try{om.connect(),om.subscribeToAlerts({severity:"High"}),om.addEventListener("alert",y),om.addEventListener("trustScoreChange",b),om.addEventListener("marketplaceUpdate",v),om.addEventListener("newAlert",w),om.addEventListener("behavioralAnalysisResult",k);const e=()=>{h(om.getConnectionStatus())},t=setInterval(e,5e3);return e(),()=>clearInterval(t)}catch(o){console.error("Failed to initialize WebSocket connection:",o),j(" WebSocket connection failed","error")}},y=e=>{d((t=>[e,...t.slice(0,9)]))},b=e=>{},v=e=>{},w=e=>{d((t=>[e,...t.slice(0,9)]))},k=e=>{"close"!==e.action||g(!1)},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const r={id:Date.now(),message:e,type:t,timestamp:(new Date).toLocaleTimeString()};m((e=>[r,...e.slice(0,19)]))},N=async()=>{try{l(null);const[e,r,s,a,o]=await Promise.all([vs.getUsers(),vs.getAlerts(),vs.getReviews(),vs.getProducts(),vs.getAlertStats()]);t({users:e.data||[],alerts:r.data||[],reviews:s.data||[],products:a.data||[]}),n(o.data||null),i(!1)}catch(o){console.error("Error fetching dashboard data:",o),l("Failed to load dashboard data. Please try again."),i(!1),j("Dashboard refresh failed","error")}},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line";const t=document.documentElement.classList.contains("dark"),r=t?"#ffffff":"#000000",n=t?"#374151":"#e5e7eb",s=t?"#9ca3af":"#6b7280",a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:r,font:{size:12,family:"Inter, sans-serif"}}},tooltip:{backgroundColor:t?"#1f2937":"#ffffff",titleColor:r,bodyColor:r,borderColor:n,borderWidth:1}}};return"line"===e?a.scales={x:{ticks:{color:s},grid:{color:n}},y:{ticks:{color:s},grid:{color:n},beginAtZero:!0,max:100}}:"bar"===e&&(a.scales={x:{ticks:{color:s},grid:{color:n}},y:{ticks:{color:s},grid:{color:n},beginAtZero:!0}}),a},_=(()=>{const t=e.users.length,r=e.users.length>0?(e.users.reduce(((e,t)=>e+(t.trustScore||0)),0)/t).toFixed(1):0,n=e.alerts.length,s=e.alerts.filter((e=>"Active"===e.status)).length,a=e.reviews.filter((e=>!e.isAIGenerated)).length;return{totalUsers:t,avgTrustScore:r,totalAlerts:n,activeAlerts:s,fraudDetectionRate:e.reviews.length>0?(a/e.reviews.length*100).toFixed(1):0}})();return s?(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white",children:"Loading TRUSTLENS Dashboard..."}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Fetching real-time data from MongoDB Atlas"})]})}):o?(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"text-red-500 text-6xl mb-4"}),(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white mb-2",children:"Dashboard Error"}),(0,_t.jsx)("div",{className:"text-gray-600 dark:text-gray-400 mb-4",children:o}),(0,_t.jsx)("button",{onClick:N,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors duration-200",children:"Retry"})]})}):(0,_t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,_t.jsx)("div",{className:"mb-8",children:(0,_t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_t.jsx)("div",{children:(0,_t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"TRUSTLENS Admin Dashboard"})}),(0,_t.jsx)("div",{className:"flex items-center space-x-4",children:(0,_t.jsx)("button",{onClick:()=>{g(!0)},disabled:0===e.users.length,className:"px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed bg-blue-600 hover:bg-blue-700 text-white",children:"Start Behavioral Tracking"})})]})}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,_t.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded"})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Users"}),(0,_t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_.totalUsers})]})]})}),(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,_t.jsx)("div",{className:"w-6 h-6 bg-green-600 rounded"})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Avg Trust Score"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[_.avgTrustScore,"%"]})]})]})}),(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:(0,_t.jsx)("div",{className:"w-6 h-6 bg-yellow-600 rounded"})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Alerts"}),(0,_t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_.totalAlerts})]})]})}),(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:(0,_t.jsx)("div",{className:"w-6 h-6 bg-red-600 rounded"})}),(0,_t.jsxs)("div",{className:"ml-4",children:[(0,_t.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Active Alerts"}),(0,_t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_.activeAlerts})]})]})})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Trust Score Distribution"}),(0,_t.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400 mb-2",children:"Real data from MongoDB Atlas users"}),(0,_t.jsx)("div",{className:"h-64",children:(0,_t.jsx)(Ph,{data:(()=>{if(0===e.users.length)return{labels:["No Data Available"],datasets:[{label:"Users",data:[0],backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]};const t={"0-20%":e.users.filter((e=>(e.trustScore||0)<=20)).length,"21-40%":e.users.filter((e=>(e.trustScore||0)>20&&(e.trustScore||0)<=40)).length,"41-60%":e.users.filter((e=>(e.trustScore||0)>40&&(e.trustScore||0)<=60)).length,"61-80%":e.users.filter((e=>(e.trustScore||0)>60&&(e.trustScore||0)<=80)).length,"81-100%":e.users.filter((e=>(e.trustScore||0)>80)).length},r={"0-20%":"#ef4444","21-40%":"#f59e0b","41-60%":"#eab308","61-80%":"#22c55e","81-100%":"#10b981"};return{labels:Object.keys(t),datasets:[{label:"Number of Users",data:Object.values(t),backgroundColor:Object.keys(t).map((e=>r[e])),borderColor:Object.keys(t).map((e=>r[e])),borderWidth:2,borderRadius:4,borderSkipped:!1}]}})(),options:S("bar")})})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Alert Distribution"}),(0,_t.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400 mb-2",children:"Real data from MongoDB Atlas"}),(0,_t.jsx)("div",{className:"h-64",children:(0,_t.jsx)(Rh,{data:(()=>{if(0===e.alerts.length)return{labels:["No Alerts Found"],datasets:[{data:[1],backgroundColor:["#e5e7eb"],borderColor:["#d1d5db"],borderWidth:2}]};const t={Critical:e.alerts.filter((e=>"Critical"===e.severity)).length,High:e.alerts.filter((e=>"High"===e.severity)).length,Medium:e.alerts.filter((e=>"Medium"===e.severity)).length,Low:e.alerts.filter((e=>"Low"===e.severity)).length},r={Critical:"#8b5cf6",High:"#ef4444",Medium:"#f59e0b",Low:"#10b981"},n=[],s=[],a=[];return Object.entries(t).forEach((e=>{let[t,i]=e;i>0&&(n.push("".concat(t," (").concat(i,")")),s.push(i),a.push(r[t]))})),0===n.length?{labels:["No Active Alerts"],datasets:[{data:[1],backgroundColor:["#10b981"],borderColor:["#059669"],borderWidth:2}]}:{labels:n,datasets:[{data:s,backgroundColor:a,borderColor:a.map((e=>e)),borderWidth:2,hoverOffset:4}]}})(),options:S("doughnut")})})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Live Activity Feed"}),(0,_t.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:0===f.length?(0,_t.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[(0,_t.jsx)("div",{children:"You will be notified in case of:"}),(0,_t.jsxs)("div",{className:"text-sm mt-2 space-y-1",children:[(0,_t.jsx)("div",{children:"\u2022 New security alerts"}),(0,_t.jsx)("div",{children:"\u2022 Trust score changes"}),(0,_t.jsx)("div",{children:"\u2022 Marketplace activity"}),(0,_t.jsx)("div",{children:"\u2022 System errors"})]})]}):f.map((e=>(0,_t.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,_t.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 ".concat("alert"===e.type?"bg-red-500":"trust"===e.type?"bg-blue-500":"behavior"===e.type?"bg-yellow-500":"error"===e.type?"bg-red-500":"bg-green-500")}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.message}),(0,_t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.timestamp})]})]},e.id)))})]})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Alerts from Database"})}),(0,_t.jsx)("div",{className:"p-6",children:0===[...c,...e.alerts].length?(0,_t.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[(0,_t.jsx)("div",{className:"text-4xl mb-2"}),(0,_t.jsx)("div",{children:"No alerts found"}),(0,_t.jsx)("div",{className:"text-sm mt-1",children:"System is running smoothly"})]}):[...c,...e.alerts].slice(0,8).map(((e,t)=>(0,_t.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"w-3 h-3 rounded-full mr-3 ".concat("Critical"===e.severity?"bg-purple-500":"High"===e.severity?"bg-red-500":"Medium"===e.severity?"bg-yellow-500":"bg-green-500")}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.type||"Unknown Alert"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.description||"No description available"}),(e.timestamp||e.createdAt)&&(0,_t.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(e.timestamp||e.createdAt).toLocaleString()})]})]}),(0,_t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("Critical"===e.severity?"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200":"High"===e.severity?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"Medium"===e.severity?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200"),children:e.severity||"Unknown"})]},e._id||e.id||t)))})]}),p&&(0,_t.jsx)(lm,{isActive:p,onAnalysisResult:k})]})})},dm=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)({totalProducts:0,fraudProducts:0,fraudDetectionRate:0,totalTransactions:0});(0,a.useEffect)((()=>{u();const e=setInterval((()=>{f(),m()}),1e4);return()=>clearInterval(e)}),[]);const u=async()=>{try{l(!0);const[e,r,s,a]=await Promise.all([bs.getProducts(),bs.getVendors(),bs.getRealtimeStats(),bs.getRealtimeActivity()]),o=(e.data||[]).map((e=>h(h({},e),{},{authenticityScore:e.authenticityScore||0,status:p(e.authenticityScore||0),image:g(e.category||e.name),reviewCount:e.reviewCount||0,vendor:e.vendor||null,fraudFlagged:e.fraudFlagged||!1})));t(o),n(r.data||[]),d(s.data||{totalProducts:0,fraudProducts:0,fraudDetectionRate:0,totalTransactions:0}),i(a.data||[])}catch(e){console.error("Error fetching real marketplace data:",e),t([]),n([]),d({totalProducts:0,fraudProducts:0,fraudDetectionRate:0,totalTransactions:0}),i([])}finally{l(!1)}},f=async()=>{try{const e=await bs.getRealtimeStats();d(e.data||{totalProducts:0,fraudProducts:0,fraudDetectionRate:0,totalTransactions:0})}catch(e){console.error("Error fetching realtime stats:",e)}},m=async()=>{try{const e=await bs.getRealtimeActivity();i(e.data||[])}catch(e){console.error("Error fetching realtime activity:",e)}},p=e=>e>=85?"Verified":e>=60?"Under Review":e<60&&e>0?"Flagged":"Unknown",g=e=>{const t=(e||"").toLowerCase();return t.includes("watch")||t.includes("time")?"\u231a":t.includes("bag")||t.includes("handbag")?"\ud83d\udc5c":t.includes("laptop")||t.includes("computer")?"\ud83d\udcbb":t.includes("phone")||t.includes("mobile")?"\ud83d\udcf1":t.includes("shirt")||t.includes("cloth")||t.includes("denim")||t.includes("t-shirt")?"\ud83d\udc55":t.includes("shoe")||t.includes("boot")||t.includes("sneaker")?"\ud83d\udc5f":t.includes("book")?"\ud83d\udcda":t.includes("headphone")||t.includes("audio")?"\ud83c\udfa7":t.includes("jewelry")||t.includes("necklace")||t.includes("bracelet")||t.includes("earring")||t.includes("pendant")?"\ud83d\udc8e":t.includes("saree")||t.includes("dress")?"\ud83d\udc57":t.includes("camera")||t.includes("instax")?"\ud83d\udcf7":t.includes("keyboard")||t.includes("techno")?"\u2328\ufe0f":t.includes("graphics")||t.includes("card")||t.includes("gpu")?"\ud83d\udda5\ufe0f":t.includes("smartwatch")||t.includes("pulse")?"\u231a":"\ud83d\udce6"};return o?(0,_t.jsx)("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:(0,_t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,_t.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"}),(0,_t.jsx)("span",{className:"ml-3 text-lg text-gray-600 dark:text-gray-300",children:"Loading real marketplace data..."})]})})}):(0,_t.jsx)("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,_t.jsxs)("div",{className:"mb-8",children:[(0,_t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" TrustLens Marketplace"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Real-time fraud detection powered by MongoDB Atlas data"})]}),(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,_t.jsxs)("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors duration-200 flex items-center space-x-2",children:[(0,_t.jsx)("span",{}),(0,_t.jsx)("span",{children:"Refresh Real Data"})]}),(0,_t.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Last updated: ",(new Date).toLocaleTimeString()]})]}),(0,_t.jsxs)("button",{onClick:async()=>{try{const e=await bs.injectFraud(),{activities:t,updatedProducts:r}=e.data;t&&t.length>0&&i((e=>[...t.map((e=>({id:e.id,message:e.message,timestamp:new Date(e.timestamp).toLocaleTimeString(),type:"fraud"}))),...e.slice(0,12)])),setTimeout((()=>{u()}),1e3)}catch(e){console.error("Error injecting real fraud:",e),i((e=>[{id:Date.now(),message:"Fraud injection failed - Check backend connection",timestamp:(new Date).toLocaleTimeString(),type:"error"},...e.slice(0,14)]))}},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md font-medium transition-colors duration-200 flex items-center space-x-2",children:[(0,_t.jsx)("span",{}),(0,_t.jsx)("span",{children:"Inject Real Fraud"})]})]})}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"flex-shrink-0",children:(0,_t.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-md flex items-center justify-center",children:(0,_t.jsx)("span",{className:"text-blue-600 dark:text-blue-400"})})}),(0,_t.jsxs)("div",{className:"ml-3",children:[(0,_t.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Real Transactions"}),(0,_t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.totalTransactions}),(0,_t.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"From MongoDB Atlas"})]})]})}),(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"flex-shrink-0",children:(0,_t.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded-md flex items-center justify-center",children:(0,_t.jsx)("span",{className:"text-red-600 dark:text-red-400"})})}),(0,_t.jsxs)("div",{className:"ml-3",children:[(0,_t.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Fraud Products"}),(0,_t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.fraudProducts}),(0,_t.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Authenticity < 70%"})]})]})}),(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"flex-shrink-0",children:(0,_t.jsx)("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-md flex items-center justify-center",children:(0,_t.jsx)("span",{className:"text-green-600 dark:text-green-400",children:(x=c.fraudDetectionRate,x>=20||x>=10||x>0?"":"\u2705")})})}),(0,_t.jsxs)("div",{className:"ml-3",children:[(0,_t.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Fraud Detection Rate"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold {getFraudRateColor(realtimeStats.fraudDetectionRate)}",children:[c.fraudDetectionRate,"%"]}),(0,_t.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:0===c.fraudDetectionRate?"No frauds detected":"Real-time calculation"})]})]})}),(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsx)("div",{className:"flex-shrink-0",children:(0,_t.jsx)("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-md flex items-center justify-center",children:(0,_t.jsx)("span",{className:"text-purple-600 dark:text-purple-400"})})}),(0,_t.jsxs)("div",{className:"ml-3",children:[(0,_t.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Products Monitored"}),(0,_t.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.totalProducts}),(0,_t.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Live from database"})]})]})})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,_t.jsxs)("div",{className:"xl:col-span-2 bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,_t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,_t.jsx)("span",{className:"mr-2"}),"Real Product Listings",(0,_t.jsxs)("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:["(",e.length," products)"]})]})}),(0,_t.jsx)("div",{className:"p-6",children:0===e.length?(0,_t.jsxs)("div",{className:"text-center py-8",children:[(0,_t.jsx)("div",{className:"text-gray-400 text-4xl mb-4"}),(0,_t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No products available"}),(0,_t.jsx)("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-2",children:"Please check your database connection"}),(0,_t.jsx)("button",{onClick:u,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",children:"Retry Connection"})]}):(0,_t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map((e=>{var t,r,n;const s=(e=>{if(!e||!e.name)return{text:" Missing Vendor",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:"\u26a0\ufe0f"};const t=e.trustScore||0;return t>=80?{text:"Elite Seller",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",icon:"\ud83d\udc51"}:t>=60?{text:"Trusted",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:"\u2705"}:t>=40?{text:"Verified",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",icon:"\ud83d\udd37"}:{text:" Low Trust",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",icon:"\u26a0\ufe0f"}})(e.vendor),a=(i=e.authenticityScore)>=90?"bg-green-500":i>=70?"bg-yellow-500":i>0?"bg-red-500":"bg-gray-400";var i;const o=(e=>e>=90?"Excellent":e>=70?"Good":e>0?"Poor":" Unknown")(e.authenticityScore);return(0,_t.jsxs)("div",{className:"border rounded-lg p-4 transition-all duration-200 hover:shadow-md hover:scale-105 ".concat(e.fraudFlagged||e.authenticityScore<70&&e.authenticityScore>0?"border-red-500 bg-red-50 dark:bg-red-900/20 dark:border-red-400":"border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700"),children:[(0,_t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,_t.jsx)("span",{className:"text-3xl",children:e.image}),(0,_t.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[(0,_t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("Verified"===e.status?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"Flagged"===e.status?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"Under Review"===e.status?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"),children:e.status}),(0,_t.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(s.color),children:[s.icon," ",s.text]}),e.fraudFlagged&&(0,_t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-200 text-red-900 dark:bg-red-800 dark:text-red-200",children:"FRAUD FLAGGED"})]})]}),(0,_t.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 line-clamp-2",children:e.name}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:["by ",(0,_t.jsx)("span",{className:"font-medium",children:(null===(t=e.vendor)||void 0===t?void 0:t.name)||" Unknown Vendor"})]}),(0,_t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,_t.jsxs)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["$","number"===typeof e.price?e.price.toFixed(2):e.price]}),(0,_t.jsxs)("div",{className:"text-right",children:[(0,_t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.reviewCount," reviews"]}),(0,_t.jsxs)("div",{className:"text-sm font-semibold ".concat(e.authenticityScore>0?"text-gray-900 dark:text-white":"text-red-600 dark:text-red-400"),children:["\ud83d\udd12 ",e.authenticityScore>0?"".concat(e.authenticityScore.toFixed(1),"%"):" Unknown"," authentic"]})]})]}),(0,_t.jsxs)("div",{className:"mb-3",children:[(0,_t.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-300 mb-1",children:[(0,_t.jsx)("span",{children:"Authenticity Score"}),(0,_t.jsx)("span",{className:e.authenticityScore>0?"":"text-red-600 dark:text-red-400",children:e.authenticityScore>0?"".concat(e.authenticityScore.toFixed(1),"%"):"Unknown"})]}),(0,_t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:(0,_t.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(a),style:{width:"".concat(Math.max(e.authenticityScore||0,5),"%")}})}),(0,_t.jsx)("div",{className:"text-right mt-1",children:(0,_t.jsx)("span",{className:"text-xs font-medium ".concat(e.authenticityScore>=90?"text-green-600 dark:text-green-400":e.authenticityScore>=70?"text-yellow-600 dark:text-yellow-400":e.authenticityScore>0?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"),children:o})})]}),(0,_t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,_t.jsxs)("span",{children:[" Trust: ",null!==(r=e.vendor)&&void 0!==r&&r.trustScore?"".concat(e.vendor.trustScore,"%"):" N/A"]}),(0,_t.jsxs)("span",{children:[" Return: ",void 0!==(null===(n=e.vendor)||void 0===n?void 0:n.returnRate)?"".concat(e.vendor.returnRate,"%"):" N/A"]})]})]},e._id)}))})})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,_t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,_t.jsx)("span",{className:"mr-2"}),"Real Activity Feed",(0,_t.jsx)("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400",children:" LIVE"})]})}),(0,_t.jsxs)("div",{className:"p-6",children:[(0,_t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===s.length?(0,_t.jsxs)("div",{className:"text-center py-4",children:[(0,_t.jsx)("div",{className:"text-gray-400 text-2xl mb-2"}),(0,_t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"No recent activity"}),(0,_t.jsx)("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-1",children:"Activity will appear from real database changes"})]}):s.map((e=>(0,_t.jsxs)("div",{className:"flex items-start space-x-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0 ".concat("fraud"===e.type?"bg-red-500 animate-pulse":"warning"===e.type?"bg-yellow-500":"success"===e.type?"bg-green-500":"error"===e.type?"bg-red-600":"bg-blue-500")}),(0,_t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,_t.jsx)("p",{className:"text-sm ".concat("fraud"===e.type?"text-red-700 dark:text-red-300 font-medium":"warning"===e.type?"text-yellow-700 dark:text-yellow-300 font-medium":"success"===e.type?"text-green-700 dark:text-green-300":"error"===e.type?"text-red-800 dark:text-red-200 font-medium":"text-gray-700 dark:text-gray-300"),children:e.message}),(0,_t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.timestamp})]})]},e.id)))}),(0,_t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,_t.jsx)("button",{onClick:m,className:"w-full text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium",children:"Refresh Activity Feed"})})]})]})]})]})});var x};xd.register(...bh);xd.register(Hu,Yu,Md,Rd,ku,zu,vu,lh,gu);const um=()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,f]=(0,a.useState)(null),[m,p]=(0,a.useState)(!1);(0,a.useEffect)((()=>(g(),()=>{})),[]),(0,a.useEffect)((()=>{e&&e._id}),[e]);const g=async()=>{try{d(null),await x()}catch(c){console.error("Error initializing TrustDNA Profiler:",c),d("Failed to initialize profiler. Please refresh the page.")}finally{l(!1)}},x=async()=>{try{const e=await vs.getUsers();if(n(e.data||[]),e.data&&e.data.length>0){const r=e.data[0];t(r),await y(r._id),await b(r._id)}}catch(c){throw console.error("Error fetching users:",c),c}},y=async e=>{try{const t=((await vs.getAlerts()).data||[]).filter((t=>t.target===e));i(t)}catch(c){console.error("Error fetching user alerts:",c)}},b=async e=>{p(!0);try{const t=await vs.getUserIPAnalysis(e);f(t.data.data)}catch(c){console.error("Error fetching IP analysis:",c),f(null)}finally{p(!1)}},v=e=>e.transactionCount||0,w=()=>{if(!e)return{type:"No Data",confidence:0,risk:"Unknown",variance:0,consistency:0};const t=e.trustScore/100,r=e.createdAt?Math.floor((new Date-new Date(e.createdAt))/864e5):e.accountAge||0,n=Math.min(r/365,1),s=Math.min(v(e)/100,1),a=Math.round(50+30*t+20*n),i=Math.round(60+20*t+20*s);let o="Human",l=70,c="Low";return e.trustScore<30?(o="Suspicious",l=60,c="High"):e.trustScore>80&&(o="Human",l=85,c="Low"),{type:o,confidence:l,risk:c,variance:a,consistency:i}},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line";const t=document.documentElement.classList.contains("dark"),r=t?"#ffffff":"#000000",n=t?"#374151":"#e5e7eb",s=t?"#9ca3af":"#6b7280",a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{color:r}},tooltip:{backgroundColor:t?"#1f2937":"#ffffff",titleColor:r,bodyColor:r,borderColor:n,borderWidth:1}}};return"line"===e?a.scales={x:{ticks:{color:s},grid:{color:n}},y:{ticks:{color:s},grid:{color:n},beginAtZero:!0}}:"radar"===e&&(a.scales={r:{beginAtZero:!0,max:100,ticks:{color:s},grid:{color:n},angleLines:{color:n},pointLabels:{color:s}}}),a};if(o)return(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white",children:"Loading Trust DNA Profiler..."}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Connecting to AI analysis system..."})]})});if(c)return(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"text-red-500 text-6xl mb-4"}),(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white mb-2",children:"Profiler Error"}),(0,_t.jsx)("div",{className:"text-gray-600 dark:text-gray-400 mb-4",children:c}),(0,_t.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors duration-200",children:"Retry"})]})});if(!e)return(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white",children:"No users available for analysis"})});const j=w(),N=(()=>{const t=[];if(e){const r=e.createdAt?Math.floor((new Date-new Date(e.createdAt))/864e5):e.accountAge||0;e.trustScore<40&&t.push("Low trust score"),r<25&&t.push("New account"),v(e)>50&&r<90&&t.push("High activity on new account")}const r=w();return"High"===r.risk&&t.push("Suspicious behavioral patterns"),r.variance<25&&t.push("Robotic typing patterns"),t})();return(0,_t.jsx)("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,_t.jsxs)("div",{className:"mb-8",children:[(0,_t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Trust DNA Profiler"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Real-time behavioral analysis powered by AI"})]}),(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8 transition-colors duration-200",children:(0,_t.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select User for Analysis:"}),(0,_t.jsx)("select",{value:e._id,onChange:e=>(async e=>{const n=r.find((t=>t._id===e));n&&(t(n),await y(e),await b(e))})(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 w-full max-w-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:r.map((e=>(0,_t.jsxs)("option",{value:e._id,children:[e.username," (Trust Score: ",e.trustScore,"%)"]},e._id)))})]})})}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Trust Score Analysis"}),(0,_t.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,_t.jsxs)("div",{className:"relative w-32 h-32",children:[(0,_t.jsxs)("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 36 36",children:[(0,_t.jsx)("path",{className:"text-gray-300 dark:text-gray-600",stroke:"currentColor",strokeWidth:"3",fill:"none",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,_t.jsx)("path",{className:"".concat(e.trustScore>70?"text-green-500":e.trustScore>40?"text-yellow-500":"text-red-500"),stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",fill:"none",strokeDasharray:"".concat(e.trustScore,", 100"),d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),(0,_t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,_t.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.trustScore,"%"]})})]})}),(0,_t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Account Age:"}),(0,_t.jsxs)("span",{className:"text-gray-900 dark:text-white",children:[e.createdAt?Math.floor((new Date-new Date(e.createdAt))/864e5):e.accountAge||0," days"]})]}),(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Transactions:"}),(0,_t.jsxs)("span",{className:"text-gray-900 dark:text-white",children:[v(e),0===v(e)&&(0,_t.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(No orders placed)"})]})]}),(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Risk Level:"}),(0,_t.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("Low"===e.riskLevel?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"Medium"===e.riskLevel?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"),children:e.riskLevel})]})]}),N.length>0&&(0,_t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,_t.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Risk Factors:"}),(0,_t.jsx)("ul",{className:"space-y-1",children:N.map(((e,t)=>(0,_t.jsxs)("li",{className:"text-xs text-red-600 dark:text-red-400 flex items-center",children:[(0,_t.jsx)("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),e]},t)))})]}),(0,_t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,_t.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"IP Analysis"}),(0,_t.jsx)("button",{onClick:async()=>{if(e)try{const s=(await vs.recalculateUserTrust(e._id)).data.data,a=h(h({},e),{},{trustScore:s.newTrustScore});t(a),n(r.map((t=>t._id===e._id?a:t))),f(s.ipAnalysis)}catch(c){console.error("Error recalculating trust score:",c),d("Failed to recalculate trust score")}},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded transition-colors duration-200",children:"Recalculate"})]}),m?(0,_t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Loading IP analysis..."}):u?(0,_t.jsxs)("div",{className:"space-y-2",children:[(0,_t.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"IP Address:"}),(0,_t.jsx)("span",{className:"text-gray-900 dark:text-white font-mono",children:u.ipAddress})]}),(0,_t.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Other accounts:"}),(0,_t.jsx)("span",{className:"font-medium ".concat(0===u.usersWithSameIP?"text-green-600 dark:text-green-400":1===u.usersWithSameIP?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:u.usersWithSameIP})]}),(0,_t.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Status:"}),(0,_t.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("Low"===u.riskLevel?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"Medium"===u.riskLevel?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"),children:u.ipStatus})]}),(0,_t.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Score Impact:"}),(0,_t.jsxs)("span",{className:"font-medium ".concat(u.scoreAdjustment>0?"text-green-600 dark:text-green-400":u.scoreAdjustment<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"),children:[u.scoreAdjustment>0?"+":"",u.scoreAdjustment]})]}),u.otherUsers&&u.otherUsers.length>0&&(0,_t.jsxs)("div",{className:"mt-3 pt-2 border-t border-gray-100 dark:border-gray-600",children:[(0,_t.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-1",children:"Other accounts from this IP:"}),(0,_t.jsx)("div",{className:"space-y-1 max-h-16 overflow-y-auto",children:u.otherUsers.map(((e,t)=>(0,_t.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex justify-between",children:[(0,_t.jsx)("span",{children:e.username}),(0,_t.jsxs)("span",{className:"text-xs",children:[e.trustScore,"%"]})]},t)))})]})]}):(0,_t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No IP data available"})]})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Behavioral Analysis"})}),(0,_t.jsx)("div",{className:"mb-4 h-48",children:(0,_t.jsx)(Ah,{data:(()=>{if(!e)return{labels:["No Data Available"],datasets:[{label:"Typing Speed (WPM)",data:[0],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]};const t=40+e.trustScore/100*30,r=e.trustScore>70?5:e.trustScore>40?10:15,n=["Sample 1","Sample 2","Sample 3","Sample 4","Sample 5"],s=n.map((()=>Math.round(t+(Math.random()-.5)*r)));return{labels:n,datasets:[{label:"Estimated Typing Speed (WPM)",data:s,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0}]}})(),options:k("line")})}),(0,_t.jsxs)("div",{className:"space-y-3",children:[(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Pattern Type:"}),(0,_t.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Human"===j.type?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"Bot"===j.type?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"No Data"===j.type?"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200":"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200"),children:j.type})]}),(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"AI Confidence:"}),(0,_t.jsxs)("span",{className:"text-sm text-gray-900 dark:text-white",children:[j.confidence,"%"]})]}),(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Typing Variance:"}),(0,_t.jsx)("span",{className:"text-sm text-gray-900 dark:text-white",children:j.variance})]}),(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Consistency:"}),(0,_t.jsxs)("span",{className:"text-sm text-gray-900 dark:text-white",children:[j.consistency,"%"]})]})]})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Linguistic Fingerprint"}),(0,_t.jsx)("div",{className:"mb-4 h-48",children:(0,_t.jsx)(Th,{data:(()=>{if(!e)return{labels:["Sentence Variety","Emotional Authenticity","Specific Details","Vocabulary Complexity","Grammar Score"],datasets:[{label:"Linguistic Fingerprint",data:[0,0,0,0,0],backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]};const t=e.trustScore/100,r=e.createdAt?Math.floor((new Date-new Date(e.createdAt))/864e5):e.accountAge||0,n=Math.min(r/365,1),s=Math.min(v(e)/100,1);return{labels:["Sentence Variety","Emotional Authenticity","Specific Details","Vocabulary Complexity","Grammar Score"],datasets:[{label:"Linguistic Fingerprint",data:[Math.round(100*(.4*t+.6*n)),Math.round(100*(.5*t+.3*n+.2*s)),Math.round(100*(.4*s+.6*t)),Math.round(100*(.3*n+.4*t+.3*s)),Math.round(100*(.6*t+.4*n))],backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]}})(),options:k("radar")})}),(0,_t.jsx)("div",{className:"text-center",children:(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Linguistic analysis based on user profile and historical data"})})]})]}),s.length>0&&(0,_t.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User-Specific Alerts"})}),(0,_t.jsx)("div",{className:"p-6",children:(0,_t.jsx)("div",{className:"space-y-3",children:s.map((e=>(0,_t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("p",{className:"font-medium text-red-800 dark:text-red-200",children:e.type}),(0,_t.jsx)("p",{className:"text-sm text-red-600 dark:text-red-300",children:e.description}),(0,_t.jsx)("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:new Date(e.createdAt).toLocaleString()})]}),(0,_t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("Critical"===e.severity?"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200":"High"===e.severity?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"Medium"===e.severity?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200"),children:e.severity})]},e._id)))})})]})]})})},hm=()=>{var e,t,r,n,s,i,o,l,c,d,u,f,m;const[p,g]=(0,a.useState)([]),[x,y]=(0,a.useState)([]),[b,v]=(0,a.useState)({}),[w,k]=(0,a.useState)(!0),[j,N]=(0,a.useState)(null),[S,_]=(0,a.useState)(10),[C,E]=(0,a.useState)("yes"),[A,P]=(0,a.useState)({open:!1,market:null,value:""});(0,a.useEffect)((()=>{T()}),[]);const T=async()=>{try{const e="https://trustlens-production-backend.up.railway.app/api",[t,r,n]=await Promise.all([fetch("".concat(e,"/predictions?all=true")),fetch("".concat(e,"/predictions/suggestions/ai")),fetch("".concat(e,"/predictions/stats/overview"))]),s=await t.json(),a=await r.json(),i=await n.json();g(s),y(a.suggestions||[]),v(i),k(!1)}catch(e){console.error("Error fetching prediction data:",e),k(!1)}},R=()=>{P({open:!1,market:null,value:""})},O=p.filter((e=>"active"===e.marketStatus)),M=p.filter((e=>"resolved"===e.marketStatus));return w?(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white",children:"Loading Prediction Markets..."})}):(0,_t.jsx)("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,_t.jsxs)("div",{className:"mb-8",children:[(0,_t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Trust Prediction Markets"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"AI-powered prediction markets for user behavior and fraud detection"})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Active Markets"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:p.length})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Suggestions"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mt-2",children:x.length})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Volume"}),(0,_t.jsxs)("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mt-2",children:["\u20b9",(null===(e=b.bettingStats)||void 0===e?void 0:e.totalVolume)||0]})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Avg Bet Size"}),(0,_t.jsxs)("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-2",children:["\u20b9",Math.round((null===(t=b.bettingStats)||void 0===t?void 0:t.avgBetSize)||0)]})]})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Market Suggestions"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Markets recommended by our AI fraud detection system"})]}),(0,_t.jsx)("div",{className:"p-6",children:(0,_t.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:0===x.length?(0,_t.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[(0,_t.jsx)("div",{className:"text-4xl mb-4",children:"\ud83e\udd16"}),(0,_t.jsx)("p",{className:"font-medium",children:"No AI market suggestions available right now"}),(0,_t.jsx)("p",{className:"text-sm mt-2",children:"Try injecting more user data or lowering thresholds"}),(0,_t.jsx)("p",{className:"text-xs mt-1 text-gray-400",children:"The AI needs sufficient user activity to generate meaningful predictions"})]}):x.map(((e,t)=>{var r;return(0,_t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700 transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.question}),(0,_t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("fraud_likelihood"===e.type?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"),children:e.type.replace("_"," ")})]}),(0,_t.jsxs)("div",{className:"mb-3",children:[(0,_t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,_t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["AI Prediction: ",(0,_t.jsx)("strong",{className:"text-gray-900 dark:text-white",children:((null===(r=e.aiPrediction)||void 0===r?void 0:r.prediction)||"").toUpperCase()})]}),(0,_t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["Confidence: ",(0,_t.jsxs)("strong",{className:"text-gray-900 dark:text-white",children:[e.aiPrediction.confidence,"%"]})]})]}),(0,_t.jsx)("div",{className:"mt-1",children:(0,_t.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Reasoning: ",e.aiPrediction.reasoning.join(", ")]})})]}),(0,_t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_t.jsxs)("div",{className:"text-sm",children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Suggested Odds: "}),(0,_t.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:["Yes ",e.suggestedOdds.yes,"x, No ",e.suggestedOdds.no,"x"]})]}),(0,_t.jsx)("button",{onClick:()=>(async e=>{try{const t={targetUserId:e.targetUser,marketType:e.type,marketQuestion:e.question,predictionTarget:{value:"trust_score_prediction"===e.type?70:1,metric:"trust_score_prediction"===e.type?"trust_score":"fraud_likelihood"},timeframeDays:"trust_score_prediction"===e.type?30:14,createdBy:(()=>{try{const e=localStorage.getItem("token");return e?JSON.parse(atob(e.split(".")[1])).id:null}catch(km){return null}})()||"system"},r="https://trustlens-production-backend.up.railway.app/api",n=await fetch("".concat(r,"/predictions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await n.json();n.ok?(await T(),alert("Market created successfully!")):alert("Failed to create market: ".concat(s.message))}catch(t){console.error("Error creating market:",t),alert("Failed to create market: ".concat(t.message))}})(e),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors duration-200",children:"Create Market"})]})]},t)}))})})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Active Prediction Markets"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Live markets you can bet on or resolve"})]}),(0,_t.jsx)("div",{className:"p-6",children:(0,_t.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:0===O.length?(0,_t.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[(0,_t.jsx)("p",{children:"No active markets yet."}),(0,_t.jsx)("p",{className:"text-sm",children:"Create markets from AI suggestions above!"})]}):O.map((e=>{var t,r;return(0,_t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700 transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.marketQuestion}),(0,_t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("fraud_likelihood"===e.marketType?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"),children:e.marketType.replace("_"," ")})]}),(0,_t.jsxs)("div",{className:"mb-3",children:[(0,_t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,_t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["Pool: ",(0,_t.jsxs)("strong",{className:"text-gray-900 dark:text-white",children:["\u20b9",e.totalPool]})]}),(0,_t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["Bettors: ",(0,_t.jsx)("strong",{className:"text-gray-900 dark:text-white",children:e.marketMetrics.totalBettors})]})]}),(0,_t.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,_t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["Yes: ",e.marketMetrics.yesPercentage.toFixed(1),"%"]}),(0,_t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["No: ",e.marketMetrics.noPercentage.toFixed(1),"%"]})]})]}),(0,_t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_t.jsxs)("div",{className:"text-sm",children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Current Odds: "}),(0,_t.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:["Yes ",e.currentOdds.yes.toFixed(2),"x, No ",e.currentOdds.no.toFixed(2),"x"]})]}),(0,_t.jsxs)("div",{className:"flex space-x-2",children:[(0,_t.jsx)("button",{onClick:()=>N(e),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors duration-200",children:"Place Bet"}),(0,_t.jsx)("button",{onClick:()=>(async e=>{let t="";if("trust_score_prediction"===e.marketType)try{const r="https://trustlens-production-backend.up.railway.app/api",n=await fetch("".concat(r,"/users/").concat(e.targetUser));n.ok&&(t=(await n.json()).trustScore||0)}catch(r){console.error("Error fetching user data:",r),t=0}P({open:!0,market:e,value:t.toString()})})(e),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors duration-200",children:"Resolve"})]})]}),e.aiPrediction&&(0,_t.jsxs)("div",{className:"mt-2 p-2 bg-gray-100 dark:bg-gray-600 rounded text-xs transition-colors duration-200",children:[(0,_t.jsx)("strong",{className:"text-gray-900 dark:text-white",children:"AI Prediction:"}),(0,_t.jsxs)("span",{className:"text-gray-700 dark:text-gray-200",children:[" ",((null===(t=e.aiPrediction)||void 0===t?void 0:t.prediction)||"").toUpperCase()," (",null===(r=e.aiPrediction)||void 0===r?void 0:r.confidence,"% confidence)"]})]})]},e._id)}))})})]})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200 mt-8",children:[(0,_t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Resolved Markets"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Markets that have been resolved and their outcomes"})]}),(0,_t.jsx)("div",{className:"p-6",children:(0,_t.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:0===M.length?(0,_t.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:(0,_t.jsx)("p",{children:"No resolved markets yet."})}):M.map((e=>{var t,r,n,s,a,i,o;return(0,_t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700 transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.marketQuestion}),(0,_t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("fraud_likelihood"===e.marketType?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"),children:e.marketType.replace("_"," ")})]}),(0,_t.jsxs)("div",{className:"mb-3 flex flex-col text-sm",children:[(0,_t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["Outcome: ",(0,_t.jsx)("strong",{className:"text-gray-900 dark:text-white",children:(null===(t=e.resolution)||void 0===t||null===(r=t.outcome)||void 0===r?void 0:r.toUpperCase())||"N/A"})]}),(0,_t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["Actual Value: ",(0,_t.jsx)("strong",{className:"text-gray-900 dark:text-white",children:null!==(n=null===(s=e.resolution)||void 0===s?void 0:s.actualValue)&&void 0!==n?n:"N/A"})]}),(0,_t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["Resolved At: ",(0,_t.jsx)("strong",{className:"text-gray-900 dark:text-white",children:null!==(a=e.resolution)&&void 0!==a&&a.resolvedAt?new Date(e.resolution.resolvedAt).toLocaleString():"N/A"})]})]}),e.aiPrediction&&(0,_t.jsxs)("div",{className:"mt-2 p-2 bg-gray-100 dark:bg-gray-600 rounded text-xs transition-colors duration-200",children:[(0,_t.jsx)("strong",{className:"text-gray-900 dark:text-white",children:"AI Prediction:"}),(0,_t.jsxs)("span",{className:"text-gray-700 dark:text-gray-200",children:[" ",((null===(i=e.aiPrediction)||void 0===i?void 0:i.prediction)||"").toUpperCase()," (",null===(o=e.aiPrediction)||void 0===o?void 0:o.confidence,"% confidence)"]})]})]},e._id)}))})})]}),j&&(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Place Bet"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:j.marketQuestion}),(0,_t.jsxs)("div",{className:"mb-4",children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prediction"}),(0,_t.jsxs)("select",{value:C,onChange:e=>E(e.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,_t.jsxs)("option",{value:"yes",children:["Yes (",j.currentOdds.yes.toFixed(2),"x odds)"]}),(0,_t.jsxs)("option",{value:"no",children:["No (",j.currentOdds.no.toFixed(2),"x odds)"]})]})]}),(0,_t.jsxs)("div",{className:"mb-4",children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bet Amount (\u20b9)"}),(0,_t.jsx)("input",{type:"number",value:S,onChange:e=>_(Number(e.target.value)),min:"1",max:"1000",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,_t.jsx)("div",{className:"mb-4 p-2 bg-gray-50 dark:bg-gray-700 rounded transition-colors duration-200",children:(0,_t.jsxs)("p",{className:"text-sm text-gray-900 dark:text-white",children:[(0,_t.jsx)("strong",{children:"Potential Payout:"})," \u20b9",(S*("yes"===C?j.currentOdds.yes:j.currentOdds.no)).toFixed(2)]})}),(0,_t.jsxs)("div",{className:"flex space-x-3",children:[(0,_t.jsx)("button",{onClick:()=>(async e=>{try{const t="https://trustlens-production-backend.up.railway.app/api",r=await fetch("".concat(t,"/predictions/").concat(e,"/bet"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bettorId:(()=>{try{const e=localStorage.getItem("token");return e?JSON.parse(atob(e.split(".")[1])).id:null}catch(km){return null}})(),prediction:C,amount:S,confidence:75})});if(r.ok){const e=await r.json();alert("Bet placed successfully! New odds: Yes ".concat(e.newOdds.yes,"x, No ").concat(e.newOdds.no,"x")),T(),N(null)}}catch(t){console.error("Error placing bet:",t),alert("Failed to place bet")}})(j._id),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded font-medium transition-colors duration-200",children:"Place Bet"}),(0,_t.jsx)("button",{onClick:()=>N(null),className:"flex-1 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 py-2 rounded font-medium transition-colors duration-200",children:"Cancel"})]})]})}),A.open&&(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Resolve Market"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:null===(r=A.market)||void 0===r?void 0:r.marketQuestion}),"trust_score_prediction"===(null===(n=A.market)||void 0===n?void 0:n.marketType)&&(0,_t.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900 rounded",children:[(0,_t.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,_t.jsx)("strong",{children:"Target:"})," ",null===(s=A.market)||void 0===s||null===(i=s.predictionTarget)||void 0===i?void 0:i.value,"+ trust score"]}),(0,_t.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,_t.jsx)("strong",{children:"Current:"})," ",A.value," trust score"]})]}),"fraud_likelihood"===(null===(o=A.market)||void 0===o?void 0:o.marketType)&&(0,_t.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900 rounded",children:(0,_t.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200",children:[(0,_t.jsx)("strong",{children:"Enter:"})," 0 for no fraud, 1 for fraud detected"]})}),(0,_t.jsxs)("div",{className:"mb-4",children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"trust_score_prediction"===(null===(l=A.market)||void 0===l?void 0:l.marketType)?"Final Trust Score":"fraud_likelihood"===(null===(c=A.market)||void 0===c?void 0:c.marketType)?"Fraud Status (0=No, 1=Yes)":"Actual Value"}),(0,_t.jsx)("input",{type:"number",value:A.value,onChange:e=>P(h(h({},A),{},{value:e.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"trust_score_prediction"===(null===(d=A.market)||void 0===d?void 0:d.marketType)?"Enter final trust score":"fraud_likelihood"===(null===(u=A.market)||void 0===u?void 0:u.marketType)?"0 or 1":"Enter actual value",min:"fraud_likelihood"===(null===(f=A.market)||void 0===f?void 0:f.marketType)?0:void 0,max:"fraud_likelihood"===(null===(m=A.market)||void 0===m?void 0:m.marketType)?1:void 0})]}),(0,_t.jsxs)("div",{className:"flex space-x-3",children:[(0,_t.jsx)("button",{onClick:async()=>{if(A.market&&""!==A.value)try{const e="https://trustlens-production-backend.up.railway.app/api",t=await fetch("".concat(e,"/predictions/").concat(A.market._id,"/resolve"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({actualValue:A.value,resolvedBy:"admin"})});if(t.ok)R(),T(),alert("Market resolved!");else{const e=await t.json();alert("Failed to resolve market: ".concat(e.message))}}catch(e){alert("Failed to resolve market")}},className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded font-medium transition-colors duration-200",children:"Resolve"}),(0,_t.jsx)("button",{onClick:R,className:"flex-1 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 py-2 rounded font-medium transition-colors duration-200",children:"Cancel"})]})]})})]})})},fm=()=>{var e,t,r,n;const[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(""),[f,m]=(0,a.useState)(75),[p,g]=(0,a.useState)(""),[x,y]=(0,a.useState)(new Set);(0,a.useEffect)((()=>{b()}),[]);const b=async()=>{try{const e="https://trustlens-production-backend.up.railway.app/api",t=await fetch("".concat(e,"/enhanced-reviews/pending-review"));if(!t.ok)throw new Error("Failed to fetch pending reviews: ".concat(t.status));const r=await t.json();i(r);const n=localStorage.getItem("token"),s=n?(()=>{try{return JSON.parse(atob(n.split(".")[1])).id}catch(km){return null}})():null,a=new Set;r.forEach((e=>{var t,r;const n=null===(t=e.authenticationSteps)||void 0===t?void 0:t.find((e=>"community_validation"===e.step));if(null!==n&&void 0!==n&&null!==(r=n.details)&&void 0!==r&&r.votes){var i;if(n.details.votes.some((e=>e.voterId===s)))a.add((null===(i=e.reviewId)||void 0===i?void 0:i._id)||e.reviewId)}})),y(a),l(!1)}catch(e){console.error("Error fetching pending reviews:",e),l(!1),alert("Failed to load pending reviews: ".concat(e.message))}};return o?(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white",children:"Loading Reviews for Community Validation..."})}):(0,_t.jsx)("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,_t.jsxs)("div",{className:"mb-8",children:[(0,_t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Community Review Validation"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Help validate reviews that were flagged for community assessment"})]}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Pending Reviews"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:s.length})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Suspicious Reviews"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400 mt-2",children:s.filter((e=>{var t;return"suspicious"===(null===(t=e.finalDecision)||void 0===t?void 0:t.status)})).length})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"High Risk"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mt-2",children:s.filter((e=>{var t;return null===(t=e.fraudIndicators)||void 0===t?void 0:t.some((e=>"high"===e.severity||"critical"===e.severity))})).length})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Avg Auth Score"}),(0,_t.jsxs)("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mt-2",children:[s.length>0?Math.round(s.reduce(((e,t)=>e+(t.overallAuthenticationScore||0)),0)/s.length):0,"%"]})]})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Reviews Requiring Community Validation"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"These reviews were flagged by our AI system and need human validation"})]}),(0,_t.jsx)("div",{className:"p-6",children:0===s.length?(0,_t.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[(0,_t.jsx)("div",{className:"text-4xl mb-4",children:"\u2705"}),(0,_t.jsx)("p",{className:"font-medium",children:"No reviews pending community validation!"}),(0,_t.jsx)("p",{className:"text-sm mt-2",children:"All reviews have been processed or are currently being reviewed."})]}):(0,_t.jsx)("div",{className:"space-y-6",children:s.map((e=>{var t,r,n,s,a,i,o,l,c,u,h;return(0,_t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6 bg-gray-50 dark:bg-gray-700 transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsxs)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:["Review by ",(null===(t=e.reviewId)||void 0===t?void 0:t.reviewerName)||"Anonymous"]}),(0,_t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300 mb-2",children:[(0,_t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((h=null===(r=e.finalDecision)||void 0===r?void 0:r.status,{authentic:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",suspicious:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",fake:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",requires_investigation:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}[h]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200")),children:(null===(n=e.finalDecision)||void 0===n?void 0:n.status)||"unknown"}),(0,_t.jsxs)("span",{children:["Auth Score: ",e.overallAuthenticationScore||0,"%"]}),(0,_t.jsxs)("span",{children:["Fraud Indicators: ",(null===(s=e.fraudIndicators)||void 0===s?void 0:s.length)||0]})]})]}),(0,_t.jsx)("button",{onClick:()=>d(e),disabled:x.has((null===(a=e.reviewId)||void 0===a?void 0:a._id)||e.reviewId),className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 ".concat(x.has((null===(i=e.reviewId)||void 0===i?void 0:i._id)||e.reviewId)?"bg-gray-400 cursor-not-allowed text-white":"bg-blue-600 hover:bg-blue-700 text-white"),children:x.has((null===(o=e.reviewId)||void 0===o?void 0:o._id)||e.reviewId)?"Voted":"Validate"})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-600 rounded-lg p-4 mb-4 transition-colors duration-200",children:[(0,_t.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Review Content"}),(0,_t.jsx)("p",{className:"text-gray-700 dark:text-gray-200 text-sm",children:(null===(l=e.reviewId)||void 0===l?void 0:l.content)||"Review content not available"}),(0,_t.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Rating: ",(null===(c=e.reviewId)||void 0===c?void 0:c.rating)||"N/A"," stars | Date: ",null!==(u=e.reviewId)&&void 0!==u&&u.createdAt?new Date(e.reviewId.createdAt).toLocaleDateString():"N/A"]})]}),e.fraudIndicators&&e.fraudIndicators.length>0&&(0,_t.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 mb-4 transition-colors duration-200",children:[(0,_t.jsx)("h5",{className:"font-medium text-red-900 dark:text-red-200 mb-2",children:"\ud83d\udea8 Fraud Indicators Detected"}),(0,_t.jsx)("div",{className:"space-y-2",children:e.fraudIndicators.filter((e=>{var t,r;return!(null!==(t=e.description)&&void 0!==t&&t.toLowerCase().includes("excessive word repetition"))&&!(null!==(r=e.indicator)&&void 0!==r&&r.toLowerCase().includes("excessive word repetition"))})).map(((e,t)=>{return(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("span",{className:"text-sm text-red-800 dark:text-red-200",children:e.description||e.indicator}),(0,_t.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat((r=e.severity,{low:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",high:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",critical:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}[r]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200")),children:[e.severity," (",e.confidence,"%)"]})]},t);var r}))})]}),e.authenticationSteps&&e.authenticationSteps.length>0&&(0,_t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 transition-colors duration-200",children:[(0,_t.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-200 mb-2",children:"\ud83e\udd16 AI Analysis Summary"}),(0,_t.jsx)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:e.authenticationSteps.map(((e,t)=>(0,_t.jsxs)("div",{className:"flex justify-between",children:[(0,_t.jsxs)("span",{className:"text-blue-800 dark:text-blue-200 capitalize",children:[e.step.replace("_"," "),":"]}),(0,_t.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("passed"===e.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"failed"===e.status?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"),children:[e.status," (",e.score||0,"%)"]})]},t)))})]})]},e._id)}))})})]}),c&&(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-h-96 overflow-y-auto transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Community Validation"}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:["Review by ",(null===(e=c.reviewId)||void 0===e?void 0:e.reviewerName)||"Anonymous"]}),(0,_t.jsx)("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded",children:(0,_t.jsxs)("p",{className:"text-sm text-gray-900 dark:text-white",children:['"',(null===(t=c.reviewId)||void 0===t?void 0:t.content)||"Review content not available",'"']})}),(0,_t.jsxs)("div",{className:"mb-4",children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Assessment"}),(0,_t.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,_t.jsx)("option",{value:"",children:"Select your assessment..."}),(0,_t.jsx)("option",{value:"authentic",children:"Authentic - Real customer review"}),(0,_t.jsx)("option",{value:"suspicious",children:"Suspicious - Some concerns"}),(0,_t.jsx)("option",{value:"fake",children:"Fake - Clearly fabricated"})]})]}),(0,_t.jsxs)("div",{className:"mb-4",children:[(0,_t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Confidence Level: ",f,"%"]}),(0,_t.jsx)("input",{type:"range",value:f,onChange:e=>m(Number(e.target.value)),min:"1",max:"100",className:"w-full"})]}),(0,_t.jsxs)("div",{className:"mb-4",children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reasoning (Optional)"}),(0,_t.jsx)("textarea",{value:p,onChange:e=>g(e.target.value),placeholder:"Explain your assessment...",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 h-20 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",maxLength:"500"})]}),(0,_t.jsxs)("div",{className:"mb-4 p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm transition-colors duration-200",children:[(0,_t.jsxs)("p",{className:"text-gray-900 dark:text-white",children:[(0,_t.jsx)("strong",{children:"AI Assessment:"})," ",null===(r=c.finalDecision)||void 0===r?void 0:r.status," (",(null===(n=c.finalDecision)||void 0===n?void 0:n.confidence)||0,"%)"]}),(0,_t.jsxs)("p",{className:"text-gray-900 dark:text-white",children:[(0,_t.jsx)("strong",{children:"Authentication Score:"})," ",c.overallAuthenticationScore||0,"%"]})]}),(0,_t.jsxs)("div",{className:"flex space-x-3",children:[(0,_t.jsx)("button",{onClick:()=>{var e;return(async e=>{if(u)try{const t="https://trustlens-production-backend.up.railway.app/api",r=await fetch("".concat(t,"/enhanced-reviews/").concat(e,"/community-vote"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({voterId:(()=>{try{const e=localStorage.getItem("token");return e?JSON.parse(atob(e.split(".")[1])).id:null}catch(km){return null}})(),vote:u,confidence:f,reasoning:p})}),n=await r.json();if(r.ok){const t="\u2705 Review validated successfully!\n\nYour assessment: ".concat(u.toUpperCase(),"\nConfidence: ").concat(f,"%\n\nThank you for helping maintain review quality!");alert(t),y((t=>new Set([...t,e]))),await b(),d(null),h(""),g(""),m(75)}else alert("\u274c Failed to submit vote: ".concat(n.message))}catch(t){console.error("Error submitting community vote:",t),alert("\u274c Failed to submit vote: ".concat(t.message))}else alert("Please select your assessment before submitting.")})((null===(e=c.reviewId)||void 0===e?void 0:e._id)||c.reviewId)},disabled:!u,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 dark:disabled:bg-gray-600 text-white py-2 rounded font-medium transition-colors duration-200",children:"Submit Vote"}),(0,_t.jsx)("button",{onClick:()=>d(null),className:"flex-1 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 py-2 rounded font-medium transition-colors duration-200",children:"Cancel"})]})]})})]})})},mm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";const r=document.createElement("div");r.className="fixed top-4 right-4 z-50 px-4 py-2 rounded-md shadow-lg transition-all duration-300 ".concat("success"===t?"bg-green-500 text-white":"error"===t?"bg-red-500 text-white":"bg-blue-500 text-white"),r.textContent=e,document.body.appendChild(r),setTimeout((()=>{r.remove()}),3e3)},pm=()=>{var e,t,r,n,s,i,o,l,c,d,u,f,m;const[p,g]=(0,a.useState)([]),[x,y]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),[w,k]=(0,a.useState)([]),[j,N]=(0,a.useState)(!0),[S,_]=(0,a.useState)(null),[C,E]=(0,a.useState)(null),[A,P]=(0,a.useState)(null),[T,R]=(0,a.useState)(!1),[O,M]=(0,a.useState)(null),[L,D]=(0,a.useState)([]),[I,F]=(0,a.useState)({}),[z,B]=(0,a.useState)(!1),V=(0,a.useRef)(null);(0,a.useEffect)((()=>{U()}),[]),(0,a.useEffect)((()=>{if(b&&b.trust&&"number"===typeof b.trust.authenticityScore){const e=b.trust.authenticityScore;null!==V.current&&V.current!==e&&(B(!0),mm("Trust score updated!","success"),setTimeout((()=>B(!1)),1200)),V.current=e}}),[null===b||void 0===b||null===(e=b.trust)||void 0===e?void 0:e.authenticityScore]);const U=async()=>{try{const t=(await vs.getProducts()).data;if(g(t),t.length>0){const e=t[0];y(e),await H(e._id),await W(e._id),await q(e._id),e.seller&&e.seller._id&&await $(e.seller._id)}if(t.length>0&&t[0].seller)try{const e=await vs.getProductLifecycleInsights(t[0].seller._id||t[0].seller);_(e.data)}catch(e){console.error("Error fetching insights:",e)}N(!1)}catch(e){console.error("Error fetching product data:",e),N(!1)}},H=async e=>{try{const t=await vs.getProductLifecycleAnalytics(e);v(t.data)}catch(t){console.error("Error fetching analytics:",t),await K(e)}},W=async e=>{try{const t=await vs.getProductLifecycleTimeline(e);k(t.data.timeline||[])}catch(t){console.error("Error fetching timeline:",t)}},q=async e=>{try{const t=await vs.getProductReturnAnalytics(e);E(t.data)}catch(t){console.error("Error fetching return analytics:",t),E(null)}},$=async e=>{try{let r;try{r=await vs.getSellerAnalytics(e)}catch(t){r=await vs.getVendorAnalytics(e)}P(r.data)}catch(r){console.error("Error fetching seller analytics:",r),P(null)}},Y=async e=>{try{const t=await vs.getProductAuditLogs(e);D(t.data.auditLogs||[])}catch(t){console.error("Error fetching audit logs:",t),D([])}},K=async e=>{try{var t;const r=()=>{try{const e=localStorage.getItem("token");if(!e)return null;return JSON.parse(atob(e.split(".")[1])).id}catch(km){return null}};await vs.initializeProductLifecycle({productId:e,sellerId:(null===x||void 0===x||null===(t=x.seller)||void 0===t?void 0:t._id)||(null===x||void 0===x?void 0:x.seller)||r()||"system",initialPrice:(null===x||void 0===x?void 0:x.price)||0}),await H(e),await W(e)}catch(r){console.error("Error initializing lifecycle:",r)}},Q=async e=>{try{var t;await vs.progressProductLifecycle({productId:x._id,newStage:e,performedBy:(null===(t=x.seller)||void 0===t?void 0:t._id)||x.seller||(()=>{try{const e=localStorage.getItem("token");if(!e)return"system";return JSON.parse(atob(e.split(".")[1])).id}catch(km){return"system"}})(),details:{timestamp:new Date,action:"Progressed to ".concat(e)}}),await H(x._id),await W(x._id),mm("Product progressed to ".concat(e," stage!"),"success")}catch(r){console.error("Error progressing stage:",r)}},J=e=>{const t=[];if(e.returnRate>50?t.push({type:"critical",icon:"",label:"Critical Return Rate",description:"".concat(e.returnRate,"% return rate detected. Severe trust penalty applied."),color:"bg-red-100 text-red-800 border-red-200"}):e.returnRate>=30&&e.returnRate<=50&&t.push({type:"warning",icon:"",label:"High Return Rate",description:"".concat(e.returnRate,"% return rate detected. Trust penalty applied."),color:"bg-yellow-100 text-yellow-800 border-yellow-200"}),e.totalReturned>=3&&e.totalSold>0){e.totalReturned/e.totalSold*100>75&&t.push({type:"critical",icon:"",label:"Rapid Returns",description:"".concat(e.totalReturned," returns out of ").concat(e.totalSold," sales. Possible fraud pattern."),color:"bg-red-100 text-red-800 border-red-200"})}const r=e.createdAt?(Date.now()-new Date(e.createdAt))/864e5:0;return r<=30&&e.returnRate>25&&t.push({type:"warning",icon:"",label:"New Product Flag",description:"New product (".concat(Math.round(r)," days) with ").concat(e.returnRate,"% returns."),color:"bg-orange-100 text-orange-800 border-orange-200"}),t},X=e=>({draft:"bg-gray-100 text-gray-800",pending_approval:"bg-yellow-100 text-yellow-800",listed:"bg-blue-100 text-blue-800",promoted:"bg-purple-100 text-purple-800",sold:"bg-green-100 text-green-800",delivered:"bg-green-200 text-green-900",reviewed:"bg-indigo-100 text-indigo-800",archived:"bg-gray-200 text-gray-600"}[e]||"bg-gray-100 text-gray-800"),G=e=>e>50?{color:"bg-red-100 text-red-800 border-red-200",icon:"\ud83d\udd34",label:"High",description:"High return rate - Trust penalty applied"}:e>20?{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"\ud83d\udfe1",label:"Medium",description:"Medium return rate - Minor trust penalty"}:{color:"bg-green-100 text-green-800 border-green-200",icon:"\ud83d\udfe2",label:"Low",description:"Low return rate - Trust bonus applied"};return j?(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white",children:"Loading Product Tracker..."})}):(0,_t.jsx)(_t.Fragment,{children:(0,_t.jsxs)("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,_t.jsxs)("div",{className:"mb-8",children:[(0,_t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Product Lifecycle Tracker"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Monitor product journey from creation to completion"}),x&&(0,_t.jsx)("h3",{className:"text-xl font-semibold text-blue-700 dark:text-blue-300 mt-4",children:x.name})]}),(0,_t.jsxs)("div",{className:"p-4 rounded bg-gray-50 dark:bg-gray-700 shadow-sm mt-4 w-full",children:[(0,_t.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Actions:"}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[(0,_t.jsx)("button",{onClick:async()=>{try{await vs.trackProductView({productId:x._id,viewerId:(()=>{try{const e=localStorage.getItem("token");if(!e)return null;return JSON.parse(atob(e.split(".")[1])).id}catch(km){return null}})()}),await H(x._id)}catch(e){console.error("Error tracking view:",e)}},className:"bg-blue-600 hover:bg-blue-700 focus:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Track View"}),(0,_t.jsx)("button",{onClick:()=>Q("listed"),className:"bg-green-600 hover:bg-green-700 focus:bg-green-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"List Product"}),(0,_t.jsx)("button",{onClick:()=>Q("promoted"),className:"bg-purple-600 hover:bg-purple-700 focus:bg-purple-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Promote"}),(0,_t.jsx)("button",{onClick:()=>Q("sold"),className:"bg-yellow-600 hover:bg-yellow-700 focus:bg-yellow-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:"Mark Sold"}),(0,_t.jsx)("button",{onClick:async()=>{F((e=>h(h({},e),{},{purchase:!0})));try{await vs.trackProductPurchase(x._id);await U(),await Y(x._id),mm("Purchase tracked successfully!","success")}catch(e){console.error("Error tracking purchase:",e),mm("Error tracking purchase","error")}finally{F((e=>h(h({},e),{},{purchase:!1})))}},disabled:I.purchase,className:"bg-emerald-600 hover:bg-emerald-700 focus:bg-emerald-700 disabled:bg-emerald-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded text-sm font-medium transition-colors duration-200 flex items-center justify-center space-x-2 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:I.purchase?(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border border-white border-t-transparent"}),(0,_t.jsx)("span",{children:"Processing..."})]}):(0,_t.jsx)(_t.Fragment,{children:"Track Purchase"})}),(0,_t.jsx)("button",{onClick:async()=>{F((e=>h(h({},e),{},{return:!0})));try{const e=prompt("Enter return reason (optional):")||"No reason specified";await vs.trackProductReturn(x._id,e);await U(),await Y(x._id),mm("Return tracked successfully!","success")}catch(e){console.error("Error tracking return:",e),mm("Error tracking return","error")}finally{F((e=>h(h({},e),{},{return:!1})))}},disabled:I.return,className:"bg-red-600 hover:bg-red-700 focus:bg-red-700 disabled:bg-red-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded text-sm font-medium transition-colors duration-200 flex items-center justify-center space-x-2 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:I.return?(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border border-white border-t-transparent"}),(0,_t.jsx)("span",{children:"Processing..."})]}):(0,_t.jsx)(_t.Fragment,{children:"Track Return"})}),(0,_t.jsx)("button",{onClick:async()=>{if(x.seller&&x.seller._id){F((e=>h(h({},e),{},{trust:!0})));try{let t;try{t=await vs.recalculateSellerTrust(x.seller._id)}catch(e){t=await vs.recalculateVendorTrust(x.seller._id)}if(t&&t.data&&t.data.data){const{newTrustScore:e,oldTrustScore:r,returnRatePenalties:n,overallReturnRate:s}=t.data.data;await $(x.seller._id),mm("Trust score updated: ".concat(r," \u2192 ").concat(e," (Return Rate: ").concat(s.toFixed(2),"%, Penalty/Bonus: ").concat(n,")"),"success")}else mm("Trust score recalculated, but no data returned.","warning")}catch(t){console.error("Error recalculating seller trust:",t),mm("Error recalculating seller trust","error")}finally{F((e=>h(h({},e),{},{trust:!1})))}}else mm("No seller information available","error")},disabled:I.trust,className:"bg-indigo-600 hover:bg-indigo-700 focus:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded text-sm font-medium transition-colors duration-200 flex items-center justify-center space-x-2 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:I.trust?(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border border-white border-t-transparent"}),(0,_t.jsx)("span",{children:"Updating..."})]}):(0,_t.jsx)(_t.Fragment,{children:"Update Trust"})})]})]})]}),x&&(0,_t.jsxs)(_t.Fragment,{children:[J(x).length>0&&(0,_t.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-yellow-50 dark:from-red-900/20 dark:to-yellow-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:(0,_t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_t.jsx)("div",{className:"flex-shrink-0",children:(0,_t.jsx)("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,_t.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsx)("h3",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"Product Flagged - Requires Attention"}),(0,_t.jsx)("div",{className:"mt-2 space-y-1",children:J(x).map(((e,t)=>(0,_t.jsxs)("div",{className:"text-sm text-red-700 dark:text-red-300",children:[(0,_t.jsxs)("span",{className:"font-medium",children:[e.label,":"]})," ",e.description]},t)))})]})]})}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-6 text-gray-900 dark:text-white",children:"Product Lifecycle Journey"}),(0,_t.jsx)("div",{className:"flex items-center justify-between overflow-x-auto pb-4",children:[{key:"draft",label:"Draft",icon:"\ud83d\udcdd",color:"gray"},{key:"listed",label:"Listed",icon:"\ud83c\udfea",color:"blue"},{key:"promoted",label:"Promoted",icon:"\u2b50",color:"purple"},{key:"sold",label:"Sold",icon:"\ud83d\udcb0",color:"green"},{key:"delivered",label:"Delivered",icon:"\ud83d\udce6",color:"emerald"},{key:"reviewed",label:"Reviewed",icon:"\u2b50",color:"indigo"}].map(((e,t,r)=>{var n;const s=(null===b||void 0===b||null===(n=b.summary)||void 0===n?void 0:n.currentStage)||"draft",a=r.findIndex((e=>e.key===s)),i=t===a,o=t<a,l=w.find((t=>t.stage===e.key));return(0,_t.jsxs)("div",{className:"flex items-center",children:[(0,_t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,_t.jsxs)("div",{className:"\n                              relative flex items-center justify-center w-12 h-12 rounded-full border-2 \n                              transition-all duration-300\n                              ".concat(i?"bg-".concat(e.color,"-500 border-").concat(e.color,"-500 text-white shadow-lg"):"","\n                              ").concat(o?"bg-green-500 border-green-500 text-white":"","\n                              ").concat(i||o?"":"bg-gray-100 border-gray-300 text-gray-400 dark:bg-gray-700 dark:border-gray-600","\n                            "),children:[(0,_t.jsx)("span",{className:"text-lg",children:o?"\u2705":e.icon}),i&&(0,_t.jsx)("div",{className:"absolute inset-0 rounded-full bg-".concat(e.color,"-500 animate-ping opacity-25")})]}),(0,_t.jsxs)("div",{className:"mt-2 text-center min-w-0",children:[(0,_t.jsx)("div",{className:"text-sm font-medium ".concat(i?"text-".concat(e.color,"-600 dark:text-").concat(e.color,"-400"):"text-gray-600 dark:text-gray-300"),children:e.label}),l&&(0,_t.jsx)("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:new Date(l.timestamp).toLocaleDateString()})]})]}),t<r.length-1&&(0,_t.jsx)("div",{className:"\n                            h-0.5 w-16 mx-4 transition-colors duration-300\n                            ".concat(t<a?"bg-green-500":"bg-gray-300 dark:bg-gray-600","\n                          ")})]},e.key)}))}),x&&(x.totalReturned>0||x.returnRate>0)&&(0,_t.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,_t.jsx)("div",{className:"flex items-center justify-center",children:(0,_t.jsxs)("div",{className:"flex items-center space-x-4 px-4 py-2 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[(0,_t.jsx)("span",{className:"text-red-600 dark:text-red-400 text-lg",children:"\ud83d\udd04"}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Returns Detected"}),(0,_t.jsxs)("div",{className:"text-xs text-red-600 dark:text-red-400",children:[x.totalReturned," of ",x.totalSold," sold items returned (",x.returnRate,"%)"]})]})]})})})]}),(0,_t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8"}),(C||A)&&(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[C&&(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Product Return Analytics"})}),(0,_t.jsxs)("div",{className:"p-6",children:[(0,_t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,_t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl shadow p-4 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:C.totalSold}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Sold"})]}),(0,_t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl shadow p-4 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:C.totalReturned}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Returned"})]}),(0,_t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl shadow p-4 transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:[C.returnRate,"%"]}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Return Rate"})]}),(0,_t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl shadow p-4 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"flex items-center space-x-2",children:(0,_t.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(G(C.returnRate).color),children:[G(C.returnRate).icon," ",G(C.returnRate).label]})}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Return Category"})]})]}),(0,_t.jsx)("div",{className:"mt-4 p-3 bg-gray-100 dark:bg-gray-600 rounded-lg",children:(0,_t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[(0,_t.jsx)("span",{className:"font-medium",children:"Impact Details:"})," ",C.trustImpact.description]})})]})]}),A&&(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Seller Analytics"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:A.seller.username})]}),(0,_t.jsx)("div",{className:"p-6",children:(0,_t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Current Trust Score:"}),(0,_t.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Number(A.seller.currentTrustScore).toFixed(2),"%"]})]})})]})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Product Lifecycle Timeline"})}),(0,_t.jsx)("div",{className:"p-6",children:(0,_t.jsx)("div",{className:"space-y-4",children:w.length>0?w.map(((e,t)=>(0,_t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,_t.jsx)("div",{className:"w-3 h-3 rounded-full mt-2 ".concat(X(e.stage).includes("green")?"bg-green-500":X(e.stage).includes("blue")?"bg-blue-500":X(e.stage).includes("yellow")?"bg-yellow-500":"bg-gray-500")}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_t.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.action}),(0,_t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(X(e.stage)),children:e.stage})]}),(0,_t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["By ",e.performedBy," \u2022 ",new Date(e.timestamp).toLocaleString()]}),e.details&&Object.keys(e.details).length>0&&(0,_t.jsx)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:JSON.stringify(e.details,null,2)})]})]},t))):(0,_t.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[(0,_t.jsx)("p",{children:"No timeline events yet."}),(0,_t.jsx)("p",{className:"text-sm",children:"Track views or progress stages to see activity!"})]})})})]}),T&&(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,_t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Return Analytics Details"}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:(null===O||void 0===O||null===(t=O.product)||void 0===t?void 0:t.name)||"Loading..."})]}),(0,_t.jsx)("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:(0,_t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,_t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,_t.jsx)("div",{className:"p-6",children:O?(0,_t.jsxs)("div",{className:"space-y-6",children:[(0,_t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:(null===(r=O.returns)||void 0===r?void 0:r.totalSold)||0}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Sold"})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:(null===(n=O.returns)||void 0===n?void 0:n.totalReturned)||0}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Returned"})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[(null===(s=O.returns)||void 0===s?void 0:s.returnRate)||0,"%"]}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Return Rate"})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(null===(i=O.returns)||void 0===i?void 0:i.returnRateCategory)||((null===(o=O.returns)||void 0===o?void 0:o.returnRate)>50?"High":(null===(l=O.returns)||void 0===l?void 0:l.returnRate)>20?"Medium":"Low")}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Return Category"})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4 transition-colors duration-200",children:[(0,_t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_t.jsx)("div",{className:"w-6 h-6 rounded-full ".concat(((null===(c=O.returns)||void 0===c?void 0:c.returnRate)||0)>50?"bg-red-500":((null===(d=O.returns)||void 0===d?void 0:d.returnRate)||0)>20?"bg-yellow-500":"bg-green-500")}),(0,_t.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:((null===(u=O.returns)||void 0===u?void 0:u.returnRate)||0)>50?"Red":((null===(f=O.returns)||void 0===f?void 0:f.returnRate)||0)>20?"Yellow":"Green"})]}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Badge Color"})]})]}),(0,_t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[(0,_t.jsx)("h4",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Return Reasons Breakdown"}),Object.keys(O.returnReasons).length>0?(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,_t.jsx)("div",{className:"h-64",children:(0,_t.jsx)(Rh,{data:{labels:Object.keys(O.returnReasons),datasets:[{data:Object.values(O.returnReasons),backgroundColor:["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899","#14b8a6"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:document.documentElement.classList.contains("dark")?"#ffffff":"#000000",usePointStyle:!0,padding:20}},tooltip:{callbacks:{label:e=>{const t=e.dataset.data.reduce(((e,t)=>e+t),0),r=(e.parsed/t*100).toFixed(1);return"".concat(e.label,": ").concat(e.parsed," (").concat(r,"%)")}}}}}})}),(0,_t.jsx)("div",{className:"space-y-3",children:Object.entries(O.returnReasons).map((e=>{var t;let[r,n]=e;return(0,_t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg",children:[(0,_t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r}),(0,_t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_t.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n," returns"]}),(0,_t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",(n/((null===(t=O.returns)||void 0===t?void 0:t.totalReturned)||1)*100).toFixed(1),"%)"]})]})]},r)}))})]}):(0,_t.jsxs)("div",{className:"text-center py-8",children:[(0,_t.jsx)("div",{className:"text-gray-400 dark:text-gray-500 text-4xl mb-2",children:"\ud83d\udcca"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"No return reasons recorded yet"}),(0,_t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Data will appear here after customers return items"})]})]}),(null===(m=O.returns)||void 0===m?void 0:m.returns)&&O.returns.returns.length>0&&(0,_t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[(0,_t.jsx)("h4",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Recent Returns"}),(0,_t.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:O.returns.returns.slice(0,10).map(((e,t)=>{var r;return(0,_t.jsx)("div",{className:"flex items-start justify-between p-3 bg-white dark:bg-gray-800 rounded-lg",children:(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null===(r=e.reason)||void 0===r?void 0:r.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())))||"Unspecified"}),(0,_t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(e.returnDate).toLocaleDateString()})]}),e.reasonText&&(0,_t.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:['"',e.reasonText,'"']})]})},t)}))})]})]}):(0,_t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Loading detailed analytics..."})]})})})]})})]})]})})},gm=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)("all"),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)({}),[f,m]=(0,a.useState)(null);(0,a.useEffect)((()=>{p()}),[]),(0,a.useEffect)((()=>{x()}),[e,o,c]);const p=async()=>{try{const e="https://trustlens-production-backend.up.railway.app/api",r=await fetch("".concat(e,"/alerts"),{headers:{Accept:"application/json"}}),n=await r.json();t(n),g(n),i(!1)}catch(e){console.error("Error fetching alerts:",e),i(!1)}},g=e=>{const t={total:e.length,active:e.filter((e=>"Active"===e.status)).length,resolved:e.filter((e=>"Resolved"===e.status)).length,critical:e.filter((e=>"Critical"===e.severity)).length,high:e.filter((e=>"High"===e.severity)).length,medium:e.filter((e=>"Medium"===e.severity)).length,low:e.filter((e=>"Low"===e.severity)).length};h(t)},x=()=>{let t=e;"all"!==o&&(t=t.filter((e=>e.status===o))),"all"!==c&&(t=t.filter((e=>e.severity===c))),n(t)},y=async e=>{try{const r="https://trustlens-production-backend.up.railway.app/api",n=await fetch("".concat(r,"/alerts/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({status:"Resolved"})});if(!n.ok){const e=await n.text();throw new Error("HTTP ".concat(n.status,": ").concat(e))}await n.json();m(null),i(!0),setTimeout((async()=>{try{const e="https://trustlens-production-backend.up.railway.app/api",r=await fetch("".concat(e,"/alerts"),{headers:{Accept:"application/json"}}),n=await r.json();t(n),g(n),i(!1),alert("Alert resolved successfully!")}catch(e){console.error("Error refreshing after resolve:",e),i(!1)}}),500)}catch(r){console.error("Error resolving alert:",r),alert("Failed to resolve alert: ".concat(r.message))}},b=async()=>{try{const e={type:"Bot Behavior",severity:"Medium",description:"This is a test alert created from the Alert System interface",target:(()=>{try{const e=localStorage.getItem("token");if(!e)return null;return JSON.parse(atob(e.split(".")[1])).id}catch(km){return null}})()||"system",targetType:"User",status:"Active"},t="https://trustlens-production-backend.up.railway.app/api",r=await fetch("".concat(t,"/alerts"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!r.ok){const e=await r.text();throw new Error("HTTP ".concat(r.status,": ").concat(e))}await r.json();await p(),alert("Test alert created successfully!")}catch(e){console.error("Error creating test alert:",e),alert("Failed to create alert: ".concat(e.message))}},v=e=>({Critical:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 border-purple-200 dark:border-purple-700",High:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 border-red-200 dark:border-red-700",Medium:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 border-yellow-200 dark:border-yellow-700",Low:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 border-green-200 dark:border-green-700"}[e]||"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200");return s?(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white",children:"Loading Alert System..."})}):(0,_t.jsx)("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,_t.jsx)("div",{className:"mb-8",children:(0,_t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Alert Management System"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Monitor and manage security alerts and system notifications"})]}),(0,_t.jsx)("button",{onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors duration-200",children:"Create Test Alert"})]})}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Alerts"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:u.total||0})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Active Alerts"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mt-2",children:u.active||0})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Resolved"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mt-2",children:u.resolved||0})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Critical"}),(0,_t.jsx)("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mt-2",children:u.critical||0})]})]}),(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,_t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_t.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status:"}),(0,_t.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,_t.jsx)("option",{value:"all",children:"All Status"}),(0,_t.jsx)("option",{value:"Active",children:"Active"}),(0,_t.jsx)("option",{value:"Resolved",children:"Resolved"})]})]}),(0,_t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_t.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Severity:"}),(0,_t.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,_t.jsx)("option",{value:"all",children:"All Severities"}),(0,_t.jsx)("option",{value:"Critical",children:"Critical"}),(0,_t.jsx)("option",{value:"High",children:"High"}),(0,_t.jsx)("option",{value:"Medium",children:"Medium"}),(0,_t.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,_t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Showing ",r.length," of ",e.length," alerts"]})]})}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Severity Distribution"}),(0,_t.jsx)(Rh,{data:{labels:["Critical","High","Medium","Low"],datasets:[{data:[u.critical,u.high,u.medium,u.low],backgroundColor:["#8b5cf6","#ef4444","#f59e0b","#10b981"],borderWidth:2}]},options:{responsive:!0,plugins:{legend:{labels:{color:document.documentElement.classList.contains("dark")?"#ffffff":"#000000"}}}}})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Quick Actions"}),(0,_t.jsxs)("div",{className:"space-y-3",children:[(0,_t.jsxs)("button",{onClick:()=>{l("Active"),d("all")},className:"w-full text-left p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"font-medium text-red-800 dark:text-red-200",children:"View Active Alerts"}),(0,_t.jsxs)("div",{className:"text-sm text-red-600 dark:text-red-300",children:[u.active," alerts need attention"]})]}),(0,_t.jsxs)("button",{onClick:()=>{d("Critical"),l("all")},className:"w-full text-left p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"font-medium text-purple-800 dark:text-purple-200",children:"Critical Alerts"}),(0,_t.jsxs)("div",{className:"text-sm text-purple-600 dark:text-purple-300",children:[u.critical," critical issues"]})]}),(0,_t.jsxs)("button",{onClick:()=>{p()},className:"w-full text-left p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Refresh Alerts"}),(0,_t.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Update alert list"})]})]})]})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Alert Management"})}),(0,_t.jsx)("div",{className:"p-6",children:0===r.length?(0,_t.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:0===e.length?(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{className:"text-4xl mb-4",children:"\u2705"}),(0,_t.jsx)("p",{className:"font-medium text-green-600 dark:text-green-400",children:"No critical alerts active"}),(0,_t.jsx)("p",{className:"text-sm mt-2",children:"Your system is running smoothly"}),(0,_t.jsx)("p",{className:"text-xs mt-1 text-gray-400",children:"Create test alerts or wait for real security events"})]}):(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd0d"}),(0,_t.jsx)("p",{className:"font-medium",children:"No alerts match your current filters"}),(0,_t.jsx)("p",{className:"text-sm mt-2",children:"Try adjusting your status or severity filters"}),(0,_t.jsxs)("div",{className:"mt-4 space-x-2",children:[(0,_t.jsx)("button",{onClick:()=>{l("all"),d("all")},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded transition-colors duration-200",children:"Clear Filters"}),(0,_t.jsx)("button",{onClick:b,className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded transition-colors duration-200",children:"Create Test Alert"})]})]})}):(0,_t.jsx)("div",{className:"space-y-4",children:r.map((e=>{return(0,_t.jsx)("div",{className:"border rounded-lg p-4 ".concat(v(e.severity)," transition-colors duration-200"),children:(0,_t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,_t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,_t.jsx)("span",{className:"text-2xl",children:(t=e.severity,{Critical:"",High:"",Medium:"",Low:""}[t]||"")}),(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,_t.jsx)("h4",{className:"font-semibold",children:e.type}),(0,_t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("Active"===e.status?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200"),children:e.status})]}),(0,_t.jsx)("p",{className:"text-sm mb-2",children:e.description}),(0,_t.jsxs)("div",{className:"flex items-center space-x-4 text-xs",children:[(0,_t.jsxs)("span",{children:["Target: ",e.target]}),(0,_t.jsxs)("span",{children:["Source: ",e.source]}),(0,_t.jsx)("span",{children:new Date(e.createdAt).toLocaleString()})]})]})]}),(0,_t.jsxs)("div",{className:"flex space-x-2",children:[(0,_t.jsx)("button",{onClick:()=>m(e),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded transition-colors duration-200",children:"View"}),"Active"===e.status&&(0,_t.jsx)("button",{onClick:()=>y(e._id),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded transition-colors duration-200",children:"Resolve"})]})]})},e._id);var t}))})})]}),f&&(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-h-96 overflow-y-auto transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Alert Details"}),(0,_t.jsxs)("div",{className:"space-y-3",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Type:"}),(0,_t.jsx)("p",{className:"text-gray-900 dark:text-white",children:f.type})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Severity:"}),(0,_t.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat(v(f.severity)),children:f.severity})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description:"}),(0,_t.jsx)("p",{className:"text-gray-900 dark:text-white",children:f.description})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target:"}),(0,_t.jsx)("p",{className:"text-gray-900 dark:text-white",children:f.target})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Created:"}),(0,_t.jsx)("p",{className:"text-gray-900 dark:text-white",children:new Date(f.createdAt).toLocaleString()})]})]}),(0,_t.jsxs)("div",{className:"flex space-x-3 mt-6",children:["Active"===f.status&&(0,_t.jsx)("button",{onClick:()=>y(f._id),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded font-medium transition-colors duration-200",children:"Resolve Alert"}),(0,_t.jsx)("button",{onClick:()=>m(null),className:"flex-1 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 py-2 rounded font-medium transition-colors duration-200",children:"Close"})]})]})})]})})},xm=()=>{var e,t,r,n,s,i,o,l,c,d,u,f,m;const[p,g]=(0,a.useState)([]),[x,y]=(0,a.useState)([]),[b,v]=(0,a.useState)(null),[w,k]=(0,a.useState)(null),[j,N]=(0,a.useState)(!0),[S,_]=(0,a.useState)("all"),[C,E]=(0,a.useState)({}),[A,P]=(0,a.useState)({}),[T,R]=(0,a.useState)(null),[O,M]=(0,a.useState)({from:"",to:""}),[L,D]=(0,a.useState)(""),[I,F]=(0,a.useState)({totalReviews:0,authenticatedPercentage:0,suspiciousPercentage:0,fakePercentage:0,averageScore:0,trustScoreImpact:0,dailyTrends:[]});(0,a.useEffect)((()=>{B();const e=new WebSocket("https://trustlens-production-backend.up.railway.app/api".replace("/api","").replace("http://","ws://").replace("https://","wss://"));return e.onopen=()=>{},e.onmessage=e=>{try{const t=JSON.parse(e.data);"review_status_update"===t.type?(z("\ud83d\udce1 Review ".concat(t.reviewId," status updated to ").concat(t.newStatus),"success"),B()):"bulk_operation_complete"===t.type&&(z("\ud83d\udce1 Bulk operation completed: ".concat(t.successful," successful, ").concat(t.failed," failed"),"success"),B())}catch(t){console.error("Error parsing WebSocket message:",t)}},e.onclose=()=>{},e.onerror=e=>{console.error("WebSocket error:",e)},()=>{e.close()}}),[]);const z=function(e){R({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>R(null)),4e3)},B=async()=>{try{N(!0);const e=((await bs.getReviews()).data||[]).slice(0,20);g(e);const t=e.map((async e=>{try{if(!e||!e._id)return null;const t=await bs.getEnhancedReviewSummary(e._id);return h({reviewId:e._id},t.data)}catch(t){return console.error("Error fetching auth data for review:",null===e||void 0===e?void 0:e._id,t),null}})),r=(await Promise.all(t)).filter((e=>null!==e&&e.reviewId));y(r);const n=r.map((e=>e.reviewId));for(const s of e)s&&s._id&&!n.includes(s._id)&&await W(s._id);V(r),await H(),N(!1)}catch(e){console.error("Error fetching review data:",e),z("Failed to load review data. Please try again.","error"),g([]),y([]),N(!1)}},V=e=>{const t={total:e.length,authentic:e.filter((e=>"authentic"===e.status)).length,suspicious:e.filter((e=>"suspicious"===e.status)).length,fake:e.filter((e=>"fake"===e.status)).length,investigating:e.filter((e=>"requires_investigation"===e.status)).length,avgScore:e.length>0?Math.round(e.reduce(((e,t)=>{var r;return e+(null!==(r=t.authenticityScore)&&void 0!==r?r:100)}),0)/e.length):0};E(t),U(e)},U=e=>{const t=e.length;if(0===t)return void F({totalReviews:0,authenticatedPercentage:0,suspiciousPercentage:0,fakePercentage:0,averageScore:0,trustScoreImpact:0,dailyTrends:[]});const r=e.filter((e=>"authentic"===e.status)).length,n=e.filter((e=>"suspicious"===e.status)).length,s=e.filter((e=>"fake"===e.status)).length,a=Math.round(e.reduce(((e,t)=>{var r;return e+(null!==(r=t.authenticityScore)&&void 0!==r?r:100)}),0)/t),i=Math.round(r/t*100-s/t*100);F({totalReviews:t,authenticatedPercentage:Math.round(r/t*100),suspiciousPercentage:Math.round(n/t*100),fakePercentage:Math.round(s/t*100),averageScore:a,trustScoreImpact:i,dailyTrends:[]})},H=async()=>{try{const e=(await bs.getDailyReviewStats()).data;F((t=>h(h({},t),{},{dailyTrends:e})))}catch(e){console.error("Error fetching daily trends:",e),F((e=>h(h({},e),{},{dailyTrends:[]})))}},W=async e=>{try{var t,r;P((t=>h(h({},t),{},{[e]:!0})));const n={ipAddress:"192.168.1.1",deviceFingerprint:"browser_fingerprint",browserInfo:"Chrome/91.0"},s=(await bs.authenticateReview(e,n)).data;z("Authentication completed! Score: ".concat(null!==(t=s.authenticityScore)&&void 0!==t?t:100,"%, Status: ").concat(s.status),(null!==(r=s.authenticityScore)&&void 0!==r?r:100)>70?"success":"warning"),await B()}catch(n){console.error("Error authenticating review:",n),z("Failed to authenticate review. Please try again.","error")}finally{P((t=>h(h({},t),{},{[e]:!1})))}},q=p.filter((e=>{const t=x.find((t=>t&&t.reviewId===e._id));if("all"!==S&&(!t||t.status!==S))return!1;if(L){var r,n,s;const t=L.toLowerCase(),a=null===(r=e.reviewer)||void 0===r||null===(n=r.username)||void 0===n?void 0:n.toLowerCase().includes(t),i=null===(s=e.content)||void 0===s?void 0:s.toLowerCase().includes(t);if(!a&&!i)return!1}if(O.from||O.to){const t=new Date(e.createdAt||e.date);if(O.from&&t<new Date(O.from))return!1;if(O.to&&t>new Date(O.to))return!1}return!0}));return j?(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white",children:"Loading Enhanced Review Authentication..."})}):(0,_t.jsx)("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,_t.jsxs)("div",{className:"mb-8",children:[(0,_t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Enhanced Review Authentication"}),(0,_t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Multi-step verification and credibility assessment for reviews"})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8 transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Filters & Search"}),(0,_t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status:"}),(0,_t.jsxs)("select",{value:S,onChange:e=>{_(e.target.value)},className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,_t.jsx)("option",{value:"all",children:"All Reviews"}),(0,_t.jsx)("option",{value:"authentic",children:"Authentic"}),(0,_t.jsx)("option",{value:"suspicious",children:"Suspicious"}),(0,_t.jsx)("option",{value:"fake",children:"Fake"}),(0,_t.jsx)("option",{value:"requires_investigation",children:"Under Investigation"})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search:"}),(0,_t.jsx)("input",{type:"text",value:L,onChange:e=>{D(e.target.value)},placeholder:"Search reviewer or content...",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"From Date:"}),(0,_t.jsx)("input",{type:"date",value:O.from,onChange:e=>{M((t=>h(h({},t),{},{from:e.target.value})))},className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"To Date:"}),(0,_t.jsx)("input",{type:"date",value:O.to,onChange:e=>{M((t=>h(h({},t),{},{to:e.target.value})))},className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,_t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,_t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Showing ",q.length," of ",p.length," reviews"]}),(0,_t.jsx)("button",{onClick:()=>{_("all"),D(""),M({from:"",to:""})},className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Clear All Filters"})]})]}),(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:(0,_t.jsx)("div",{className:"flex items-center space-x-4",children:(0,_t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Review Authentication Management"})})}),(0,_t.jsx)("div",{className:"p-6",children:0===q.length?(0,_t.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[(0,_t.jsx)("p",{children:"No reviews found with current filters."}),(0,_t.jsx)("p",{className:"text-sm",children:"Try adjusting your filters or authenticate more reviews!"})]}):(0,_t.jsx)("div",{className:"space-y-4",children:q.map((e=>{var t,r,n,s;if(!e||!e._id)return null;const a=x.find((t=>t&&t.reviewId===e._id));return(0,_t.jsx)("div",{className:"rounded-lg p-4 transition-colors duration-200 ".concat((e=>{switch(e){case"authentic":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700";case"suspicious":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-700";case"fake":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-700";case"requires_investigation":return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-700";default:return"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-600"}})(null===a||void 0===a?void 0:a.status)),children:(0,_t.jsx)("div",{className:"flex items-start justify-between",children:(0,_t.jsx)("div",{className:"flex items-start space-x-3 flex-1",children:(0,_t.jsxs)("div",{className:"flex-1",children:[(0,_t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,_t.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:["Review by ",(null===(t=e.reviewer)||void 0===t?void 0:t.username)||"Unknown"]}),(0,_t.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Rating: ",e.rating,"/5"]})]}),(0,_t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:e.content}),a?(0,_t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Auth Score:"}),(0,_t.jsxs)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:[null!==(r=a.authenticityScore)&&void 0!==r?r:100,"%"]}),(null===(n=a.aiAnalysisData)||void 0===n?void 0:n.modelUsed)&&(0,_t.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(0,_t.jsxs)("div",{children:["Model: ",a.aiAnalysisData.modelUsed]}),(null===(s=a.aiAnalysisData)||void 0===s?void 0:s.reasoning)&&(0,_t.jsx)("div",{children:a.aiAnalysisData.reasoning})]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),(0,_t.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs font-medium ".concat((o=a.status,{authentic:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",suspicious:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",fake:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",requires_investigation:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200"}[o]||"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200")),children:a.status})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Workflow:"}),(0,_t.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs font-medium ".concat((i=a.workflowStage,{automated_screening:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",community_review:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",expert_validation:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200",final_approval:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",completed:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}[i]||"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200")),children:a.workflowStage})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Fraud Indicators:"}),(0,_t.jsx)("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:a.fraudIndicators})]})]}):(0,_t.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["No authentication record found",(0,_t.jsx)("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:'\ud83d\udca1 Click "Authenticate" button to create an authentication record and enable manual review actions'})]}),a&&(0,_t.jsx)("div",{className:"flex flex-wrap gap-2 mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:(0,_t.jsxs)("button",{onClick:()=>(async e=>{try{P((t=>h(h({},t),{},{["details_".concat(e)]:!0})));const t=(await bs.getAuthenticationDetails(e)).data;k(t)}catch(t){console.error("Error fetching auth details:",t),z("Failed to load authentication details. Please try again.","error")}finally{P((t=>h(h({},t),{},{["details_".concat(e)]:!1})))}})(e._id),disabled:A["details_".concat(e._id)],className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white text-sm rounded transition-colors duration-200 flex items-center space-x-1",children:[A["details_".concat(e._id)]&&(0,_t.jsx)("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin"}),(0,_t.jsx)("span",{children:"View Details"})]})})]})})})},e._id);var i,o}))})})]}),w&&(0,_t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,_t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-h-96 overflow-y-auto transition-colors duration-200",children:[(0,_t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Authentication Details"}),(0,_t.jsxs)("div",{className:"space-y-3",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"\ud83e\udde0 AI Authenticity Score:"}),(0,_t.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[w.overallAuthenticationScore||w.authenticityScore||0,"%"]}),(0,_t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Status: ","authentic"===(null===(e=w.finalDecision)||void 0===e?void 0:e.status)?"Authentic":"suspicious"===(null===(t=w.finalDecision)||void 0===t?void 0:t.status)?"Suspicious":"fake"===(null===(r=w.finalDecision)||void 0===r?void 0:r.status)?"Fake":"Under Investigation"]})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"AI Analysis Steps:"}),(0,_t.jsx)("div",{className:"space-y-2",children:null===(n=w.authenticationSteps)||void 0===n?void 0:n.map(((e,t)=>(0,_t.jsxs)("div",{className:"border-l-2 border-gray-200 pl-3",children:[(0,_t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,_t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.step.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))}),(0,_t.jsxs)("span",{className:"px-2 py-1 text-xs rounded ".concat("passed"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e.status," (",e.score||0,"%)"]})]}),e.aiAnalysis&&(0,_t.jsxs)("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:[(0,_t.jsxs)("div",{children:["Model: ",e.aiAnalysis.modelUsed]}),(0,_t.jsxs)("div",{children:["Reasoning: ",e.aiAnalysis.reasoning]})]})]},t)))})]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Credibility Factors:"}),(0,_t.jsxs)("div",{className:"text-sm space-y-1",children:[(0,_t.jsxs)("div",{children:["Purchase Verified: ",null!==(s=w.credibilityFactors)&&void 0!==s&&null!==(i=s.purchaseVerification)&&void 0!==i&&i.verified?"Yes":"No"]}),(0,_t.jsxs)("div",{children:["Review Consistency: ",(null===(o=w.credibilityFactors)||void 0===o||null===(l=o.reviewerHistory)||void 0===l?void 0:l.reviewConsistency)||0,"%"]}),(0,_t.jsxs)("div",{children:["Content Quality: ",(null===(c=w.credibilityFactors)||void 0===c||null===(d=c.contentQuality)||void 0===d?void 0:d.detailLevel)||0,"%"]})]})]}),(null===(u=w.fraudIndicators)||void 0===u?void 0:u.length)>0&&(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"\ud83d\udea8 AI-Detected Risk Factors:"}),(0,_t.jsx)("div",{className:"space-y-1",children:w.fraudIndicators.map(((e,t)=>(0,_t.jsxs)("div",{className:"text-sm text-red-600 dark:text-red-400 border-l-2 border-red-200 pl-2",children:[(0,_t.jsxs)("div",{className:"font-medium",children:["\u2022 ",e.indicator.replace(/_/g," ")]}),(0,_t.jsxs)("div",{className:"text-xs",children:["Severity: ",e.severity," | Confidence: ",e.confidence,"%"]}),(0,_t.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]},t)))})]}),(null===(f=w.finalDecision)||void 0===f?void 0:f.reasoning)&&(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"\ud83e\udde0 AI Decision Reasoning:"}),(0,_t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 p-2 rounded",children:w.finalDecision.reasoning.map(((e,t)=>(0,_t.jsxs)("div",{children:["\u2022 ",e]},t)))})]}),(null===(m=w.authenticationSteps)||void 0===m?void 0:m.some((e=>e.linguisticAnalysis)))&&(0,_t.jsxs)("div",{children:[(0,_t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"\ud83d\udd2c Linguistic Analysis:"}),w.authenticationSteps.filter((e=>e.linguisticAnalysis)).map(((e,t)=>{var r,n,s,a,i;return(0,_t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900 p-3 rounded mt-2",children:[(0,_t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,_t.jsxs)("div",{children:["Word Count: ",e.linguisticAnalysis.wordCount]}),(0,_t.jsxs)("div",{children:["Lexical Diversity: ",(100*e.linguisticAnalysis.lexicalDiversity).toFixed(1),"%"]}),(0,_t.jsxs)("div",{children:["Avg Sentence Length: ",null===(r=e.linguisticAnalysis.avgSentenceLength)||void 0===r?void 0:r.toFixed(1)]}),(0,_t.jsxs)("div",{children:["Sentence Variance: ",null===(n=e.linguisticAnalysis.sentenceVariance)||void 0===n?void 0:n.toFixed(1)]}),(0,_t.jsxs)("div",{children:["Readability Score: ",null===(s=e.linguisticAnalysis.readabilityScore)||void 0===s?void 0:s.toFixed(1)]}),(0,_t.jsxs)("div",{children:["Emotional Words: ",(null===(a=e.linguisticAnalysis.emotionalWords)||void 0===a?void 0:a.length)||0]})]}),(null===(i=e.linguisticAnalysis.tfidfTopTerms)||void 0===i?void 0:i.length)>0&&(0,_t.jsxs)("div",{className:"mt-2",children:[(0,_t.jsx)("span",{className:"font-medium",children:"\ud83d\udd11 Key Terms: "}),(0,_t.jsx)("span",{className:"text-xs",children:e.linguisticAnalysis.tfidfTopTerms.join(", ")})]}),e.linguisticAnalysis.posDistribution&&(0,_t.jsxs)("div",{className:"mt-2 text-xs",children:[(0,_t.jsx)("span",{className:"font-medium",children:"\ud83d\udcda Grammar: "}),"Nouns: ",e.linguisticAnalysis.posDistribution.nouns,", Verbs: ",e.linguisticAnalysis.posDistribution.verbs,", Adjectives: ",e.linguisticAnalysis.posDistribution.adjectives]})]},t)}))]})]}),(0,_t.jsx)("div",{className:"flex space-x-3 mt-6",children:(0,_t.jsx)("button",{onClick:()=>k(null),className:"flex-1 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 py-2 rounded font-medium transition-colors duration-200",children:"Close"})})]})}),T&&(0,_t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-fade-in",children:(0,_t.jsx)("div",{className:"max-w-sm w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 ".concat("error"===T.type?"border-l-4 border-red-500":"warning"===T.type?"border-l-4 border-yellow-500":"border-l-4 border-green-500"),children:(0,_t.jsx)("div",{className:"p-4",children:(0,_t.jsxs)("div",{className:"flex items-start",children:[(0,_t.jsx)("div",{className:"flex-shrink-0",children:"error"===T.type?(0,_t.jsx)("div",{className:"w-5 h-5 text-red-400",children:"\u274c"}):"warning"===T.type?(0,_t.jsx)("div",{className:"w-5 h-5 text-yellow-400",children:"\u26a0\ufe0f"}):(0,_t.jsx)("div",{className:"w-5 h-5 text-green-400",children:"\u2705"})}),(0,_t.jsx)("div",{className:"ml-3 w-0 flex-1",children:(0,_t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.message})}),(0,_t.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,_t.jsxs)("button",{className:"bg-white dark:bg-gray-800 rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none",onClick:()=>R(null),children:[(0,_t.jsx)("span",{className:"sr-only",children:"Close"}),(0,_t.jsx)("div",{className:"w-5 h-5",children:"\u2715"})]})})]})})})})]})})},ym=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!0),[s,i]=(0,a.useState)("dashboard");fe();(0,a.useEffect)((()=>{o()}),[]);const o=()=>{try{const e=localStorage.getItem("token"),r=localStorage.getItem("role");if(e&&"admin"===r)try{const r=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3);r.exp&&r.exp>n&&"admin"===r.role?t(!0):(localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("adminAuth"),t(!1))}catch(km){localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("adminAuth"),t(!1)}else t(!1)}catch(km){localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("adminAuth"),t(!1)}finally{n(!1)}};return r?(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),(0,_t.jsx)("div",{className:"text-xl text-gray-900 dark:text-white",children:"Verifying Admin Access..."})]})}):e?(0,_t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[(0,_t.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:(0,_t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,_t.jsx)("div",{className:"flex items-center",children:(0,_t.jsx)("div",{children:(0,_t.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"TRUSTLENS Admin"})})}),(0,_t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,_t.jsx)(At,{}),(0,_t.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("adminAuth"),t(!1)},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200",children:"Logout"})]})]})})}),(0,_t.jsx)("nav",{className:"bg-white dark:bg-gray-800 shadow-sm transition-colors duration-200",children:(0,_t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,_t.jsx)("div",{className:"flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:""},{id:"analytics",name:"TrustDNA",icon:""},{id:"product-tracker",name:"Product Tracker",icon:""},{id:"review-auth",name:"Review Auth",icon:""},{id:"marketplace",name:"Marketplace",icon:""},{id:"predictions",name:"Prediction Market",icon:""},{id:"alerts",name:"Alert System",icon:""},{id:"community",name:"Community Validation",icon:""}].map((e=>(0,_t.jsx)("button",{onClick:()=>i(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat(s===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:e.name},e.id)))})})}),(0,_t.jsx)("main",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:(()=>{switch(s){case"dashboard":default:return(0,_t.jsx)(cm,{});case"analytics":return(0,_t.jsx)(um,{});case"product-tracker":return(0,_t.jsx)(pm,{});case"review-auth":return(0,_t.jsx)(xm,{});case"marketplace":return(0,_t.jsx)(dm,{});case"predictions":return(0,_t.jsx)(hm,{});case"alerts":return(0,_t.jsx)(gm,{});case"community":return(0,_t.jsx)(fm,{})}})()})]}):(0,_t.jsx)(Re,{to:"/admin/login",replace:!0})},bm=()=>{const e=fe().pathname.startsWith("/admin");return(0,_t.jsxs)(_t.Fragment,{children:[!e&&(0,_t.jsx)(Pt,{}),(0,_t.jsxs)(Le,{children:[(0,_t.jsx)(Oe,{path:"/",element:(0,_t.jsx)(qt,{})}),(0,_t.jsx)(Oe,{path:"/customer/signup",element:(0,_t.jsx)(ws,{})}),(0,_t.jsx)(Oe,{path:"/customer/login",element:(0,_t.jsx)(ks,{})}),(0,_t.jsx)(Oe,{path:"/customer/dashboard",element:(0,_t.jsx)(js,{})}),(0,_t.jsx)(Oe,{path:"/customer/products",element:(0,_t.jsx)(Ns,{})}),(0,_t.jsx)(Oe,{path:"/customer/products/:productId",element:(0,_t.jsx)(Ps,{})}),(0,_t.jsx)(Oe,{path:"/customer/orders",element:(0,_t.jsx)(Es,{})}),(0,_t.jsx)(Oe,{path:"/vendor/signup",element:(0,_t.jsx)(Ts,{})}),(0,_t.jsx)(Oe,{path:"/vendor/login",element:(0,_t.jsx)(Rs,{})}),(0,_t.jsx)(Oe,{path:"/vendor/dashboard",element:(0,_t.jsx)(Lh,{})}),(0,_t.jsx)(Oe,{path:"/admin/login",element:(0,_t.jsx)(Dh,{})}),(0,_t.jsx)(Oe,{path:"/admin/dashboard",element:(0,_t.jsx)(ym,{})}),(0,_t.jsx)(Oe,{path:"/admin/*",element:(0,_t.jsx)(ym,{})}),(0,_t.jsx)(Oe,{path:"*",element:(0,_t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsxs)("div",{className:"text-center",children:[(0,_t.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd0d"}),(0,_t.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Page Not Found"}),(0,_t.jsx)("div",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The page you're looking for doesn't exist."}),(0,_t.jsx)("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go Home"})]})})})]})]})};const vm=function(){return(0,_t.jsx)(Et,{children:(0,_t.jsx)("div",{className:"App min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200",children:(0,_t.jsx)(gt,{children:(0,_t.jsx)(bm,{})})})})},wm=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,453)).then((t=>{let{getCLS:r,getFID:n,getFCP:s,getLCP:a,getTTFB:i}=t;r(e),n(e),s(e),a(e),i(e)}))};i.createRoot(document.getElementById("root")).render((0,_t.jsx)(a.StrictMode,{children:(0,_t.jsx)(vm,{})})),wm()})();
//# sourceMappingURL=main.ce8896fa.js.map